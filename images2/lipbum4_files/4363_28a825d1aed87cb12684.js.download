(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4363],{2556:function(e){e.exports={errorTip:"_8tjbVzcs",iconWrap:"_1__CrPWY",icon:"_1-RP6Q-y"}},35113:function(e){e.exports={estimate:"_3ls1slGp",estimateText:"_28Mi8iup",estimatesSubtitle:"_3IxALfcn",estimateTitle:"_1skiCBca",estimateArrow:"_1bVr0dyf",table:"_22pX4LX1",column:"_2bMpIvGP",esLeft:"_2AXfKYGy",progress:"_2oSVAneY",progressBar:"bl9IJIK8",esRight:"_2VlQAb7M"}},98209:function(e){e.exports={inputGroup:"UK8QupsN",clearInput:"_3hHzcjhc",mailContainer:"wZ6CZe55",mailBox:"_2IwPUru7",mailItem:"_28047Tyh",on:"_36gJ3ANX",account:"_3i5l6KgC",mailSuffix:"_2fs1HZ92"}},80930:function(e){e.exports={wrap:"_2vCv8hMP",head:"_1UyxUkMe",emptyWrap:"Sd4JwKlV",empty:"nhUHjrWR",emptyDesc:"_2Cdn1cna"}},37584:function(e){e.exports={title:"_1GVURVFa",icon:"_2ZNLxACI",sizePupup:"_33Ytu5h_",content:"_239NeRYu",mail:"_1bn1UOWB",btn:"_1TwUnDgU"}},74573:function(e){e.exports={popup:"_3mhcXcmK",codePanelContainer:"_2yB1Xvjf",header:"_3sChSRYb",sendTo:"VjPWi6Vv",mail:"_1DsJhtEm",codeInputContainer:"_3cIWe-np",inputBoxCursor:"kVw5HhPc",cursorBlink:"_1h8nwL24",codeStyle:"_1aAj1qlE",codeInput:"_3HrQ1Zij",sendCode:"_3OQMC43u",timerSendCode:"_2QUkbFxt",resendCode:"_2bdd_v11",errorMsg:"_3A14vrM_",warningIcon:"_395lf54j"}},76988:function(e){e.exports={container:"_1lhQHvup",core:"_2oHKUXxN",header:"_15OqpuQi",none:"_1u-5UUGa",body:"_2nrpyooI",topTitle:"_22X-4WPd",successIcon:"_2ZniRu7B",successDesc:"_1ud-O-DR",closeIcon:"Cyjt3RS_",desc:"_3W4XB5qN",mail:"_27aZ0LMR",emailTitle:"_3lkhw4-8",emailInputWrap:"n017pjFr",submit:"_21xrUNr0",line:"_2Izyb0Jh",sendTo:"_1efgk-eA"}},41177:function(e){e.exports={globaleText:"_27pKplA0"}},54198:function(e){e.exports={dialogWrap:"_2qm-Tftk",scroll:"_2mA2u74U",empty:"_147_Lhp7",similarTitle:"_1dA8m5lq"}},61708:function(e){e.exports={dialogWrap:"_3Rsl6Owq",scroll:"HVCrPqZh",empty:"_26Kb3O1C",globaleText:"_161Jl0Eq",scoreRate:"_3rgB-zke"}},92129:function(e){e.exports={headerWarp:"_3qyMpYnn"}},13742:function(e){e.exports={wrap:"_3jKq3hMX",pageWrap:"_3bznalLy",left:"_1yYdNZhh",scoreText:"_2fJoIUUF",pointer:"eGaxnL4V",reviews:"_2DS4do0d",right:"_3bbiUwx6",coreItem:"TpeHroUE",progressWarp:"_4RrL1Qjd",progress:"_2KE4zlSD",progressBar:"_3xPXxwzh",percentStr:"_17_P26tO",activeAnimation:"_1IvElnoT"}},22560:function(){},8160:function(e){e.exports={empty:"_2jzsppBG",svg:"_1IS-Rf1t"}},81490:function(e){e.exports={wrap:"_2mjWF32-",content:"_2O3BrzXA",head:"sTj4Q8Du",container:"_2DLyGMWi",contentText:"_1QWnKP1R",confirmBtn:"zIJokLxS",activeAnimation:"_2xGq6-rA"}},36162:function(e){e.exports={noGoodsReviewTips:"-dA9Cd4i",noGoodsReviewTipTitle:"_1H7Z2wHW",noGoodsReviewTipContent:"_1XQNlyup",similarReviews:"BHlaNXE5",noGoodsItemTipsArrow:"_19kBTkhu",arrowUp:"_3ioR99d4",borderMagin:"_2JTv_UQ4",showBottomBorder:"_1D_g3xwf",showSimilarReviews:"_3Z45C1lp"}},2635:function(e){e.exports={warp:"LHcdAhlF",overlayWarp:"_1ySfVZ3V",totalText:"_1Ydnyl5N",text:"_3myjvBTf",progressWarp:"fVyLT8PK",progress:"_1YFYddtz",progressBar:"rCImaCi3",percentStr:"_2a9dGWWp",iconWarp:"_7aGToHrD",icon:"_3IX7qe-e",isSelected:"_1AfNvR0l",isSelectedProgress:"_2hLwhUpm",gridItem:"_1l4tJdGW",hover:"_21KRz-jw"}},58231:function(e){e.exports={reviewListWrapper:"_46rO8bke"}},33765:function(e){e.exports={moreWarp:"_2nOneDag",sort:"_1KBsk92T",twoLine:"_3DXSW5jb"}},60446:function(e){e.exports={wrap:"_2nDhj6Re",content:"_2cxNNkqt",left:"_3_dqy1vG",desc:"_2kRvcPo8",label:"FOqavBW2",right:"_2zgqsYP0",progress:"_1cbiYeOT",progressBar:"_2BWB-ruh",num:"_32XNKLyl",progressV2:"_2QEXmKe9",progressItem:"dndmFkhW",labelV2:"S1p3AFfO",clothfitTip:"_2DvYsffD"}},3187:function(e){e.exports={sortWrap:"_2oK2hVAW",noLableSort:"lPVkoeBK",staticSort:"_3u4UukHA",selectSort:"_1hzRxS1N",noPointer:"bUNGfyPM",arrow:"_1FVKYgUY",boldWrap:"_3Jg7lZ-O",line:"_3JO1PAiM",splitSortWrap:"_3fqYZg3I",sortLable:"_3T27k1hG",sortSelect:"_3ehNToXF",sortLine:"_2mdAyTY_",recommendRich:"flxlMpAn",splitTagRecommend:"FyJe6A4H",yiwenIcon:"_15byM1KM",mostRencent:"_23HuOazG",sortPopupContent:"_8mo8sLHg",tabLine:"_251Sp8EL",activeAnimation:"_3tskuXnn"}},15471:function(e){e.exports={reviewTabItem:"_1OdXCJ1j",active:"_2xBci-uL",topContainer:"_3SkH3F-o",top:"_2ay-QyCM",topLabelSeperator:"P2m5wTAm",topLable:"KcrWz8z4",isGcTab:"DGYp5Wbe",subtitleText:"yLkMleNW"}},50874:function(e){e.exports={simillarReviewListWrap:"_31Bp8qoD",simillarTitle:"_22LkdKNs",header:"S2LleQUV",title:"_2qwtGT3l",shcdowIcon:"bGMn8_vp",linkRewiew:"_1BVr64uA",activeAnimation:"_2_dkc4hJ"}},32640:function(e){e.exports={simillarReviewListWrap:"_3Y7BPb1k",similarTitle:"_21Q-lZpd"}},91950:function(e){e.exports={topWrap:"_1AFVb_qh",top:"UadtlhRd",title:"pkFBdEpJ",line:"_12qnGlQR",score:"dkJHVAVx",scoreText:"_377jlZDR",startCn:"uziolf7-",activeStar:"_2LjjmduM",linkRewiew:"_25XsRCLp",afterBtnWarp:"_1xLJgJFf",rightArrowIcon:"_1Xfhe9ma",providerRating:"_19ME6rxN",titleScoreWrap:"o4_SJXJJ",richText:"_1yKgvogg"}},81482:function(e){e.exports={wrap:"_3tM09D8L",titleWrap:"_3wpQA-lT",baseLine:"_22rziQFH"}},99759:function(e,t,i){"use strict";i.d(t,{r:function(){return re}});var n=i(33514),a=i(32485),r=i.n(a),o=i(63815),s=i(44798),l=i(34477),c=i(95789),m=i(97582),u=i(7638),d=i(76280),p=i(10147),h=i(1528),v=i(59661),g=i(52248),w=i(76475),f=i(91828),b=i(49318),S=i(80907),I=i(2556),E=i.n(I);const y=e=>{let{error:t}=e;return t?n.createElement("div",{className:E().errorTip},n.createElement("span",{className:E().iconWrap},n.createElement(g.JE,{className:E().icon})),n.createElement("span",null,t)):null};var L=i(14825),x=i(35113),_=i.n(x);const A=(0,n.memo)((e=>{let{percent:t}=e;return n.createElement("span",{className:_().progress},n.createElement("i",{className:_().progressBar,style:{width:`${t}%`}}))})),R=e=>{let{data:t,trackingInfo:i}=e;const[a,r]=(0,n.useState)(!1),{title:o,content:s,restockTimeDistributed:l}=t;return l?n.createElement("div",{className:_().estimate},!!o&&n.createElement("div",{className:_().estimateTitle},o),!!s&&n.createElement(S.Ay,{page_el_sn:205636,useClick:!1,payload:i},n.createElement("div",{className:_().estimatesSubtitle,onClick:()=>{(0,L.r_)({page_el_sn:205636,...i}),!a&&r(!0)}},s,!a&&n.createElement(g.hu,{direction:"bottom",className:_().estimateArrow}))),a&&n.createElement("table",{className:_().table},l.map(((e,t)=>{const{name:i,percentage:a,percentageStr:r}=e||{};if(!i||"number"!=typeof a)return null;const o=(a/100).toFixed(2),s=r||`${o}%`;return n.createElement("tr",{className:_().column,key:t},n.createElement("td",{className:_().esLeft},i),n.createElement("td",null,n.createElement(A,{percent:o})),n.createElement("td",{className:_().esRight},s))})))):null};var C=(0,n.memo)(R),T=i(14242);const P=["@gmail.com","@yahoo.com","@hotmail.com","@aol.com","@outlook.com","@icloud.com","@live.com","@mac.com","@msn.com","@zoho.com","@mail.com","@gmx.com","@fastmail.com","@gawab.com","@protonmail.com"];var N=e=>n.createElement("svg",(0,T.A)({xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 1024 1024"},e),n.createElement("path",{d:"M512 149.3c212.1 0 384 171.9 384 384 0 212.1-171.9 384-384 384-212.1 0-384-171.9-384-384 0-212.1 171.9-384 384-384z m133.3 250.8c-9.4-9.4-24.2-10.4-34.7-2.9l-3.3 2.9-95.3 95.3-95.3-95.3-3.3-2.9c-10.5-7.5-25.2-6.6-34.7 2.9-9.4 9.4-10.4 24.2-2.8 34.6l2.8 3.3 95.3 95.3-95.3 95.3-2.8 3.4c-7.5 10.5-6.6 25.2 2.8 34.6 9.4 9.4 24.2 10.4 34.7 2.8l3.3-2.8 95.3-95.3 95.3 95.3 3.3 2.8c10.5 7.5 25.2 6.6 34.7-2.8 9.4-9.4 10.4-24.2 2.8-34.6l-2.8-3.4-95.3-95.3 95.3-95.3 2.8-3.3c7.5-10.5 6.6-25.2-2.8-34.6z"})),k=i(98209),M=i.n(k);const D=e=>{const{type:t="text",containerClsName:i,onChange:a,showClear:o=!0,onBlur:s,...l}=e,c=(0,n.useRef)(),m=(0,n.useRef)(null),[u,d]=(0,n.useState)(o),[p,h]=(0,n.useState)(!1),[v,g]=(0,n.useState)(""),[w,f]=(0,n.useState)(0),[b,S]=(0,n.useState)([]);(0,n.useEffect)((()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&S([])};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]);const I=(0,n.useCallback)((e=>{const t=`${v}${e}`;g(t),a(t),S([]),c.current&&(c.current.value=t)}),[v,g,a,S]);(0,n.useEffect)((()=>{let e,t=0;const i=b.length;return i&&(f(0),e=e=>{13===e.keyCode?I(b[t]):38===e.keyCode?(t=t-1<0?i-1:t-1,f(t),m.current?.scrollTo(0,38*t)):40===e.keyCode&&(t=t+1>=i?0:t+1,f(t),m.current?.scrollTo(0,38*t))}),document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[b,I,f]);const E=(0,n.useCallback)((e=>{const t=e.target?.value||"";if(d(t?.length>0&&o),a(t),g(t),t){const e=t.lastIndexOf("@");if(e<0)S(P);else if("@"===t||e!==t.indexOf("@"))S([]);else{const i=t.slice(e);S(P.filter((e=>e.indexOf(i)>=0)).map((e=>e.slice(i.length))))}}else S([])}),[a]),y=(0,n.useCallback)((e=>{e?.preventDefault(),c?.current&&(c.current.value=""),d(!1),g(""),a(""),S([])}),[a,c,S,g]),x=(0,n.useCallback)((()=>{(0,L.b9)({op:"click",page_el_sn:201594}),h(!0),d(v?.length>0&&o)}),[]),_=v&&!!b.length;return n.createElement("div",{className:r()(M().inputGroup,i,{[M().inputOnFocus]:p})},n.createElement("input",(0,T.A)({ref:c,type:t,onChange:E},l,{onFocus:x,onBlur:()=>{h(!1),s&&s()}})),u&&p&&n.createElement(N,{className:M().clearInput,onMouseDown:y}),_&&n.createElement("div",{className:M().mailContainer},n.createElement("ul",{className:M().mailBox,ref:m},b.map(((e,t)=>n.createElement("li",{key:e,className:r()(M().mailItem,{[M().on]:t===w}),onClick:()=>I(e)},n.createElement("span",{className:M().account},v),n.createElement("span",{className:M().mailSuffix},e)))))))};var z=(0,n.memo)(D),F=i(27114),H=i(54403),B=i(23450),q=i(57610),O=i(80930),G=i.n(O);function W(){const{t:e}=(0,m.B)("bec-fe.web-sku-selector"),{data:t={},loadMoreData:i,isInit:a}=(0,n.useContext)(w.oU),{goodsList:r,hasMore:o}=t;return o||r?.length||a.current?n.createElement("div",{className:G().wrap},n.createElement("div",{className:G().head},n.createElement("span",null,t.title)),n.createElement(B.A,{datasource:r,hasMore:o,loadMoreData:i,renderItem:q.A,showLoading:!1,loadMoreText:e("view_more")||"View more",bottomWrapperClass:G().bottomBtn})):n.createElement("div",{className:G().emptyWrap},n.createElement(H.A,{className:G().empty,customButton:n.createElement("div",{className:G().emptyDesc},e("similarEmpty")),imageConfigs:{svg:n.createElement(F.A,{style:{width:140,height:140}}),width:"140px",height:"140px"}}))}var V=i(37584),U=i.n(V);const j=e=>{let{email:t,onClose:i}=e;const{t:a}=(0,m.B)("bec-fe.web-sku-selector",{keyPrefix:"Success"});return n.createElement(v.Ay,{onClick:i,useSplitBg:!0},n.createElement("div",{className:U().sizePupup},n.createElement("div",{className:U().title},n.createElement(g.ib,{path:"M512 0c282.8 0 512 229.2 512 512 0 282.8-229.2 512-512 512-282.8 0-512-229.2-512-512 0-282.8 229.2-512 512-512z m0 42.1c-259.5 0-469.9 210.4-469.9 469.9 0 259.5 210.4 469.9 469.9 469.9 259.5 0 469.9-210.4 469.9-469.9 0-259.5-210.4-469.9-469.9-469.9z m263 310.5l1.5 1.4c7.9 7.8 8.4 20.2 1.6 28.7l-1.4 1.5-319.4 322.7c-7.6 7.7-19.7 8.4-28.2 1.9l-1.5-1.3-164.1-152.4c-8.6-8-9.2-21.5-1.2-30.2 7.5-8.1 19.9-9 28.6-2.4l1.6 1.3 148.9 138.4 305-308.1c7.8-7.9 20.2-8.4 28.6-1.5z",className:U().icon})),n.createElement("div",{className:U().content}," ",a("prefix_tip")," ",n.createElement("span",{className:U().mail},t)," ",a("suffix_tip")),n.createElement(p.A,{className:U().btn,onClick:i,type:"main"},a("btn"))))};var X=(0,n.memo)(j),$=(i(25440),i(8515));const K=e=>{const{seconds:t=60,onFinished:i}=e,[a,r]=(0,n.useState)(t-1);return(0,n.useEffect)((()=>r(t-1)),[t]),(0,n.useEffect)((()=>{if(a>=0){const e=setTimeout((()=>r((e=>e-1))),1e3);return()=>{e&&clearTimeout(e)}}a<0&&i&&i()}),[a,i]),n.createElement("span",null,`${a}s `)};K.defaultProps={seconds:60};var Q=(0,n.memo)(K),J=i(74573),Y=i.n(J);var Z=e=>{const{t:t}=(0,m.B)("bec-fe.web-sku-selector",{keyPrefix:"VerifyCodeInput"}),{handleCode:i,onCodeChange:a,errMsg:o,reSendCode:s,expireTime:l=60,pageElSn:c,handleClick:u,email:d}=e,[p,h]=(0,n.useState)(!1),[w,f]=(0,n.useState)(l||60),b=(0,n.useRef)(null),I=(0,n.useRef)(null),[E,y]=(0,n.useState)(""),[x,_]=(0,n.useState)(!0);(0,n.useEffect)((()=>{b?.current&&(b?.current?.focus(),h(!0))}),[]),(0,n.useEffect)((()=>{f(l)}),[l]),(0,n.useLayoutEffect)((()=>{I?.current&&(I.current.scrollLeft=1e3)}),[]);const A=(0,n.useCallback)((async e=>{let t=e.target.value;t=t.replace(/[^\d]/g,""),y(t),a&&a(),6===t.length&&(await i(t),y(""))}),[i,a]),R=()=>{b?.current?.focus(),u&&u()},C=(0,n.useCallback)((async()=>{if(x)return;(0,L.r_)({page_el_sn:c||200324});await s({resend:!0})&&(_(!0),(0,$.A)(t("resend_successfully")))}),[x,s,c]);return n.createElement(v.Ay,{onClick:e.onClose},n.createElement("div",{className:Y().popup},n.createElement("div",{className:Y().header},n.createElement("span",null,t("header_tip"))),n.createElement("div",{className:Y().sendTo},t("send_to_tip"),n.createElement("span",{className:Y().mail},d),"."),n.createElement("input",{autoFocus:!0,ref:b,type:"tel",value:E,onChange:A,maxLength:6,className:Y().codeInput,autoComplete:"off",onFocus:()=>h(!0),onBlur:()=>h(!1)}),n.createElement("div",{className:Y().codePanelContainer,onClick:R,ref:I,role:"button",tabIndex:0},E.padEnd(6," ").split("").map(((e,t)=>n.createElement("div",{key:t,role:"button",tabIndex:0,className:r()(Y().codeInputContainer,{[Y().inputBoxCursor]:p&&t===E.length}),onClick:R},n.createElement("span",{className:Y().codeStyle},e))))),!!o&&n.createElement("div",{className:Y().errorMsg},n.createElement(g.ib,{path:"M512 0c282.8 0 512 229.2 512 512 0 282.8-229.2 512-512 512-282.8 0-512-229.2-512-512 0-282.8 229.2-512 512-512z m0 78.8c-239.3 0-433.2 194-433.2 433.2 0 239.3 194 433.2 433.2 433.2 239.3 0 433.2-194 433.2-433.2 0-239.3-194-433.2-433.2-433.2z m3.9 590.7c32.6 0 59.1 26.4 59.1 59.1 0 32.6-26.4 59.1-59.1 59.1-32.6 0-59.1-26.4-59-59.1 0-32.6 26.4-59.1 59-59.1z m-3.9-463.4c23.5 0 43 17.1 46.6 39.6l0.7 7.6 0 307.3c0 26.1-21.2 47.3-47.3 47.3-23.5 0-43-17.1-46.6-39.6l-0.7-7.7 0-307.3c0-26.1 21.2-47.3 47.3-47.2z",className:Y().warningIcon}),o),n.createElement("div",{className:Y().sendCode},x&&n.createElement("div",{className:Y().timerSendCode},n.createElement(Q,{onFinished:()=>_(!1),seconds:w}),n.createElement("span",null,t("resend_code"))),!x&&n.createElement(S.Ay,{page_el_sn:c||200324,useClick:!1},n.createElement("div",{className:Y().resendCode,onClick:C,role:"button",tabIndex:0},t("resend_code"))))))},ee=i(76988),te=i.n(ee);var ie=function(e){return e[e.INIT=0]="INIT",e[e.CODE=1]="CODE",e[e.SUCCESS=2]="SUCCESS",e}(ie||{});const ne=e=>{let{info:t}=e;return n.createElement("span",{className:te().mail},t)},ae=e=>{const{t:t}=(0,m.B)("bec-fe.web-sku-selector"),[i,a]=(0,n.useState)(),d=(0,n.useRef)(),{tracking:b,userEmail:I,userMobile:E,onClose:L,params:x,restockTimeInfo:_}=e,[A,R]=(0,n.useState)(ie.INIT),[T,P]=(0,n.useState)(""),[N,k]=(0,n.useState)(""),[M,D]=(0,n.useState)(""),F=(0,n.useRef)(null),H=(0,n.useRef)(!1),B=(0,n.useRef)({}),q=(0,n.useRef)(!0),O=(0,n.useRef)(`find_similar_${Date.now()}_${(0,s.A)()}`);(0,n.useEffect)((()=>(G(x.request),B.current=x.request,()=>{})),[x]);const G=(0,n.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B.current;return new Promise((t=>{H.current||(0,f.hL)({page_size:20,offset:d.current?.goodsList?.length||0,scene:"subscribe_sold_out_similar",...e,list_id:O.current}).then((e=>{if(e){const n={...d.current||{},hasMore:e.hasMore&&e?.goodsList?.length,title:e.title,goodsList:[...d.current?.goodsList||[],...e.goodsList||[]]};e.mainGoodsList?.length>0&&(n.mainGoodsInfo=e.mainGoodsList[0]),i=n,d.current=i,a(n),t(e)}else t(!1);var i})).catch((e=>{t(!1),(0,l.fL)(e,{error_message:"requestSimilarGoods error"})})).finally((()=>{q.current&&(q.current=!1)}))}))}),[]),V=(0,n.useMemo)((()=>{let e=4;return E&&I?e=1:E&&!I?e=2:!E&&I&&(e=3),{notify_sku_id:b?.skuId,reply_type:e}}),[b?.skuId,E,I]),U=async()=>{if(T)try{(0,o.WU)();const e=await(0,f.YR)({email:T});if(e?.success){R(ie.CODE);const e=(0,c.A)(n.createElement(Z,{email:T,reSendCode:async()=>{await(0,f.YR)({email:T,resend:!0})},expireTime:60,handleCode:j,onClose:()=>{e?.()}}));F.current=e}else k(e?.errorMsg||t("email_error_tip"));(0,o.jD)()}catch{(0,o.jD)()}else k(t("email_error_tip"))},j=async e=>{if(e&&T)try{(0,o.WU)();const i=await(0,f.fP)({email:T,code:e});if(i?.success){R(ie.SUCCESS),F.current&&F.current();const e=(0,c.A)(n.createElement(X,{email:T,onClose:()=>{e?.()}}))}else D(i?.errorMsg||t("incorrect_verification_code"));(0,o.jD)()}catch{(0,o.jD)()}};return n.createElement(v.US,{onClick:()=>{L()}},n.createElement(S.Ay,{page_el_sn:205397,useClick:!1,others:V},n.createElement("div",{className:te().container},n.createElement("div",{className:te().core},n.createElement(n.Fragment,null,n.createElement("div",{className:r()(te().header,A===ie.SUCCESS&&te().none)},n.createElement(g.ib,{path:"M512 13.2c275.5 0 498.8 223.3 498.8 498.8 0 275.5-223.3 498.8-498.8 498.8-275.5 0-498.8-223.3-498.8-498.8 0-275.5 223.3-498.8 498.8-498.8z m0 66.7c-238.6 0-432.1 193.4-432.1 432.1 0 238.6 193.4 432.1 432.1 432.1 238.6 0 432.1-193.4 432.1-432.1 0-238.6-193.4-432.1-432.1-432.1z m273.2 265.3c11.9 11.8 13 30.4 3.4 43.5l-3.3 3.7-320 322.2c-11.3 11.4-29 13-42 4.4l-4.2-3.2-164.4-149.9c-13.6-12.4-14.6-33.5-2.1-47.1 11.3-12.4 29.8-14.3 43.2-5.3l3.9 3.1 140.8 128.3 297.5-299.5c13-13.1 34.1-13.2 47.2-0.2z",className:te().successIcon}),n.createElement("span",null,t("subscribed_successfully"))),n.createElement("div",{className:r()(te().body,A===ie.SUCCESS&&te().none)},E&&I&&n.createElement("div",{className:te().desc},n.createElement(u.x,{t:t,ns:"bec-fe.web-sku-selector",i18nKey:"mobile_email",components:[n.createElement(ne,{info:E}),n.createElement(ne,{info:I})]})),!E&&I&&n.createElement("div",{className:te().desc},n.createElement(u.x,{t:t,ns:"bec-fe.web-sku-selector",i18nKey:"email_tip_v2",components:[n.createElement(ne,{info:I})]})),E&&!I&&n.createElement("div",{className:te().desc},n.createElement(u.x,{t:t,ns:"bec-fe.web-sku-selector",i18nKey:"mobile_tip",components:[n.createElement(ne,{info:E})]}),t("mobile_suffix_tip")),!E&&!I&&n.createElement("div",{className:te().desc},t("stock_tip")),!I&&n.createElement(n.Fragment,null,n.createElement("div",{className:te().emailTitle},t("email_address")),n.createElement("div",{className:te().emailInputWrap},n.createElement(z,{value:T,onChange:e=>{P(e),k("")}}),n.createElement(y,{error:N})),n.createElement(S.Ay,{page_el_sn:205400,useImpr:!1},n.createElement(p.A,{className:te().submit,onClick:U,type:h.el.main},t("verify_email")))),!!_&&n.createElement(C,{data:_,trackingInfo:V})),n.createElement(w.oU.Provider,{value:{data:i,loadMoreData:G,isInit:q,...x.config||{}}},n.createElement(W,null)))))))},re=(0,b.A)((async e=>{const[t,i]=await Promise.all([(0,f.OW)({scene:"sold_out_subscribe"}),e?.goods?.goodsId?(0,f.$h)({goods_id:e.goods.goodsId}):null]);(0,d.x0)?.();const a=(0,c.A)(n.createElement(ae,{params:e,userEmail:t.result?.mail,userMobile:t.result?.mobile,visible:!0,tracking:{skuId:e?.request?.skuId,goodsId:e?.goods?.goodsId,...e.tracking||{}},restockTimeInfo:i,onClose:()=>{a()}}))}))},41866:function(e,t,i){"use strict";i.d(t,{$p:function(){return x},CV:function(){return h},Ez:function(){return u},H$:function(){return d},Jm:function(){return v},LM:function(){return r},Oe:function(){return y},QH:function(){return f},Sw:function(){return c},Xh:function(){return p},au:function(){return I},be:function(){return b},bv:function(){return l},h$:function(){return L},jd:function(){return o},l_:function(){return g},nG:function(){return w},qf:function(){return m},sN:function(){return a},vs:function(){return E},xi:function(){return S}});var n=i(9454);const a="goods",r=10032,o={requireLogin:!1,title:"Temu",pageProperty:{pageName:a,pageSN:r,pv:{keys:["goods_id",{key:"main_goods_id",mapping:["goods_id"]},{key:"main_sku_id",mapping:["sku_id"]}]},pagePath:"/w/goods.html"},pageRegExp:n.am.GoodsDetail.pageRegExp,loadable:!0},s=["refer_msgid","msgid"],l=e=>e?Object.keys(e).reduce(((t,i)=>{const n=Array.isArray(e[i])?e[i][e[i].length-1]:e[i];return i.startsWith("_x_")&&(t[i.slice(1)]=n,t[i]=n),i.startsWith("_oak_")&&(t[i]=n),s.includes(i)&&(t[i]=n),t}),{}):{};const c={TRANSLATE:201946,VIEW_BIG_IMAGE:201948,BIG_IMAGE_TRANSLATE:201950};let m=function(e){return e[e.ITEM=0]="ITEM",e[e.SHOP=1]="SHOP",e}({}),u=function(e){return e[e.shoppingCart=1]="shoppingCart",e[e.listAddCart=2]="listAddCart",e[e.addToOrder=3]="addToOrder",e[e.goodsDetail=4]="goodsDetail",e}({}),d=function(e){return e[e.addOrder=1]="addOrder",e[e.addCart=2]="addCart",e[e.addList=3]="addList",e[e.addGift=4]="addGift",e[e.addWish=5]="addWish",e[e.buyNow=6]="buyNow",e[e.redeemPoints=7]="redeemPoints",e}({}),p=function(e){return e[e.addCart=410]="addCart",e}({});const h={wishlistFloatShowTime:"wishlist_float_show_time",chatBtnTipShowedTimes:"chat_btn_tip_showed_times"},v={wishlistDelGoodsIds:"WISHLIST_DEL_GOODIDS"},g=60,w=500,f={resizeWidth:180,quality:70},b={...f,resizeWidth:800};let S=function(e){return e[e.MainGoods=1003200]="MainGoods",e[e.BigPicture=1003201]="BigPicture",e[e.BigPictureComment=1003202]="BigPictureComment",e[e.FrequentlyBought=1003203]="FrequentlyBought",e[e.SimilarGoods=1003204]="SimilarGoods",e[e.MallRecommend=1003205]="MallRecommend",e[e.BottomRecommend=1003206]="BottomRecommend",e[e.AddOrder=1003207]="AddOrder",e[e.MatchingOutfits=1003208]="MatchingOutfits",e[e.InStockSimilarItems=1003210]="InStockSimilarItems",e[e.Outfits=1003211]="Outfits",e[e.SkuCapsule=1003214]="SkuCapsule",e[e.MallSelector=1003212]="MallSelector",e[e.PurchaseBenefit=335]="PurchaseBenefit",e[e.LocalInfoPopupRec=389]="LocalInfoPopupRec",e[e.LocalGoodsSimilarRec=383]="LocalGoodsSimilarRec",e[e.BestPricePopup=619]="BestPricePopup",e[e.AddMultiple=1003222]="AddMultiple",e}({});const I=5,E={PRODUCT_GUIDES:"1",SIZE_GUIDE:"2"},y={SOLD_OUT:"goods_detail_sold_out_similar",NORMAL:"goods_detail_like",NORMAL4U2i:"goods_detail_like_u2i"};let L=function(e){return e.A="A",e.B="B",e.C="C",e.D="D",e}({}),x=function(e){return e[e.UnSubscribe=0]="UnSubscribe",e[e.Subscribe=1]="Subscribe",e}({})},34760:function(e,t,i){"use strict";i(44114);var n=i(33514),a=i(87837),r=i(60446),o=i.n(r);const s=(0,n.memo)((e=>{let{percent:t}=e;return n.createElement("span",{className:o().progress},n.createElement("i",{className:o().progressBar,style:{width:`${t}%`},"aria-hidden":!0}))}));t.A=(0,n.memo)((e=>{let{clothFitReviewInfoList:t,isShowReviewProgress:i,clothFitTipV2:r,reviewClothFitReviewText:l,progressElSn:c,visible:m}=e;const[u,d]=(0,n.useState)([]);if((0,n.useEffect)((()=>{if(!m)return;const e=Array.from(document.querySelectorAll(`.${o().label}`)),t=[];e.forEach((e=>{const{height:i}=e?.getBoundingClientRect()||{};i&&t.push(i)})),t?.length===e?.length&&d(t)}),[t,i,m]),!t?.length||!i)return null;const p=t.some((e=>2!==e.level&&e.percent>=15)),h=t?.map((e=>e.text));return"1"===r?n.createElement("div",null,n.createElement("div",{className:o().progressV2},t.map((e=>{let{text:t,percent:i,level:r}=e,s="";2!==r&&i>=15?s="#000000":2!==r||p||(s="#0A8800");const l=n.createElement("div",{className:o().progressItem,role:"document","aria-label":`${t} ${i}%`,style:{backgroundColor:s,width:`${i}%`}});return n.createElement(n.Fragment,{key:t},c?n.createElement(a.Rp,{page_el_sn:c,key:t},l):l)}))),n.createElement("div",{className:o().labelV2},t.map((e=>{let{percentageStr:t,text:i}=e;return n.createElement("span",{key:i},t," ",i)}))),!!l&&n.createElement("p",{className:o().clothfitTip},l)):n.createElement("div",{className:o().wrap},n.createElement("div",{className:o().content},n.createElement("div",{className:o().left},h.map(((e,t)=>n.createElement("div",{className:o().label,key:e,"aria-hidden":!0},e)))),n.createElement("div",{className:o().right},t.map(((e,t)=>{let{text:i,percent:r}=e;const l=u?.[t],d=n.createElement("div",{className:o().desc,tabIndex:0,role:"link","aria-label":`${i} ${r}%`,style:m&&l?{height:l}:void 0},n.createElement(s,{percent:r}),n.createElement("span",{className:o().num,"aria-hidden":!0},n.createElement("span",null,r),n.createElement("span",null,"%")));return n.createElement(n.Fragment,{key:i},c?n.createElement(a.Rp,{page_el_sn:c,key:i},d):d)})))))}))},34889:function(e,t,i){"use strict";i.d(t,{A:function(){return ht}});var n=i(33514),a=i(47116),r=i(14511),o=i(96704),s=i(63962),l=i(80924),c=i(78545),m=i(8587),u=i(15031);var d=(0,a.PA)((e=>{let{expParams:t,control:i,reviewStore:a,commonCommentStore:r,CartScene:o,pageSN:s,commentBigPictureStore:l}=e;const{supportReviewBulletComment:d}=i?.supportExperimentControl||{},{activeTopIndex:p,goodsInfo:h,newToggleAnonymous:v,noGoodsReviewHasShopReview:g}=a,{reportReview:w,setIsHelpfulInfo:f,helpfulInfoMap:b,onHelpful:S}=r||{},{removeCommentBigPicture:I,reviewIndex:E,popData:y,isShowPrev:L,isShowNext:x,onClickPrev:_,onClickNext:A,onTogglePopupAnonymous:R}=l||{},C=(0,n.useMemo)((()=>{if(y?.goodsInfo?.type===u.Gd.showSimilarGoodsLink)return{...y?.goodsInfo||{},cart_scene:o.BigPictureComment};return p===u.qf.ITEM&&!g?{cart_scene:o.BigPictureComment,...h}:{...y?.goodsInfo||{},cart_scene:o.BigPictureComment}}),[p,g,o.BigPictureComment,h,y?.goodsInfo]),T=(0,m.w)((async e=>{const t=await R(e);t&&v(e,t)}));return y?n.createElement(c.A,{data:{...y,goodsInfo:C},pageSn:s,closeCb:I,isShowPrev:L,isShowNext:x,onClickNext:A,onClickPrev:_,activeIndex:E,showBullet:!!d,requestParams:{_oak_page_source:413,goods_id:C.goodsId},activeTopIndex:p,reportReview:w,onHelpful:S,setIsHelpfulInfo:f,helpfulInfoMap:b,onToggleAnonymous:T,reviewExpParams:t}):null})),p=i(41866),h=i(97582),v=i(68797),g=i(34678),w=i(87837),f=i(74344),b=i(40565),S=i(92129),I=i.n(S);var E=(0,a.PA)((e=>{let{data:t,activeTopIndex:i,onDeleteReview:a,onToggleAnonymous:r,pageSn:o,expParams:s,index:l,trackingInfo:c,hasImages:m=!0,hasBtnAndFit:d=!0,isSimilarDialogItem:p=!1,itemShowType:h="",purchasedCard:v=!1}=e;return n.createElement(b.A,{originData:t,pageSn:o,onDeleteReview:a,onToggleAnonymous:r,activeTopIndex:i,trackingInfo:c,reviewExpParams:s,isSimilarDialogItem:p,smallCardSize:!0,index:l,addCartInfo:i===u.qf.SHOP?{cartScene:"259",cartType:1,pageElSn:"200061"}:void 0,hasImages:m,hasBtnAndFit:d,headerClass:I().headerWarp,itemShowType:h,purchasedCard:v})})),y=i(32485),L=i.n(y),x=i(3428),_=i(99117),A=i(50453),R=i(46694),C=i(27092),T=i(73572),P=i(73035),N=i(881),k=i(77140),M=i(84750),D=i(91950),z=i.n(D);const F=async(e,t)=>{if(e&&(0,_.E0)({page_el_sn:228677}),!t)return;const{title:i,confirmBtnText:a,content:r,richContent:o,learnMoreLinkText:s,learnMoreLinkUrl:l}=t||{},c=r?.split("\n")||[],m=()=>{(0,N.AI)(228697,{}),A.Ay.openWindow(l)};(0,P.P)({popupNode:n.createElement(g.A,{onClose:()=>{(0,P.L)({}),(0,N.AI)(228695,{})},title:i,subTitle:o?.textRich?n.createElement(T.l5,{newRichText:o}):c.map(((e,t)=>n.createElement(n.Fragment,null,e,t!==c.length-1&&n.createElement("br",null)))),confirmButtonLabel:a,onConfirm:()=>{(0,P.L)({}),(0,N.AI)(228696,{})},contentAfterBtn:!o&&s&&l?n.createElement("div",{className:z().afterBtnWarp,onClick:m,role:"button",tabIndex:0},s,n.createElement(C.A,{className:z().rightArrowIcon})):null})})};var H=(0,a.PA)((function(e){let{reviewStore:t,lang:i,reviewListLength:a,reviewsExpParams:r,className:o}=e;const{showScore:s,showScoreStr:l,mallReviewNum:c,mallReviewNumStr:u,reviewNum:d,reviewAuthenticityPopupVo:p,ratingGuidelinesPopupVo:v,reviewNumStr:g,onlyShowSimilarReviews:f,nativeScore:b,$root:S}=t||{},{goodsScoreText:I,scoreNumInfoList:E}=t.$root?.review?.reviewData||{},{isRTL:y}=(0,R.Sz)(),{t:_}=(0,h.B)("goods",{keyPrefix:"review"}),{t:A}=(0,h.B)("goods"),{t:C}=(0,h.B)("comments"),{globalReview:T,noReviewInfo:P}=r||{},N=S?.isSpecialRegion,D=u>0?`(${A(N?"providerRatings":"providerRatings2",{replace:"0",interpolation:{prefix:"{",suffix:"}"},0:u})})`:null,H=(0,n.useMemo)((()=>T?g?`${g} ${C(d>1?"globalRatings":"globalRating")}`:"":g?d>1?_("reviews1",{0:g,interpolation:{prefix:"{",suffix:"}"}}):_("review1"):""),[T,g,d,C,_]),B=!!b?.textRich?.length,q=C("allyScoreText",{interpolation:{prefix:"{",suffix:"}"},0:s})||l,O=(0,m.w)((()=>{F(B,v)})),G=c>0||d>0,W=!!I&&!!E?.length,V="1"===P,U=["3","4"].includes(P);return!G||!H||W&&f?null:n.createElement(w.Rp,{useClick:!1,page_el_sn:200226,others:{review_type:a>1?0:1}},n.createElement("div",{className:L()(z().topWrap,o)},!W&&n.createElement("div",{className:L()({[z().top]:!0,[z().localReviewTop]:B})},B?n.createElement(n.Fragment,null,n.createElement("div",{className:z().titleScoreWrap,onClick:O,role:"button",tabIndex:0},n.createElement("div",{className:z().title},_("reviews")),!!s&&!U&&n.createElement(w.Rp,{page_el_sn:228677,useClick:!1},n.createElement("div",{className:z().score,tabIndex:0,role:"link","aria-label":q},n.createElement("span",{className:z().scoreText},l),n.createElement(x.A,{cur:s,activeStarClass:z().activeStar,className:z().startCn,total:1,size:"24px",ariaHidden:!0})))),!V&&n.createElement(k.A,{className:z().richText,concatRichText:b,isRTL:y})):n.createElement(n.Fragment,null,!V&&n.createElement(n.Fragment,null,n.createElement("div",{className:z().title},H),!!s&&!U&&n.createElement("div",{className:z().line})),!!s&&!U&&n.createElement(w.Rp,{page_el_sn:228677},n.createElement("div",{className:z().score,onClick:O,tabIndex:0,role:"link","aria-label":q},n.createElement("span",{className:z().scoreText},l),n.createElement(x.A,{cur:s,activeStarClass:z().activeStar,className:z().startCn,size:"24px",ariaHidden:!0}))),f?n.createElement("div",{className:z().providerRating},D):null)),f?null:n.createElement(M.A,{text:_("purchasesTips"),reviewAuthenticityPopupVo:p,pageSnEl:228678})))})),B=i(13742),q=i.n(B);const O=(0,n.memo)((e=>{let{data:t}=e;const{score:i,percent:a=0,percentStr:r=0,percentageStr:o}=t||{};return n.createElement("div",{className:q().coreItem},n.createElement(x.A,{cur:i,className:q().rate,size:"18px"}),n.createElement("div",{className:q().progressWarp},n.createElement("div",{className:q().progress},n.createElement("i",{className:q().progressBar,style:{width:`${a}%`},"aria-hidden":!0}))),n.createElement("div",{className:q().percentStr},o?n.createElement("span",null,o):n.createElement(n.Fragment,null,n.createElement("span",null,r),n.createElement("span",null,"%"))))}));var G=(0,a.PA)((e=>{let{className:t,isPage:i,style:a,reviewsExpParams:r}=e;const{t:o}=(0,h.B)("goods",{keyPrefix:"review"}),{t:l}=(0,h.B)("comments"),{review:c,reviewStore:u}=(0,s.Pj)(),{reviewNum:d,reviewNumStr:p,goodsScoreText:v,scoreNumInfoList:g}=c?.reviewData||{},{scoreNumInfoList:f,goodsScoreText:b,ratingGuidelinesPopupVo:S}=u||{},I=i?g:f,E=i?v:b,y=d||p,x=r?.globalReview?`${y} ${l(y>1?"globalRatings":"globalRating")}`:"",_=!!S,A=(0,m.w)((()=>{_&&F(!1,S)}));return E&&I?.length?n.createElement("div",{className:L()({[q().wrap]:!0,[q().pageWrap]:i},t),style:a},n.createElement("div",{className:L()({[q().left]:!0,[q().pointer]:_}),onClick:A},n.createElement(w.Rp,{page_el_sn:228677},n.createElement("div",{className:q().scoreText},E)),!!i&&!!x&&n.createElement("p",{className:q().reviews},x)),n.createElement("div",{className:q().right},I.map((e=>n.createElement(O,{key:e.score,data:e}))))):null})),W=i(46272),V=i(35396),U=i(52248),j=i(95733),X=i(40639),$=i(84973),K=i(65033),Q=i(2635),J=i.n(Q);const Y=(0,n.memo)((e=>{const{score:t,percent:i,percentStr:a,percentageStr:r,text:o,isSelected:s,changeFilterStar:l}=e,[c,m]=(0,n.useState)(!1),u=()=>{l(t),(0,_.E0)({page_el_sn:229181,star_filter_type:0===t?"6":String(t)})},d=()=>{m(!0)},p=()=>{m(!1)};return n.createElement(n.Fragment,null,r||a?n.createElement(n.Fragment,null,n.createElement("div",{className:L()(J().text,J().gridItem,s&&J().isSelected,c&&J().hover),onClick:u,onMouseEnter:d,onMouseLeave:p},o),n.createElement("div",{className:L()(J().progressWarp,J().gridItem,c&&J().hover),onClick:u,onMouseEnter:d,onMouseLeave:p},n.createElement("div",{className:J().progress},n.createElement("i",{className:L()(J().progressBar,s&&J().isSelectedProgress),style:{width:`${i}%`},"aria-hidden":!0}))),n.createElement("div",{className:L()(J().percentStr,J().gridItem,s&&J().isSelected,c&&J().hover),onClick:u,onMouseEnter:d,onMouseLeave:p},r?n.createElement("span",null,r):n.createElement(n.Fragment,null,n.createElement("span",null,a),n.createElement("span",null,"%")))):n.createElement("div",{className:L()(J().totalText,J().gridItem,s&&J().isSelected,c&&J().hover),onClick:u,onMouseEnter:d,onMouseLeave:p},o),n.createElement("div",{className:L()(J().iconWarp,J().gridItem,c&&J().hover),onClick:u,onMouseEnter:d,onMouseLeave:p},!!s&&n.createElement(X.A,{className:J().icon})))}));var Z=(0,a.PA)((e=>{let{reviewStore:t,placement:i}=e;const{scoreNumInfoList:a,selectFilterStar:r,changeFilterStar:o,ratingFiltersInfo:s,curReviewStore:l}=t||{},{allRatingsText:c,button:m}=s||{},{text:u}=m||{},{onChangeFilterStar:d}=l||{},[p,h]=(0,n.useState)(!1),[v,g]=(0,n.useState)(!1),[w,f]=(0,n.useState)(i||"bottom"),b=(0,n.useRef)(null),S=p||v&&0!==r,I=(0,n.useCallback)((()=>{if(p&&(0,_.E0)({page_el_sn:229181,star_filter_type:"0"}),h((e=>!e)),!b.current)return;const e=Math.abs(b.current.getBoundingClientRect().bottom-window.innerHeight);f(e<200?"top":i||"bottom")}),[p]),E=(0,n.useCallback)((e=>{h(!1),g(!0),o(e)}),[o,d]);return u&&a&&s&&Array.isArray(a)&&a.length?n.createElement("div",{ref:b},n.createElement($.A,{visible:p,className:J().warp,overlay:n.createElement("div",{className:J().overlayWarp},n.createElement(Y,{score:0,text:c||"",isSelected:0===r,changeFilterStar:E}),(a||[]).map((e=>{if(!e)return null;const{score:t,percent:i,percentStr:a,percentageStr:o,text:s}=e,l=t===r;return n.createElement(Y,{score:t,percent:i,percentStr:a,percentageStr:o,isSelected:l,text:s,changeFilterStar:E})}))),placement:w,hideArrow:!0,trigger:["click"]},n.createElement(K.A,{text:u||"",onClick:I,isSelected:S,pageSn:229181,loggerParams:{star_filter_type:"0"},useClick:!1}))):null})),ee=i(2397),te=i(3187),ie=i.n(te);const ne=(0,a.PA)((e=>{let{className:t,isShowSortSelector:i,onReviewSortChange:a,labels:r,onLabelToggle:o,selectedLabelId:s,sortType:l,sortTypeInfoList:c,pageElSn:m,reviewStore:u,showRateFilter:d,showSortStaticLable:p,handleStaticSortClick:v,defaultSortVisible:f,isPage:b,onMouseDownFunc:S,onMouseLeaveFunc:I,mostRecentHandle:E,reviewsExpParams:y,sortTypeInfoExtra:x,isItemReview:_}=e;const{t:A}=(0,h.B)("comments"),R=(e,t)=>{const{title:i,content:a,confirmText:r}=t?.content||{};a&&r&&(e?.stopPropagation(),(0,P.P)({popupNode:n.createElement(g.A,{onClose:P.L,title:i,confirmButtonLabel:r,onConfirm:P.L},n.createElement("p",{className:ie().sortPopupContent},a))}))},{text:C,code:N,richText:k}=c?.[0]||{},M=!!p&&!!C,{text:D,code:z}=x?.[0]||{},{sortTypeStyle:F}=_&&y||{},H=!!D&&!!F,B="2"===F,q=(0,W.A)((()=>{E?.(z)}));return r&&r.length||c&&c.length&&(i||p)?n.createElement(w.Rp,{page_el_sn:m?.pageSn,useClick:!1},n.createElement("div",null,!!B&&n.createElement("div",{className:ie().splitSortWrap},n.createElement("span",{className:ie().sortLable},A("sortBy"),":"),b?n.createElement("div",{className:L()({[ie().splitTagRecommend]:!0,[ie().sortSelect]:l===N}),onClick:v,role:"button",tabIndex:0},k?n.createElement(T.l5,{className:ie().recommendRich,newRichText:k,customRenderWhiteList:[V.E.tips],customRenderTextRichItem:e=>{const{type:t,value:i,action:a}=e||{};return 100===t&&i?n.createElement(j.A,{src:i,className:ie().yiwenIcon,onClick:e=>R(e,a),alt:""}):null}}):n.createElement(n.Fragment,null,n.createElement("span",null,C),n.createElement(U.hu,{className:ie().arrow,direction:""})),n.createElement("div",{className:ie().sortLine})):n.createElement(ee.A,{source:c,sortType:l,selectCallback:a,pageElSn:m?.selectSn,placement:"bottomLeft",style:{right:"100%",left:0},innerStyle:{transform:"none"},sortTypeStyle:F}),n.createElement("span",{className:L()({[ie().mostRencent]:!b,[ie().sortSelect]:l===z}),onClick:q,role:"button",tabIndex:0},D)),n.createElement("div",{className:L()(ie().sortWrap,{[ie().noLableSort]:!r?.length&&!d&&B},t)},!!M&&!B&&n.createElement("div",{className:L()(ie().staticSort,{[ie().selectSort]:f||0===l&&!!F,[ie().noPointer]:F}),onClick:v,tabIndex:0,role:"button"},k?n.createElement(T.l5,{className:ie().recommendRich,newRichText:k,customRenderWhiteList:[V.E.tips],customRenderTextRichItem:e=>{const{type:t,value:i,action:a}=e||{};return 100===t&&i?n.createElement(j.A,{src:i,className:ie().yiwenIcon,onClick:e=>R(e,a),alt:""}):null}}):n.createElement(n.Fragment,null,n.createElement("span",null,C),n.createElement(U.hu,{className:ie().arrow,direction:""}))),!!i&&!B&&n.createElement(ee.A,{source:c,sortType:l,selectCallback:a,pageElSn:m?.selectSn,placement:"bottomLeft",style:{right:"100%",left:0},innerStyle:{transform:"none"},sortTypeStyle:F}),!!H&&!B&&n.createElement(K.A,{pageSn:m?.labelSn,text:D,labelId:z,onClick:q,isSelected:l===z,isPage:b,readableText:D}),!!F&&!B&&!(!r?.length&&!d)&&n.createElement("div",{className:ie().tabLine}),!!d&&n.createElement(Z,{reviewStore:u,placement:"2"===F?"bottomLeft":void 0}),(r||[]).map(((e,t)=>{const{text:i,labelId:a,textFormat:r,iconFormat:l,needHighlight:c,richText:u,readableText:d}=e||{},p=a===String(s);return n.createElement(K.A,{key:`${a}${i}`,pageSn:l?226149:m?.labelSn,text:i,needHighlight:c,labelId:a,textFormat:r,iconFormat:l,index:t,onClick:o,isSelected:p,concatRichText:u,isPage:b,readableText:d,onMouseDownFunc:S,onMouseLeaveFunc:I})}))))):null}));var ae=ne,re=i(22560),oe=i.n(re);var se=(0,a.PA)((e=>{let{reviewStore:t,className:i,isPage:a,interaction:r,onMouseDownFunc:o,onMouseLeaveFunc:s,reviewsExpParams:l}=e;const{showCommentDialog:c,handleCommentDialogByLable:m,activeTopIndex:d,onReviewSortChange:p,labelsInfo:h,pageLabelsInfo:v,onReviewLabelChange:g,selectedSortLabelId:w,selectedLabelId:f,goodsInfoExpParams:b,querySimilarCommentList:S,handleStaticSort:I,dialogFrom:E,mostRecentHandle:y}=t,x=d===u.qf.ITEM,{sortTypeInfoList:_,labels:A,sortTypeInfoExtra:R}=(a?v:h)[d]||{},C=x?u.A8:u.O7,T=!a&&_&&Array.isArray(_)&&_.length>0,P=a&&Array.isArray(_)&&_.length>0,N=E===u.a7.SORT,k=(0,n.useCallback)((e=>{c?g(e):(r&&r.start({type:"click"}),S(!0),m(e,r))}),[m,S,r,g,c]),M=(0,W.A)((async e=>{await(y?.(e,r))})),D=(0,W.A)((async()=>{await(I?.(r))})),{showRatingFilters:z}=b||{},F=t.$root?.expParams?.noReviewInfo,H=!a&&x&&"true"===z&&"4"!==F;return d===u.qf.SHOP&&a?null:n.createElement(ae,{labels:A,sortType:w,sortTypeInfoList:_,isShowSortSelector:T,selectedLabelId:f,onReviewSortChange:p,onLabelToggle:k,pageElSn:C,reviewStore:t,className:L()(oe().warp,i),showRateFilter:H,showSortStaticLable:P,handleStaticSortClick:D,defaultSortVisible:N,isPage:a,onMouseDownFunc:o,onMouseLeaveFunc:s,mostRecentHandle:M,reviewsExpParams:l,sortTypeInfoExtra:R,isItemReview:x})})),le=i(14242),ce=i(67388);const me=n.forwardRef(((e,t)=>{const{t:i,i18n:a}=(0,h.B)("bec-fe.svg-icons-pc");return n.createElement(ce.i,(0,le.A)({ref:t,fill:"#cdcdcd"},e,{path:["M738.2 200.5c23.6 0 42.7 19.1 42.6 42.7l0 452.3c0 75.4-61.1 136.5-136.5 136.5l-366.9 0c-23.6 0-42.7-19.1-42.7-42.7l0-546.1c0-23.6 19.1-42.7 42.7-42.7l460.8 0z m0 17.1l-460.8 0c-14.1 0-25.6 11.5-25.6 25.6l0 546.1c0 14.1 11.5 25.6 25.6 25.6l366.9 0c66 0 119.5-53.5 119.5-119.4l0-452.3c0-14.1-11.5-25.6-25.6-25.6z m-345.6 418.1l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.8 0 0-17.1 59.8 0z m87.3 0l0 17.1-53.2 0 0-17.1 53.2 0z m-181.2-128l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.8 0 0-17.1 59.8 0z m93.8 0l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.7 0 0-17.1 59.7 0z m-281.6-128l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.8 0 0-17.1 59.8 0z m93.8 0l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.7 0 0-17.1 59.7 0z"],"aria-label":e["aria-label"]??(a.exists("aria-label.KongtaiPingjiakong",{ns:"bec-fe.svg-icons-pc"})?i("aria-label.KongtaiPingjiakong"):void 0),rtlPath:["M285.8 200.5c-23.6 0-42.7 19.1-42.6 42.7l0 452.3c0 75.4 61.1 136.5 136.5 136.5l366.9 0c23.6 0 42.7-19.1 42.7-42.7l0-546.1c0-23.6-19.1-42.7-42.7-42.7l-460.8 0z m0 17.1l460.8 0c14.1 0 25.6 11.5 25.6 25.6l0 546.1c0 14.1-11.5 25.6-25.6 25.6l-366.9 0c-66 0-119.5-53.5-119.5-119.4l0-452.3c0-14.1 11.5-25.6 25.6-25.6z m345.6 418.1l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.8 0 0-17.1-59.8 0z m-87.3 0l0 17.1 53.2 0 0-17.1-53.2 0z m181.2-128l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.8 0 0-17.1-59.8 0z m-93.8 0l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.7 0 0-17.1-59.7 0z m281.6-128l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.8 0 0-17.1-59.8 0z m-93.8 0l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.7 0 0-17.1-59.7 0z"]}))}));me.supportRtl=!0;var ue=me,de=i(54403),pe=i(8160),he=i.n(pe);function ve(e){let{className:t,onSecondaryButtonClick:i}=e;const{t:a}=(0,h.B)("comments");return n.createElement("div",{className:L()(he().empty,t)},n.createElement(de.A,{title:a("emptyTitle"),desc:a("emptySubtitle"),imageConfigs:{svg:n.createElement(ue,{className:he().svg})},secondaryButtonLabel:a("seeAllReviews"),onSecondaryButtonClick:i}))}var ge=(0,n.memo)(ve),we=i(41177),fe=i.n(we);var be=(0,a.PA)((e=>{let{reviewStore:t,className:i}=e;const{activeTopIndex:a,selectFilterStar:r,selectedLabelId:o,itemReviewInfo:s,mallReviewInfo:l,scoreNumInfoList:c,labelsInfo:m,commentHasMore:d}=t,p=a===u.qf.ITEM,{emptyReviewFoldText:h}=(p?s:l)||{};let v;if(r){if(!p)return null;const e=c?.find((e=>e.score===r));v=e?.emptyReviewFoldText}else if(o){const e=m?.[a]?.labels?.find((e=>e.labelId===o));v=e?.emptyReviewFoldText}else v=h;return!v||d?null:n.createElement("div",{className:L()(fe().globaleText,i)},v)})),Se=i(95789),Ie=i(72620),Ee=i(1528),ye=i(59661),Le=i(10147),xe=i(81490),_e=i.n(xe),Ae=(0,n.memo)((e=>{let{closePopup:t,buttonType:i=Ee.el.primary,dialogData:a}=e;const{title:r="",content:o="",confirmBtnText:s=""}=a||{};return r?n.createElement(ye.Ay,{onClick:t},n.createElement("div",{className:_e().wrap},n.createElement("div",{className:_e().content},n.createElement("div",{className:_e().head},r),n.createElement("div",{className:_e().container},n.createElement("div",{className:_e().contentText},o),n.createElement(Le.A,{className:_e().confirmBtn,type:i,onClick:t},s))))):null})),Re=i(50874),Ce=i.n(Re);var Te=(0,a.PA)((e=>{let{title:t="",className:i,reviewStore:a,similarReviewGuidelinesPopup:r}=e;const{onlyShowSimilarReviews:o,reviewAuthenticityPopupVo:s}=a||{},{t:l}=(0,h.B)("goods",{keyPrefix:"review"});return t?n.createElement("div",{className:L()(Ce().simillarReviewListWrap,i)},n.createElement("div",{className:Ce().header},n.createElement("div",{className:Ce().simillarTitle},n.createElement("div",{className:Ce().title},t),n.createElement("div",{onClick:()=>{const e=(0,Se.A)(n.createElement(Ae,{dialogData:r,closePopup:()=>{e?.()}}),{})},className:Ce().shcdowIcon,tabIndex:0,role:"button"},n.createElement(Ie.A,{className:Ce().icon,"aria-hidden":!0,style:{width:"14px",height:"14px"}}))),o?n.createElement(M.A,{text:l("purchasesTips"),reviewAuthenticityPopupVo:s,pageSnEl:228678}):null)):null})),Pe=i(54198),Ne=i.n(Pe);const ke=()=>null,Me=(0,a.PA)((e=>{let{data:t,index:i}=e;const a=(0,s.Pj)(),{reviewStore:r,expParams:o={},pageSN:l,trackingInfo:c}=a||{},{toggleAnonymousSimilar:u,activeTopIndex:d,newDeleteReview:p}=r||{},h=(0,m.w)((async(e,t,i)=>{await u(e,t,!1,i)})),v=(0,m.w)((async(e,t)=>{await p(e,t)}));return n.createElement(E,{data:t,pageSn:l,activeTopIndex:d,onDeleteReview:v,onToggleAnonymous:(e,t)=>h(e,i,t),expParams:o,index:i,isSimilarDialogItem:!0,trackingInfo:c,itemShowType:b.J.GOODS_DIALOG})}));var De=(0,a.PA)((e=>{let{reviewStore:t,hideSimilarTitle:i}=e;const{querySimilarCommentList:a,tabIndexTitle:r,activeTopIndex:o,similarCommentHasMore:s,similarCommentList:l,similarDialogInfo:c,listShowSimilarReviews:m}=t,d=!l?.length&&s,{similarReviewSubTitle:p,similarReviewGuidelinesPopup:h}=c||{},g=Object.keys(r).length>1&&o===u.qf.SHOP;return l?.length&&m&&!g?n.createElement("div",{className:Ne().wrap},i?null:n.createElement(Te,{className:Ne().similarTitle,reviewStore:t,title:p,similarReviewGuidelinesPopup:h}),n.createElement(v.A,{wrapperClass:Ne().list,datasource:l,hasMore:!!s,itemKey:"reviewId",loadMoreData:a,renderItem:Me,showLoading:!d,ListEndView:ke,loadingText:"",autoOptimize:!1})):null})),ze=i(61708),Fe=i.n(ze);const He=(0,a.PA)((e=>{let{data:t,index:i}=e;const a=(0,s.Pj)(),{reviewStore:r,expParams:o={},pageSN:l,trackingInfo:c}=a||{},{activeTopIndex:u,newToggleAnonymous:d,newDeleteReview:h}=r||{},v=(0,m.w)((async(e,t,i)=>{await d(e,t,!1,i)})),g=(0,m.w)((async(e,t)=>{await h(e,t)})),w=(0,m.w)(((e,t)=>{v(e,i,t)}));return n.createElement(E,{data:t,pageSn:l,activeTopIndex:u,onDeleteReview:g,onToggleAnonymous:w,expParams:o,index:i,trackingInfo:c,itemShowType:b.J.GOODS_DIALOG,purchasedCard:u===p.qf.ITEM})})),Be=()=>null,qe=(0,a.PA)((e=>{let{reviewStore:t}=e;const{queryCommentList:i,commentHasMore:a,commentList:r}=t,o=!r?.length&&a;return r?.length?n.createElement("div",{className:Fe().wrap},n.createElement(v.A,{wrapperClass:Fe().list,datasource:r,hasMore:!!a,itemKey:"reviewId",loadMoreData:i,renderItem:He,showLoading:!o,ListEndView:Be,loadingText:"",autoOptimize:!1})):null}));var Oe=(0,l.A)((0,r.W4)(),a.PA)((e=>{let{reviewStore:t,interaction:i}=e;const{showCommentDialog:a,closeCommentDialog:r,activeTopIndex:o,reviewAuthenticityPopupVo:s,showAllReviews:l,commentList:c,similarDialogInfo:m,similarCommentList:u,listShowSimilarReviews:d,selectedLabelId:v,selectFilterStar:b,tabIndexTitle:S,goodsInfoExpParams:I,$root:E}=t,{isSpecialRegion:y}=E||{},{t:L}=(0,h.B)("comments"),{t:x}=(0,h.B)("goods",{keyPrefix:"review"}),_=o===p.qf.ITEM,A=m?.similarReviewTitle,R=!c?.length,C=!v&&!b,T=Object.keys(S||{}).length,P=d&&(T<2||_)&&!!u?.length,N=R&&C&&P;let k=!1;R&&(k=!C||!P);let D=L("itemReviews");if(!k&&R&&A)D=A;else{const e=L(y?"shopReviews":"shopReviews2");D=_?L("itemReviews"):e}return(0,n.useEffect)((()=>{a&&(0,f.A)("open_comment_dialog_open")}),[a]),a?n.createElement(n.Fragment,null,n.createElement(g.A,{onClose:r,title:D,size:"l",baseDialogProps:{dialogProps:{className:Fe().dialogWrap}},scrollContainerProps:{scrollClassName:Fe().scroll}},n.createElement(w.Rp,{useClick:!1,page_el_sn:227612,others:{review_type:o}},n.createElement("div",{className:Fe().dialogWrap},n.createElement(M.A,{text:x("purchasesTips"),reviewAuthenticityPopupVo:s,isDialog:!0}),!!_&&n.createElement(G,{className:Fe().scoreRate,reviewsExpParams:I}),!N&&n.createElement(se,{reviewStore:t,reviewsExpParams:I}),k?n.createElement(n.Fragment,null,n.createElement(be,{reviewStore:t,className:Fe().globaleText}),n.createElement(ge,{className:Fe().empty,onSecondaryButtonClick:l})):n.createElement(n.Fragment,null,n.createElement(qe,{reviewStore:t}),!R&&n.createElement(be,{reviewStore:t})),n.createElement(De,{hideSimilarTitle:!!R&&!k,reviewStore:t})))),n.createElement(i.End,{name:"pc_goods_CommentListDialog"})):null}));const Ge=(0,n.createContext)({weakBorderLabel:!1,twoLineLabel:!1,scrollLabel:!1,boldLabel:!1,reviewLabelStyle:""}),We=e=>{let{value:t,children:i}=e;return n.createElement(Ge.Provider,{value:t}," ",i," ")};var Ve=i(82370),Ue=i(53938),je=i(36162),Xe=i.n(je);var $e=(0,a.PA)((function(e){let{reviewStore:t,reviewListLength:i,setHideShopReview:a,hideShopReview:r}=e;const o=(0,Ue.d)(),{t:s}=(0,h.B)("goods",{keyPrefix:"review"}),{newSetActiveIndex:l,mallReviewNum:c,mallReviewNumStr:m,needShowSimilarReviews:d,noGoodsReviewHasShopReview:p,mallReview:v,similarReview:g,$root:f}=t||{},b=f?.isSpecialRegion,{withoutReviewTitle:S,withoutReviewText:I}=v||{},{withoutReviewText:E,withoutReviewTitle:y}=g||{},x=(d?y:S)||s("noItemReviewYet"),_=m,A=s(c>1?b?"shopItems":"shopItems2":b?"shopItem":"shopItem2",{reviewNumber:_}),R=d?E:I||A,C=i<2&&d,T=p||C,P=s(b?"checkOutShopItem":"checkOutShopItem2");return T?n.createElement("div",{className:L()(Xe().noGoodsReviewTips,Xe().borderMagin,{[Xe().showBottomBorder]:!r,[Xe().showSimilarReviews]:C})},n.createElement("div",{className:Xe().noGoodsReviewTipTitle,tabIndex:0,role:"link"},x),n.createElement(w.Rp,{useClick:!0,page_el_sn:207847,others:{check_out_shop_reviews:r?0:1}},n.createElement("div",{className:L()(Xe().noGoodsReviewTipContent,{[Xe().similarReviews]:d}),onClick:()=>{d||(a(!r),l(u.qf.SHOP))},tabIndex:0,role:"button","aria-label":`${R}${P}`},n.createElement("span",{"aria-hidden":!0},R," "),d?null:n.createElement("span",{"aria-hidden":!0},P),d?null:n.createElement(Ve.Ay,(0,le.A)({className:L()(Xe().noGoodsItemTipsArrow,{[Xe().arrowUp]:!r}),src:"https://aimg.kwcdn.com/upload_aimg/tm/3b58a9b5-bfbe-43e2-9729-b7b5598fece1.png","aria-hidden":!0,alt:""},o))))):null})),Ke=i(58231),Qe=i.n(Ke);var Je=(0,a.PA)((e=>{let{expParams:t,reviewStore:i,pageSN:a,trackingInfo:r,openCommentDialog:o}=e;const{activeTopIndex:s,initPageReviewListMap:l,onlyShowSimilarReviews:c,newToggleAnonymous:u,newDeleteReview:d,onMouseDownPreloadData:p,onMouseLeaveClearPreloadPromise:h}=i,v=(0,m.w)((async(e,t,i)=>{await u(e,t,!0,i)})),g=(0,m.w)((async(e,t)=>{await d(e,t,!0)})),w=l[s]||[];return c?null:n.createElement("div",{role:"button",tabIndex:0,onClick:o,onMouseDown:p,onMouseLeave:h,className:Qe().reviewListWrapper},w.map(((e,i)=>{const{reviewId:o}=e||{};return n.createElement(E,{key:o,data:e,pageSn:a,activeTopIndex:s,onDeleteReview:g,onToggleAnonymous:(e,t)=>v(e,i,t),expParams:t,index:i,trackingInfo:r,hasImages:!1,hasBtnAndFit:!1,itemShowType:b.J.GOODS_PAGE})})))})),Ye=i(32640),Ze=i.n(Ye);var et=(0,a.PA)((e=>{let{expParams:t,reviewStore:i,pageSN:a,trackingInfo:r,openCommentDialog:o}=e;const{activeTopIndex:s,similarReview:l,tabIndexTitle:c,needShowSimilarReviews:d,toggleAnonymousSimilar:p,newDeleteReview:h,onMouseDownPreloadData:v,onMouseLeaveClearPreloadPromise:g}=i,w=Object.keys(c).length>1&&s===u.qf.SHOP,{reviewInfoList:f,similarReviewSubTitle:S,similarReviewGuidelinesPopup:I}=l||{},y=(0,m.w)((async(e,t,i)=>{await p(e,t,!0,i)})),L=(0,m.w)((async(e,t)=>{await h(e,t,!0)}));return!d||w?null:n.createElement("div",{role:"button",tabIndex:0,className:Ze().simillarReviewListWrap,onClick:o,onMouseDown:v,onMouseLeave:g},n.createElement(Te,{reviewStore:i,className:Ze().similarTitle,title:S,similarReviewGuidelinesPopup:I}),n.createElement("div",{className:Ze().simillarReviewList},f.map(((e,i)=>{const{reviewId:o}=e||{};return n.createElement(E,{key:o,data:e,pageSn:a,activeTopIndex:s,onDeleteReview:L,onToggleAnonymous:(e,t)=>y(e,i,t),expParams:t,index:i,trackingInfo:r,hasImages:!1,hasBtnAndFit:!1,itemShowType:b.J.GOODS_PAGE})}))))})),tt=i(33765),it=i.n(tt);var nt=(0,a.PA)((function(e){let{hideShopReview:t,reviewStore:i,pageSN:a,trackingInfo:r,reviewsExpParams:o,interaction:s}=e;const{t:l}=(0,h.B)("comments"),{handleCommentDialog:c,noGoodsReviewHasShopReview:u,needShowSimilarReviews:d,onMouseDownPreloadData:p,onMouseLeaveClearPreloadPromise:v}=i||{},g=(0,m.w)((()=>{(0,f.A)("click_open_comment_dialog_button"),s.start({type:"click"}),c(s)}));return u&&t&&!d?null:n.createElement(n.Fragment,null,n.createElement(se,{reviewStore:i,isPage:!0,className:it().sort,interaction:s,reviewsExpParams:o,onMouseDownFunc:p,onMouseLeaveFunc:v}),n.createElement(Je,{expParams:o,reviewStore:i,pageSN:a,trackingInfo:r,openCommentDialog:g}),n.createElement(et,{expParams:o,reviewStore:i,pageSN:a,trackingInfo:r,openCommentDialog:g}),n.createElement(w.Rp,{page_el_sn:200451},n.createElement(Le.A,{onClick:g,onMouseDown:p,onMouseLeave:v,type:Ee.el.border,size:"lg",className:it().moreWarp,accessibility:!0},l("seeAllReviews"))))})),at=i(34760),rt=i(40822),ot=i(81411),st=i(15471),lt=i.n(st);const ct=(0,n.memo)((e=>{let{text:t,onClick:i,className:a,dataIdx:r,isActive:o}=e;const[s,l,,c]=(0,ot.A)(),m=(0,n.useCallback)((e=>{o?c?.(void 0):l?.onMouseLeave?.(e)}),[l,o,c]),u=(0,n.useCallback)((e=>{"Enter"===e.key&&i(e)}),[]);return n.createElement(rt.H2,{role:"tab",tabIndex:0,"aria-label":t,"aria-selected":o,text:t,onClick:i,className:L()(a,!o&&s,lt().reviewTabItem),"data-idx":r,onMouseEnter:l.onMouseEnter,onMouseLeave:m,onKeyDown:u},t)}));var mt=(0,a.PA)((e=>{let{reviewStore:t,reviewListLength:i}=e;const{activeTopIndex:a,setTopActiveIndex:r,subtitleText:o,tabIndexTitle:s}=t||{},l=(0,n.useCallback)((e=>{const t=+e.currentTarget.dataset.idx;r(t)}),[r]);return i<2?null:n.createElement("div",{className:lt().topContainer},n.createElement("div",{className:lt().top,role:"tablist"},Object.keys(s).map(((e,t)=>{const i=s[e];return n.createElement(n.Fragment,{key:t},!!t&&n.createElement("div",{className:lt().topLabelSeperator}),n.createElement(ct,{key:e,className:L()(lt().topLable,{[lt().active]:a===Number(e)}),dataIdx:e,onClick:l,text:i,isActive:a===Number(e)}))}))),!!o&&a===p.qf.ITEM&&n.createElement("div",{className:lt().subtitleText,dangerouslySetInnerHTML:{__html:o}}))})),ut=i(63669),dt=i(81482),pt=i.n(dt);var ht=(0,l.A)((0,r.W4)({name:"Review"}),a.PA)((()=>{const e=(0,s.Pj)(),{query:t={},reviewStore:i,commonCommentStore:a,commentBigPictureStore:r,globalResizeTrigger:l,lang:c,expParams:m={},control:p,pageSn:h,CartScene:v,trackingInfo:g,$axiosHttp:w,isRobot:f}=e||{},{activeTopIndex:b,goodsInfoExpParams:S,tabIndexTitle:I,clothFitReviewInfoList:E,needShowSimilarReviews:y,mallReviewNum:L,reviewNum:x,showReview:_,reviewClothFitReviewText:A,clothFitTipV2:R}=i||{},C=(0,n.useMemo)((()=>({...m,...S})),[m,S]),T="1"===m?.removePcMallReviewInGoodsDetail,P=(0,n.useMemo)((()=>{const e=C?.reviewLabelStyle;return{reviewLabelStyle:e,boldLabel:"1"===e,weakBorderLabel:["1","2","3","4"].includes(e),twoLineLabel:"5"===e,scrollLabel:"6"===e}}),[C]),N=Object.keys(I).length,{_anchoring_review:k}=t||{},M=0===b,[D,z]=(0,n.useState)(!0),F=(0,o.Mj)(),B=L>0||x>0,q=(0,n.useRef)(null);return(0,n.useEffect)((()=>{k===u.NO&&q.current&&q.current.scrollIntoView&&q.current.scrollIntoView()}),[k,l]),(0,n.useEffect)((()=>{(0,ut.G)(w)}),[w]),(N&&_||y)&&!f?n.createElement(We,{value:P},n.createElement("div",{className:pt().wrap,id:"reviewContent",ref:q,"data-nosnippet":!0},n.createElement(H,{reviewStore:i,lang:c,reviewListLength:N,reviewsExpParams:C}),T?null:n.createElement(mt,{reviewStore:i,reviewListLength:N}),B?n.createElement("div",{className:pt().baseLine}):null,n.createElement(at.A,{clothFitReviewInfoList:E,isShowReviewProgress:M,clothFitTipV2:R,reviewClothFitReviewText:A}),n.createElement($e,{reviewStore:i,reviewListLength:N,setHideShopReview:z,hideShopReview:D}),n.createElement(nt,{reviewStore:i,trackingInfo:g,reviewsExpParams:C,hideShopReview:D,pageSN:h,interaction:F}),n.createElement(Oe,{reviewStore:i,interaction:F}),n.createElement(d,{expParams:C,commonCommentStore:a,commentBigPictureStore:r,control:p,reviewStore:i,pageSN:h,CartScene:v}))):n.createElement(H,{reviewStore:i,lang:c,reviewListLength:N,reviewsExpParams:C,className:pt().titleWrap})}))},63669:function(e,t,i){"use strict";i.d(t,{G:function(){return w}});var n=i(63962),a=i(90230);i(44114);const r=e=>{const t=e?.isSimilarReview||!1,i=(e?.data||e||[]).map((e=>{const i=[];let{pictures:n,video:a,specs:r,goodsInfo:o,goodsName:s,goodsLinkUrl:l,goodsSeoLinkUrl:c,...m}=e||{};if(a){const t=e.video,n={url:t.coverImageUrl,width:t.coverImageWidth,height:t.coverImageHeight,videoUrl:t.url,videoHeight:t.height,videoWidth:t.width};i.push(n)}return(l||c)&&(o={...o||{},linkUrl:c||l,goodsName:s}),o?.seoLinkUrl&&(o.linkUrl=o.seoLinkUrl),m.goodsInfo=o,n&&i.push(...e.pictures),m.isSimilarReview=t,m.list=i,m.specs=r?JSON.parse(r):[],m})),n=e.maxListSize??0,a=e.popupTitle??"",r=e?.expParams;return{list:i,reviewMaxListSize:n,popupTitle:a,expParams:r}};function o(e){e.isSimilarReview=!0;const t=r(e);return{...e,...t}}function s(e){const{sortTypeInfoList:t}=e||{},i={sortTypeInfoList:(t||[]).map(((e,t)=>{const{code:i,text:n}=e||{};return{...e||{},labelId:t?i:0,id:i,name:n}}))};return{...e,...i}}const l="/api/bg/engels/reviews/info",c="/api/bg/engels/reviews/list",m="/api/bg/engels/reviews/mall/info",u="/api/bg/engels/reviews/mall/list",d="/api/bg/engels/reviews/delete/review",p="/api/bg/engels/reviews/anonymous/review",h="/api/bg/engels/reviews/similar/list";class v extends n.dD{getItemsLabels(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:l,params:e,format:s})}getShopLabels(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:m,params:e,format:s})}queryReviewList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{activeTopIndex:t}=e;return this.getRisk({url:t?u:c,params:e,format:r})}querySimilarReviewList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:h,params:e,format:o})}deleteReview(e){return this.postRiskNew({url:d,params:e})}changeAnonymousReview(e){return this.postRisk({url:p,params:{...e,...(0,a.L8)()}})}}let g;const w=e=>g||(g=new v(e),g)},27427:function(e,t,i){"use strict";i.d(t,{Ay:function(){return _e}});var n,a,r,o,s,l,c,m,u,d,p,h,v,g,w,f,b,S,I,E,y,L,x,_,A,R,C,T,P,N,k,M,D,z,F,H,B,q,O,G,W,V,U,j,X,$,K,Q,J,Y,Z,ee,te,ie,ne,ae,re,oe,se,le,ce,me,ue=i(13425),de=i(60055),pe=(i(35639),i(44114),i(64894)),he=i.n(pe),ve=i(37451),ge=i(63815),we=i(83052),fe=i(20162),be=i(63962),Se=i(89747),Ie=i(11775),Ee=i(15031),ye=i(63669);const Le=function(){let e=arguments.length>1?arguments[1]:void 0;const t={},i=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((n=>{const a=e(n);t[a]||(i.push(n),t[a]=!0)})),i},xe=async function(e){if(!e||"function"!=typeof e)return null;const t=setTimeout((()=>(0,ge.WU)("")),arguments.length>1&&void 0!==arguments[1]?arguments[1]:300),i=await e();return clearTimeout(t),(0,ge.jD)(),i};let _e=(n=class extends be.zw{constructor(e){var t;super(e),t=this,(0,ue.A)(this,"activeTopIndex",a,this),this.nativeScore=void 0,this.showScore=void 0,this.showScoreStr=void 0,this.reviewNum=void 0,this.mallReviewNum=void 0,this.reviewNumStr=void 0,this.mallReviewNumStr=void 0,(0,ue.A)(this,"dialogFrom",r,this),(0,ue.A)(this,"noGoodsReviewHasShopReview",o,this),(0,ue.A)(this,"goodsInfo",s,this),(0,ue.A)(this,"goodsInfoExpParams",l,this),(0,ue.A)(this,"mallInfoExpParams",c,this),(0,ue.A)(this,"subtitleText",m,this),(0,ue.A)(this,"scoreNumInfoList",u,this),(0,ue.A)(this,"ratingFiltersInfo",d,this),(0,ue.A)(this,"itemReviewInfo",p,this),(0,ue.A)(this,"mallReviewInfo",h,this),(0,ue.A)(this,"goodsScoreText",v,this),(0,ue.A)(this,"getLabels",g,this),this.getLabelsListPromise=null,this.transferGetLabels=async()=>{const{goodsId:e}=this.$root||{},t={goods_id:e,need_fill_goods_info:!0};let i;return this.mouseDownPreload?(this.getLabelsListPromise||(this.getLabelsListPromise=this.reviewService.getItemsLabels(t)),i=await this.getLabelsListPromise):i=await this.reviewService.getItemsLabels(t),i},(0,ue.A)(this,"getShopLabels",w,this),(0,ue.A)(this,"mallReview",f,this),(0,ue.A)(this,"ratingGuidelinesPopupVo",b,this),(0,ue.A)(this,"reviewAuthenticityPopupVo",S,this),(0,ue.A)(this,"clothFitReviewInfoList",I,this),(0,ue.A)(this,"showReview",E,this),(0,ue.A)(this,"showGoodsScore",y,this),(0,ue.A)(this,"similarReview",L,this),this.reviewDisplayNum=2,(0,ue.A)(this,"listShowSimilarReviews",x,this),(0,ue.A)(this,"needShowSimilarReviews",_,this),this.mixedReview=!1,(0,ue.A)(this,"reviewClothFitReviewText",A,this),(0,ue.A)(this,"clothFitTipV2",R,this),(0,ue.A)(this,"resetStoreData",C,this),(0,ue.A)(this,"initDataAction",T,this),(0,ue.A)(this,"setTopActiveIndex",P,this),(0,ue.A)(this,"newSetActiveIndex",N,this),(0,ue.A)(this,"showCommentDialog",k,this),(0,ue.A)(this,"commentList",M,this),(0,ue.A)(this,"commentPage",D,this),(0,ue.A)(this,"commentHasMore",z,this),this.loadCommentMoreLock=!1,(0,ue.A)(this,"selectedSortLabelId",F,this),(0,ue.A)(this,"selectedLabelId",H,this),(0,ue.A)(this,"selectFilterStar",B,this),(0,ue.A)(this,"labelsInfo",q,this),(0,ue.A)(this,"pageLabelsInfo",O,this),(0,ue.A)(this,"pageReviewListMap",G,this),(0,ue.A)(this,"tabIndexTitle",W,this),(0,ue.A)(this,"initPageReviewListMap",V,this),(0,ue.A)(this,"handleCommentDialog",U,this),this.mouseDownPreload=!1,this.preloadSelectedLabelId="",this.onMouseDownPreloadData=e=>{this.clearPreloadPromise(),!e||"string"!=typeof e&&"number"!=typeof e||(this.preloadSelectedLabelId=e),this.mouseDownPreload=!0,this.transferQueryCommentList(!0),this.trasferQuerySimilarCommentList(!0),this.transferGetLabels(),this.preloadSelectedLabelId=""},this.onMouseLeaveClearPreloadPromise=()=>{setTimeout(this.clearPreloadPromise,300)},this.clearPreloadPromise=()=>{this.preloadSelectedLabelId="",this.mouseDownPreload=!1,this.getQueryCommentListPromise=null,this.getLabelsListPromise=null,this.querySimilarCommentListPromise=null},(0,ue.A)(this,"handleCommentDialogByLable",j,this),(0,ue.A)(this,"closeCommentDialog",X,this),(0,ue.A)(this,"clearCommentList",$,this),(0,ue.A)(this,"onReviewSortChange",K,this),this.changeSortLableAndJudgeIfNeedRequestData=e=>{const t=!(this.selectedSortLabelId===e||this.loadCommentMoreLock);return t&&(this.selectedSortLabelId=e??this.selectedSortLabelId),t},(0,ue.A)(this,"onReviewLabelChange",Q,this),this.changeSelectedLable=e=>{const t=this.selectedLabelId===e;this.selectedLabelId=t?"":e,this.selectFilterStar=0},(0,ue.A)(this,"changeFilterStar",J,this),(0,ue.A)(this,"showAllReviews",Y,this),this.commentSize=10,(0,ue.A)(this,"onlyShowSimilarReviews",Z,this),(0,ue.A)(this,"queryCommentList",ee,this),this.getQueryCommentListPromise=null,this.transferQueryCommentList=async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{goodsId:n,goods:a,mallId:r}=t.$root;e&&(t.commentPage=1);const o=i.activeTopIndex?i.activeTopIndex:t.activeTopIndex,s=t.commentPage,l=o===Ee.qf.ITEM?{goods_review_label_show:!0,...t.selectFilterStar?{filter_score:t.selectFilterStar}:{}}:{mall_id:a?.mallId||r,activeTopIndex:t.activeTopIndex,source:2},c={goods_id:n,page:s,size:t.commentSize,need_max_size:!0,sort_type:t.selectedSortLabelId,...l,...t.preloadSelectedLabelId||t.selectedLabelId?{label_id:t.preloadSelectedLabelId||t.selectedLabelId||""}:{},...i};let m;return t.mouseDownPreload?(t.getQueryCommentListPromise||(t.getQueryCommentListPromise=t.reviewService.queryReviewList(c)),m=await t.getQueryCommentListPromise):m=await t.reviewService.queryReviewList(c),m},this.setAssignCommentList=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=n.activeTopIndex?n.activeTopIndex:t.activeTopIndex,{list:r,reviewMaxListSize:o,expParams:s}=e,l=he()(r)?r:[],c=a===Ee.qf.ITEM;(0,ve.h5)((()=>{if(!c&&"100000000"===String(n?.label_id||t.selectedLabelId)){let e=(t.commentPage-1)*t.commentSize+1;l.forEach((t=>{t.picListIndex=e++}))}const e=i?l:[...t.commentList,...l];t.commentHasMore=o>e.length&&o>10,t.commentList=Le(e,(e=>e?.reviewId)),i&&t.commentList.length&&(t.pageReviewListMap[a]=t.commentList),t.initPageReviewListMap[a].length||(t.initPageReviewListMap[a]=t.pageReviewListMap[a]),t.loadCommentMoreLock=!1,t.commentPage+=1}))},(0,ue.A)(this,"similarCommentHasMore",te,this),this.loadSimilarCommentMoreLock=!1,(0,ue.A)(this,"similarCommentPage",ie,this),(0,ue.A)(this,"similarCommentList",ne,this),(0,ue.A)(this,"similarDialogInfo",ae,this),(0,ue.A)(this,"querySimilarCommentList",re,this),this.querySimilarCommentListPromise=null,this.trasferQuerySimilarCommentList=async e=>{e&&(this.similarCommentPage=1);const t={goods_id:this.$root.goodsId,page:this.similarCommentPage,size:this.commentSize,need_max_size:!0};let i;return this.mouseDownPreload?(this.querySimilarCommentListPromise||(this.querySimilarCommentListPromise=this.reviewService.querySimilarReviewList(t)),i=await this.querySimilarCommentListPromise):i=await this.reviewService.querySimilarReviewList(t),i},(0,ue.A)(this,"newDeleteReview",oe,this),(0,ue.A)(this,"newToggleAnonymous",se,this),(0,ue.A)(this,"toggleAnonymousSimilar",le,this),(0,ue.A)(this,"handleStaticSort",ce,this),(0,ue.A)(this,"mostRecentHandle",me,this),(0,ve.Gn)(this)}get reviewService(){return(0,ye.G)(this.$root.$axiosHttp)}},a=(0,de.A)(n.prototype,"activeTopIndex",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.qf.ITEM}}),r=(0,de.A)(n.prototype,"dialogFrom",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.a7.EMPTY}}),o=(0,de.A)(n.prototype,"noGoodsReviewHasShopReview",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=(0,de.A)(n.prototype,"goodsInfo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=(0,de.A)(n.prototype,"goodsInfoExpParams",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=(0,de.A)(n.prototype,"mallInfoExpParams",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),m=(0,de.A)(n.prototype,"subtitleText",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=(0,de.A)(n.prototype,"scoreNumInfoList",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=(0,de.A)(n.prototype,"ratingFiltersInfo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=(0,de.A)(n.prototype,"itemReviewInfo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,de.A)(n.prototype,"mallReviewInfo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,de.A)(n.prototype,"goodsScoreText",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,de.A)(n.prototype,"getLabels",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{if(this.labelsInfo[Ee.qf.ITEM])return;const{labels:e,sortTypeInfoList:t,goodsInfo:i,expParams:n,scoreNumInfoList:a,ratingFiltersInfo:r,emptyReviewFoldText:o,goodsScoreText:s,sortTypeInfoExtra:l}=await this.transferGetLabels()||{},c={labels:e,sortTypeInfoList:t,sortTypeInfoExtra:l};(0,ve.h5)((()=>{this.labelsInfo[Ee.qf.ITEM]=c,this.goodsInfo=i||{},this.goodsInfoExpParams=n||{},this.scoreNumInfoList=a,this.ratingFiltersInfo=r,this.itemReviewInfo={emptyReviewFoldText:o},this.goodsScoreText=s}))}}}),w=(0,de.A)(n.prototype,"getShopLabels",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{if(this.labelsInfo[Ee.qf.SHOP])return;const{getMallId:t}=this.$root||{},i=e||t?.();if(!i)return;const{labels:n,sortTypeInfoList:a,expParams:r,emptyReviewFoldText:o,sortTypeInfoExtra:s}=await this.reviewService.getShopLabels({mall_id:i})||{},l={labels:n,sortTypeInfoList:a,sortTypeInfoExtra:s};(0,ve.h5)((()=>{this.labelsInfo[Ee.qf.SHOP]=l,this.pageLabelsInfo[Ee.qf.SHOP]={labels:n},this.mallInfoExpParams=r||{},this.mallReviewInfo={emptyReviewFoldText:o}}))}}}),f=(0,de.A)(n.prototype,"mallReview",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),b=(0,de.A)(n.prototype,"ratingGuidelinesPopupVo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,de.A)(n.prototype,"reviewAuthenticityPopupVo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,de.A)(n.prototype,"clothFitReviewInfoList",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,de.A)(n.prototype,"showReview",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),y=(0,de.A)(n.prototype,"showGoodsScore",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=(0,de.A)(n.prototype,"similarReview",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),x=(0,de.A)(n.prototype,"listShowSimilarReviews",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=(0,de.A)(n.prototype,"needShowSimilarReviews",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=(0,de.A)(n.prototype,"reviewClothFitReviewText",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,de.A)(n.prototype,"clothFitTipV2",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,de.A)(n.prototype,"resetStoreData",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.labelsInfo={},this.pageLabelsInfo={[Ee.qf.ITEM]:{},[Ee.qf.SHOP]:{}},this.commentHasMore=!0,this.loadCommentMoreLock=!1,this.similarCommentHasMore=!0,this.loadSimilarCommentMoreLock=!1,this.tabIndexTitle={},this.activeTopIndex=Ee.qf.ITEM,this.reviewDisplayNum=2,this.showReview=!0,this.closeCommentDialog(),this.clearPreloadPromise()}}}),T=(0,de.A)(n.prototype,"initDataAction",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&e.resetStoreData(),e.noGoodsReviewHasShopReview=!1;const{reviewInfoList:i=[],reviewNum:n,reviewNumStr:a,mallReview:r={},reviewNumText:o,goodsScore:s,goodsScoreText:l,labels:c,ratingGuidelinesPopupVo:m,reviewAuthenticityPopupVo:u,clothFitReviewInfoList:d,subtitleText:p,expParams:h,similarReview:v,nativeScore:g,sortTypeInfoList:w,reviewClothFitReviewText:f,sortTypeInfoExtra:b}=t||{},S=r?.reviewNum,I=r?.reviewNumStr,E=r?.reviewInfoList||[],{reviewDisplayNum:y,showGoodsScore:L,listShowSimilarReviews:x,clothFitTipV2:_,mixedReview:A}=h||{},R=v?.reviewInfoList?.length>0,C="string"==typeof x&&!!x;(0,ve.h5)((()=>{Object.assign(e,{reviewNum:n,reviewNumStr:a,mallReviewNum:S,mallReviewNumStr:I,mallReview:r,subtitleText:p,nativeScore:g,reviewClothFitReviewText:f,clothFitTipV2:_,mixedReview:"1"===A}),e.needShowSimilarReviews=R,e.listShowSimilarReviews=C,e.similarReview=v||{},e.commentList=i||E||[],e.ratingGuidelinesPopupVo=m,e.reviewAuthenticityPopupVo=u,e.pageReviewListMap[Ee.qf.ITEM]=i||[],e.pageReviewListMap[Ee.qf.SHOP]=E||[],e.initPageReviewListMap[Ee.qf.ITEM]=i||[],e.initPageReviewListMap[Ee.qf.SHOP]=E||[],e.pageLabelsInfo[Ee.qf.ITEM]={labels:c,sortTypeInfoList:w||[],sortTypeInfoExtra:b},e.clothFitReviewInfoList=d,e.showGoodsScore="1"===L,e.showScore=e.showGoodsScore?s:r?.mallScore||s,e.showScoreStr=e.showGoodsScore?l||s:r?.mallScoreText||s,Number.isNaN(Number(y))||(e.reviewDisplayNum=Number(y)),0===i.length&&0===E.length&&(e.showReview=!1),!n&&S&&(e.noGoodsReviewHasShopReview=!0,e.activeTopIndex=Ee.qf.SHOP),n&&(e.tabIndexTitle[Ee.qf.ITEM]=o),S&&(e.tabIndexTitle[Ee.qf.SHOP]=r.reviewNumText);const t=Object.keys(e.tabIndexTitle).length;e.onlyShowSimilarReviews=t<2&&R}))}}}),P=(0,de.A)(n.prototype,"setTopActiveIndex",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{e!==this.activeTopIndex&&(this.pageReviewListMap[e]=this.initPageReviewListMap[e],this.pageReviewListMap[e].length?this.commentList=this.pageReviewListMap[e]:await xe((async()=>{await this.queryCommentList(!0,{activeTopIndex:e,size:this.reviewDisplayNum,label_id:"",sort_type:0,...e===Ee.qf.SHOP?{source:null}:{}})})),this.selectedSortLabelId=0,this.selectedLabelId="",this.selectFilterStar=0,this.activeTopIndex=e)}}}),N=(0,de.A)(n.prototype,"newSetActiveIndex",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.activeTopIndex=e}}}),k=(0,de.A)(n.prototype,"showCommentDialog",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=(0,de.A)(n.prototype,"commentList",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=(0,de.A)(n.prototype,"commentPage",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=(0,de.A)(n.prototype,"commentHasMore",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),F=(0,de.A)(n.prototype,"selectedSortLabelId",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),H=(0,de.A)(n.prototype,"selectedLabelId",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),B=(0,de.A)(n.prototype,"selectFilterStar",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=(0,de.A)(n.prototype,"labelsInfo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),O=(0,de.A)(n.prototype,"pageLabelsInfo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{[Ee.qf.ITEM]:{},[Ee.qf.SHOP]:{}}}}),G=(0,de.A)(n.prototype,"pageReviewListMap",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{[Ee.qf.ITEM]:[],[Ee.qf.SHOP]:[]}}}),W=(0,de.A)(n.prototype,"tabIndexTitle",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),V=(0,de.A)(n.prototype,"initPageReviewListMap",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{[Ee.qf.ITEM]:[],[Ee.qf.SHOP]:[]}}}),U=(0,de.A)(n.prototype,"handleCommentDialog",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{xe((async()=>{e.stageStart("api"),await Promise.all([this.queryCommentList(!0),this.querySimilarCommentList(!0),this.activeTopIndex===Ee.qf.ITEM?this.getLabels():this.getShopLabels()]),e.stageEnd("api"),this.dialogFrom=Ee.a7.ALL_BUTTON,this.showCommentDialog=!0,this.clearPreloadPromise()}))}}}),j=(0,de.A)(n.prototype,"handleCommentDialogByLable",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async(e,t)=>{xe((async()=>{t&&t.stageStart("api");const i=[this.getLabels()];this.changeSelectedLable(e),this.loadCommentMoreLock||i.push(this.queryCommentList(!0)),await Promise.all(i),t&&t.stageEnd("api"),this.dialogFrom=Ee.a7.LABEL,this.showCommentDialog=!0,this.mouseDownPreload=!1,this.getQueryCommentListPromise=null,this.getLabelsListPromise=null,this.querySimilarCommentListPromise=null}))}}}),X=(0,de.A)(n.prototype,"closeCommentDialog",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showCommentDialog=!1,this.selectedSortLabelId=0,this.selectedLabelId="",this.selectFilterStar=0,this.dialogFrom=Ee.a7.EMPTY}}}),$=(0,de.A)(n.prototype,"clearCommentList",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.commentList=[],this.commentPage=1,this.commentHasMore=!0}}}),K=(0,de.A)(n.prototype,"onReviewSortChange",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.changeSortLableAndJudgeIfNeedRequestData(e)&&xe((async()=>{await this.queryCommentList(!0)}))}}}),Q=(0,de.A)(n.prototype,"onReviewLabelChange",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{this.loadCommentMoreLock||(this.changeSelectedLable(e),await xe((async()=>{await this.queryCommentList(!0)})))}}}),J=(0,de.A)(n.prototype,"changeFilterStar",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.loadCommentMoreLock||this.selectFilterStar===e||(this.selectFilterStar=e,this.selectedLabelId="",xe((async()=>{await this.queryCommentList(!0)})))}}}),Y=(0,de.A)(n.prototype,"showAllReviews",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{xe((async()=>{await this.queryCommentList(!0,{sort_type:0,label_id:void 0,filter_score:void 0}),this.selectFilterStar=0,this.selectedSortLabelId=0,this.selectedLabelId=""}),4)}}}),Z=(0,de.A)(n.prototype,"onlyShowSimilarReviews",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ee=(0,de.A)(n.prototype,"queryCommentList",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.onlyShowSimilarReviews)return;if(!e.commentHasMore&&!t)return;if(e.loadCommentMoreLock)return;e.loadCommentMoreLock=!0;const n=await e.transferQueryCommentList(t,i);e.setAssignCommentList(n,t,i)}}}),te=(0,de.A)(n.prototype,"similarCommentHasMore",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ie=(0,de.A)(n.prototype,"similarCommentPage",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ne=(0,de.A)(n.prototype,"similarCommentList",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=(0,de.A)(n.prototype,"similarDialogInfo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),re=(0,de.A)(n.prototype,"querySimilarCommentList",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{if(!this.similarCommentHasMore&&!e)return;const t=Object.keys(this.tabIndexTitle).length>1&&this.activeTopIndex===Ee.qf.SHOP;if(this.loadSimilarCommentMoreLock||t||!this.listShowSimilarReviews)return;this.loadSimilarCommentMoreLock=!0;const i=await this.trasferQuerySimilarCommentList(e),{list:n,reviewMaxListSize:a,...r}=i||{},o=he()(n)?n:[];(0,ve.h5)((()=>{const t=e?o:[...this.similarCommentList,...o];this.similarCommentHasMore=a>t.length&&a>10,this.similarCommentList=Le(t,(e=>e?.reviewId)),this.similarDialogInfo=r||{},this.loadSimilarCommentMoreLock=!1,this.similarCommentPage+=1}))}}}),oe=(0,de.A)(n.prototype,"newDeleteReview",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(t,i){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t!==Se.jF.DELETE_REVIEW)return;const a=n?e.initPageReviewListMap[e.activeTopIndex]:e.commentList,r=a.findIndex((e=>e.reviewId===i)),o=await e.reviewService.deleteReview({review_id:i}),{success:s,resultMessage:l}=o||{};(0,ve.h5)((()=>{if(s){if((0,Ie.I)(l||(0,we.t)("store.deletedSuccessfullyToast",{ns:"goods"})),a.splice(r,1),!n){e.commentList=[...a];const t=e.initPageReviewListMap[e.activeTopIndex].findIndex((e=>e.reviewId===i));t>-1&&e.initPageReviewListMap[e.activeTopIndex].splice(t,1)}}else(0,Ie.I)(l||(0,we.t)("store.deleteFailedToast",{ns:"goods"}))}))}}}),se=(0,de.A)(n.prototype,"newToggleAnonymous",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(t,i){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0;const r=n?e.initPageReviewListMap[e.activeTopIndex]:e.commentList;if("object"==typeof i){const t=r.findIndex((e=>e.reviewId===i.reviewId));t>-1&&(0,ve.h5)((()=>{r.splice(t,1,i),e.commentList=[...r];const n=e.initPageReviewListMap[e.activeTopIndex].findIndex((e=>e.reviewId===i.reviewId));n>-1&&e.initPageReviewListMap[e.activeTopIndex].splice(n,1,i)}))}else{const o=r[i],{reviewId:s,viewMoreList:l}=o,c=await e.reviewService.changeAnonymousReview({review_id:s,update_type:2===t?0:1,op_scene:a}),{nickNameOperateType:m,name:u,resultMessage:d,avatar:p,success:h}=c||{};if(h){const a={...o,viewMoreList:l.map((e=>e.type===t?m:e)),name:u,avatar:p};return(0,ve.h5)((()=>{if(r.splice(i,1,a),!n){e.commentList=[...r];const t=e.initPageReviewListMap[e.activeTopIndex].findIndex((e=>+e.reviewId==+a.reviewId));t>-1&&e.initPageReviewListMap[e.activeTopIndex].splice(t,1,a)}})),d&&fe.A.success(d),a}d&&fe.A.error(d)}return null}}}),le=(0,de.A)(n.prototype,"toggleAnonymousSimilar",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(t,i){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0;const r=n?e.similarReview?.reviewInfoList:e.similarCommentList;if(!r?.length)return null;if("object"==typeof i){const t=r.findIndex((e=>e.reviewId===i.reviewId));t>-1&&(0,ve.h5)((()=>{r.splice(t,1,i),e.similarReview=[...r];const n=e.similarReview?.reviewList?.findIndex((e=>e.reviewId===i.reviewId));n>-1&&e.similarReview.reviewList.splice(n,1,i)}))}else{const o=r?.[i];if(!o)return null;const{reviewId:s,viewMoreList:l}=o,c=await e.reviewService.changeAnonymousReview({review_id:s,update_type:2===t?0:1,op_scene:a}),{nickNameOperateType:m,name:u,resultMessage:d,avatar:p,success:h}=c||{};if(h){const a={...o,viewMoreList:l.map((e=>e.type===t?m:e)),name:u,avatar:p};return(0,ve.h5)((()=>{if(r.splice(i,1,a),!n){e.similarCommentList=[...r];const t=e.similarReview?.reviewList?.findIndex((e=>+e.reviewId==+a.reviewId));t>-1&&e.similarReview.reviewList.splice(t,1,a)}})),d&&fe.A.success(d),a}d&&fe.A.error(d)}return null}}}),ce=(0,de.A)(n.prototype,"handleStaticSort",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.$root.expParams?.sortTypeStyle||(this.dialogFrom=Ee.a7.SORT,xe((async()=>{e.stageStart("api"),await Promise.all([this.queryCommentList(!0),this.querySimilarCommentList(!0),this.activeTopIndex===Ee.qf.ITEM?this.getLabels():this.getShopLabels()]),e.stageEnd("api"),this.selectedSortLabelId=this.pageLabelsInfo?.[0]?.code||0,this.showCommentDialog=!0})))}}}),me=(0,de.A)(n.prototype,"mostRecentHandle",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async(e,t)=>{if(this.selectedSortLabelId!==e&&!this.loadCommentMoreLock)if(this.selectedSortLabelId=e,this.showCommentDialog){if(this.loadCommentMoreLock)return;await xe((async()=>{await this.queryCommentList(!0)}))}else this.dialogFrom=Ee.a7.MOST_RECENT,this.handleCommentDialog(t)}}}),n)},11263:function(e,t,i){"use strict";i.d(t,{D:function(){return n}});let n=function(e){return e[e.VerifyRisk=54001]="VerifyRisk",e[e.LoginRisk=40001]="LoginRisk",e}({})}}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/modernjs/4363_28a825d1aed87cb12684.js.map