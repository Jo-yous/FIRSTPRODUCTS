(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1459],{46900:function(e){e.exports={dialog:"_30ROJrsv",goodsItemWrap:"xv2kaBdM",goodsItem:"jk6XbH_1",goodsListWrap:"RgwLBFeQ",optTabWrapSkeleton:"_2dUsua1n",subOptsList:"_13_UEl1V",skeletonList:"_3mGM9iYR",cardWrap:"XDq2FBHu",listClassName:"un3ncFiT",goodsCardClassName:"_1CvpLOd5"}},41439:function(e){e.exports={textHidden:"_10BLpIEG"}},59659:function(e){e.exports={appStoreIcons:"_2rM4eHp6",iconList:"_2gkkG7CH",iconItem:"_2RK3iaaM",icon:"_2kspQWi6",darkIcon:"_2T5XEInY",desc:"_3_mxJKqp",subTitle:"_2nJxsLjL",title:"PFnDMZo9"}},37151:function(e){e.exports={smsModal:"j39XM26-",smsModalSecond:"_1QefJglS",smsModalInner:"R_3Bz_zp",modalCloseIcon:"_1zvCqWYG",closeIcon:"_2MxanPSh",modalMain:"GSBWZfOh",modalMain2:"_3ek41u8W",modalMain3:"hRAWFkwC",topTitle:"_2F2Aax1H",modalSMS:"_1qBxuOlx",smsHeader:"_3sT7Ev31","bg-pc-benefit-download-modal-fadein":"_2dg0dpR1",headerRuleBtn:"_31e5YI2J",giftCardWorth:"_3nKh6IJy",giftCardWorthUnit:"_1UQcdmIp",giftCardTips:"_3vxfk9fA",smsHeader2:"_1JI-va3l",smsHeaderEmage:"_2NusaB7B",animationGiftCard:"_2h_2uH5z","bg-pc-benefit-download-modal-coupon-scale":"_1vgl2rbt",smsFloatCoupon:"kfw4y4zW",ruleModal:"fDqCJ10H",ruleTitle:"N947cDZd",ruleBody:"_8H04FEs1",ruleSection:"_3R7O4G64",ruleSectionStart:"_2gu7fzA2",ruleSectionContent:"-hPwAx8P",ruleConfirmButton:"_3g0HkPC6"}},29412:function(e){e.exports={baseStyle:"uwSVVnDv",turnTableWrap:"U73mRrkv",turnTableTitle:"_1W-ImJ9y",turnTableShowAni:"JIatLZnC",titleText:"_3uoSzGl2",newUser:"_2CmcTTAw",newUserText:"_3LEwNXGB",circle:"i8PJejG9",turnTable:"_1eVn64bc",anchor:"CIDzbaSM",basePlate:"Tr5J2q9B",centerSpin:"_2OR9ysJf",spinText:"_2tLM7s4N",spinButton:"_3yCwS0W_",spinButtonAni:"_2C50Z3af",breath:"TaV-AMLe",minimun:"_3Kx46GQQ",couponPrice:"_2_E4__5F",dollar:"_35BPtrNj",priceCount:"_3g41jZ5V",floatTurnTable:"_22_5EMll",floatContentWrapper:"_3PfVjTcU",floatBgImg:"_1Ribvr9E",floatContent:"_3-Yl9HT4",floatClose:"qSX7K67Q",floatTurnTableWrap:"_3DtCz9xl",floatTurnTableTimer:"_3nss5yT3",timerWrap:"_2Z62E-q3",floatDropAni:"_1RRq7Dxt","bg-pc-benefit-download-modal-float-drop":"_1iEg79KF",light:"_2XoruZ9x",modalCloseIcon:"SiqnACHc",closeIcon:"_3DcrdH9H",bendCoupon:"_3TzHiTaq",firstItem:"vN32QGwl",bonus:"_30E9TbJ5",bonusBorder:"_3t5gEWsF",bonusText:"_1XRA7KLG",turnTableFiveItems:"_31wrG3_u",plateComponentWrapper:"_2VSGE_PF",slowSpin:"_1z5Y_ARk",rotateBeforeSpin:"_1obYFANm",spin:"_35DLVrqW",turnTableRotateAni:"_2Wu0MpGX",basePlateCloseAni:"_1YfK6oRT",plateFiveItemsSpin:"_153DDbfU",turnTableRotateAniFiveItems:"_1fbd9vAE",turnTableRotateAniFiveItemsSlowReturn:"_3BQyskNO",basePlateEndPosition:"OdRVGyMZ",basePlateEndPosition2:"_3U4MIuL-",endAni:"yv1mXRWL",anchorCloseAni:"_2rgP-FN7",lightAni:"_3iROoj8O",lightRotate:"_2_6kDizU"}},37690:function(e){e.exports={resultPopWrap:"_1mXzpmMa",couponShowAni:"_3r-35fIx",popWrapHide:"_1B3AWknU",couponWrapHide:"_18GVMViQ",resultPopContent:"_3vzAM-4g",popBackImage:"nMm-UeLU",couponTitle:"_1UfWPqkL",couponWrap:"_1GbzSsvp",coupon:"W5Xb1gMu",couponHide:"_2EWMsC0R",couponHideAni:"_MKtcLnN",couponBackImage:"_3vK_B9hY",floatSlip:"_1RaDYuwl",flip:"_1kdtOTRp",couponPrice:"_2i_jUSZA",dollar:"_2PAkDiGh",couponBenefit:"_1y1Ivm9j",button:"_2XSZyDdA",bottomText:"_1fu91G7_",mainCounter:"_2Wj3OZ9k",counterLabel:"_3ttLQ9l5",counterTime:"Yu1qzrXJ",milliseconds:"_16nQfMC6",counterSep:"_1bdVOLGQ",modalCloseIcon:"_2qNhkX_3",closeIcon:"Y9vqXMDJ"}},88048:function(e){e.exports={newQrcodeWrapper:"_2qXbwGMK","bg-pc-benefit-download-modal-fadein":"_2vMiweWB",pcDownloadQrCodeLogo:"_2aWhqfGV",leftWrapper:"_1VTOdNnq",qrCodeContainer:"_2aakEUN9",pcDownloadQrCodeImage:"_1bOiCkGJ",appStoreWrapper:"_1lF-GwLc",appStoreList:"OotOjU4P",appStoreItem:"F2Df9n2a",storeIcon:"_3-fso-Jw",title:"_131REvle",subTitle:"_3IpW9IHL",rightWrapper:"_1QjZc8tr",carousel:"_39b4lkH_",carouselBody:"_1DPhd9kH",sysBtnWrapper:"_1orTNe81",slipper:"_2cy5Nmo0",sysBtn:"_1DA2PG3t",active:"_3IOU2tQX",mainTip:"kgY2C8vL",steps:"_2APYbOU5",stepItem:"_31Su2e8y",android:"_3TkjL7kU",stepItem0:"_1SZY7PHI",stepItem1:"_29QDqtEg",stepItem2:"_1UYxEJE9",stepImg:"wPtVDQNT",ios:"_3p8P7d9n"}},82365:function(e){e.exports={qrCodeContainer:"_2zv8eibU",pcDownloadQrCodeImage:"_3PzEsjb1",pcDownloadQrCodeLogo:"_21xrcRWM",scanHintBottom:"p26k2zXY",scanHintBottomIcon:"_2bHe7V8t",overscrollBehaviorNone:"VBN0r9qx",floatSlip:"_1OYNvwxL",flip:"_1k4h2W5v",qrV1Tip:"_2D0kAEAj","bg-pc-benefit-download-modal-fadein":"_2kr7MtbY",qrV1Tip2:"_1bLfCV-U",qrV1Wrapper:"_2puD9Jac",floatContentWrapper:"vqHuXlB7",floatBgImg:"_3gN9yzKo",floatContent:"fUmxr6yG",floatClose:"_23lU8acG",floatTurnTableWrap:"_3c3Dz3Vv",floatTurnTableTimer:"_2bdSNOPA",timerWrap:"_367rEiyI",floatDropAni:"_1PxhDkFu","bg-pc-benefit-download-modal-float-drop":"_2t6jS8cf",closeIconHasTitle:"WPngwAhs",closeIconHasBottomList:"Dh4trpxU",closeIconHasTitleAndBottomList:"_3Gw6TaFn",topTitleHasBubbleList:"-M66U6v4",modalCloseIcon:"_3UgtSzYj",closeIcon:"_1X_afJEN",giftCardWorthUnit:"vm-G9OQr",pcDownloadPwaIntroPwa:"_13Et4n6K",pwaImage:"_2CR62a3r",pwaText:"_1WxWpJGp",pwaEntry:"_2bfOvTEk",arrow:"_3E9qm4rO",splitLine:"_2LoYy2Gd",pcDownloadIntroQrCode:"_1Q2ZRATI",qrCodeImage:"YuIUyLCH",qrCodeInfo:"_4wvyX7et",qrCode:"_1PeWq1u_",phoneLogo:"_3d-tK0fP",temuLogo:"_3IheEN1E",bottomText:"FwLuKTv6",modalBody:"_3-Y4bj_a",modalBody2:"_1bEOq0b3",priceCount:"_1Jgx12cK",currency:"_3iXwFbXl",coupons:"KK7YzGyv",columnStyle:"_1jhRT4zP",floatTurnTablePriceWrap:"_1uJrCXC6",showAppStoreIcons:"_3lW_jszk",qrCodeLeft:"_15n0II3Q",pcDownloadQrCodeImage2:"_3lBJZCsj",pcDownloadQrCodeLogo2:"BFbyLwmH",scanHintBottom2:"_1BhWYFkW",scanHintBottomIcon2:"_2hYqdbrK",scanHintBottomText:"_1NVs9D_B",qrCodeRight:"_2qUxwC-S"}},74266:function(e){e.exports={baseStyle:"_15pd1_FN",baseWrap:"_8TZ38Y40",isHasBubbleContainer:"RgfdprWD",closeIcon:"_3mIROZiU"}},99276:function(e){e.exports={basePlateWrapper:"_1R9PZE-P",ringWrapper:"lomMJCNB",plateInnerImg:"_323_QVKR",plateOutterImg:"_3v5ZPnY1",basePlatePlaceholder:"JI9W3Siw",basePlatePlaceholder2:"vxW0Mk7y",basePlateImage:"_3BqS1xHp"}},54603:function(e){e.exports={bubbleListContainer:"_3rF5mSlB",isShow:"_3_F5IRDZ",container:"ZdWuW6RM",bgWrapper:"_2MtQsr9b",BX_Class4:"_33HwMbHj",BX_AniKey4_OpaAni:"CvmjV9q8",BX_AniKey4:"_3JCTegL0",contentContainer:"_2SmiLwRr",avatar:"pFxHoIgQ",item:"_1noGB8fw",name:"_2T9Mw0pM",tipValue:"_2l156L0S"}},49448:function(e){e.exports={basePlate:"_3k1osL0X",basePlateImage:"UTBWp-O4",couponPrice:"_1iN9LaJg",dollar:"bB5aPqes",priceCount:"_2k4dmg8P",bendCoupon:"_1hZxmYwC",firstItem:"_2v8bQV3o",couponPriceFiveItems:"byCDMkO1",bendCouponFiveItems:"_22R_pL7S",couponWrapper:"_32l72Xq_",firstCouponWrapper:"_13LCAAZB",dollarFiveItems:"_2UBhUwAI",priceCountFiveItems:"_2ctr8Gkg",currencyOnBefore:"_2k6FFhk3",currencyOnAfter:"_4FK2JtRY"}},84828:function(e){e.exports={ringWrapper:"_3AD5YtwH"}},77573:function(e){e.exports={spinWrapper:"_3uq_siM7"}},25539:function(e){e.exports={progressBar:"zBy2fdRi",text:"_2PtPJfa0",amount:"_24CvzMsT",outerProgress:"_3REyk7nR",innerProgress:"Ojid5HZW",minAmount:"_2yHhVWP7",capped:"_2sIG0gfj",money:"AnwzwM78"}},16277:function(e){e.exports={iconWrap:"_3wb3LU5u",iconBg:"_18Mm_JkG",discountWrap:"_2T_cHBAc",couponDetail:"_1VrAzixp",discount:"-b3EpgsU",offWrap:"_3N5kTDlS",precent:"JMK_YAA2",off:"_2qwtBP9o",countDown:"_1u3tW_OX",loginCountDown:"_1IhUD3Xg",loginBtn:"_1XQoNsmJ",closeIcon:"_3g54njUG",progressBar:"_1wZXwDI4",text:"_3f743AFw",amount:"_3OPLnRod",outerProgress:"_35Sdi5GV",innerProgress:"_1rnPfFNK",minAmount:"UzWfNheH",capped:"db1Cp1vN",money:"_1vlCHF3T"}},49330:function(e){e.exports={wrap:"DoOTI9mx",riskTitle:"_1_6ti69E",riskSubtitle:"Ctm9xDTK",btn:"_1Ce6rX5b",close:"_5HsW5EKw"}},31255:function(e){e.exports={baseStyle:"_1PS2l54o",modalWrap:"_2gmMU6Ih",couponBg:"_1DKqBe5c",closeIcon:"Xc2PYTHn",title:"KUWBj5u7",leftStar:"_3nNZYVub",yellowLight:"_3ySiylj-",rightStar:"edvjJOsz",couponDetail:"_38BxnFJB",discount:"ANggW6GY",offWrap:"_3-1uDVKp",precent:"_1OvwurFi",off:"_3reVGog5",countDown:"_259gpjDi",loginBtn:"JX6X-3DZ",orders:"_2lmfwRCr",discountWrap:"B6-onans"}},86645:function(e){e.exports={topContent:"_2CEQ5t2g",bottomContent:"_1KgqgCXK",priceTextModule:"G_uXwFFG",leftDot:"_1IOmWHr1",rightContent:"_1_L5o7t4",priceTitle:"_1WejmsVZ",priceSubTitle:"_1c92Hu_0",viewPolicyBtn:"_3UG1iM0X",rightArrowIcon:"_3w8dNUtc"}},71705:function(e){e.exports={collapse:"_7co2YUlZ",header:"_1mZz-Ca-",title:"MVC-qu7w",arrow:"Tjnp2lQl",collapsed:"_10hmiL_h"}},43430:function(e){e.exports={bordered:"_3cEK0EKa",gray:"_2GrjAMUZ",green:"_1fZcj5Zr",row:"_2IabzVKz",col:"_277zEwxd",top:"_1rBXypAE",left:"_2aaopOcB",right:"_5-9Y_trm",bottom:"_3eDbLz8c"}},64727:function(e){e.exports={header:"_2VbmlT3y",title:"_1CiXCCc0",paragraph:"_3UoWsoCm",link:"_3dUtEnr_",table:"_3_kg0cRA",tableText:"_1hi0hAd6",tip:"_2--FGnmO",tableIcon:"_2DQx0soE",info:"_1Jzyadgy",infoIcon:"_3N8gSY5P"}},13304:function(e){e.exports={arrow:"_8ex6mpLc"}},24098:function(e){e.exports={arrow:"_18WC1HUf",target:"UGZ4KlkA"}},3530:function(e){e.exports={wrap:"_3y7Bvy8K",icon:"_9dGk3RuR"}},59489:function(e){e.exports={container:"qWGBNFP6",title:"gmp_YtkT",shareIcons:"_2Ojsibl4",iconWrap:"_1lbLIvD0",icon:"_3UrvO_JS"}},65115:function(e){e.exports={wrap:"_1pK0UGON",btns:"_1FBa8uIt",btn:"_1JCcsSpj",singleBtn:"_3V2wVcOm",title:"_2Rrnszve",desc:"S-eaMYfO",point:"_1n4hccRg",goods:"_3mwIGRQ3",img:"_10fh97_3",price:"_1bZznfYe",salePrice:"_3zF7s0_V",linePrice:"DRrDIfsL",subTitleWrapper:"_1Zyiz-r5"}},33673:function(e){e.exports={wrapper:"TcbEhigk",content:"zgaWydB_",closeIcon1:"_1RI0jYu3",topLight:"_3RXRHir2",outTitle:"qVbS1mf8",salePrice:"fDlOIokJ",linePrice:"_3dHsr-NU",outTitleText:"_2rtJgTup",title:"_6wLpK3wr",titlePoints:"_2b-CqsW5",middle:"_2HJeum0X",leftCoupon:"v7zj9INo",goodsImg:"_3hSZos-W",bottomShadow:"_1dw1qERT",tagBox:"_3RppBDW6",desc:"_1Kr_g7Ql",arrow:"_3gSAGi2h",rightCoupon:"_20r90OOt",rightCouponContent:"_31XX_9wp",rightCouponBottomShadow:"_2mqbe5uo",rightCouponBg:"_19mzRgco",maxPoints:"_1djY20vA",maxRewardPointsAmount:"_3tSCo_No",points:"_3zRgnGX_",bottom:"_1OeP0sEY",btn:"_3qzJRqsa",l1_s_ani:"mjl6kwEH",l1_o_ani:"E6KTWGZn",btnText:"b1ptqF5y",btnBottomShadow:"nHexQTII",btnLight:"BK--FJis",rtlContent:"_1pF3SwbI",countdownWrap:"_1YQ03L2U",countdown:"_3ROfSf9F",cell:"_1erAO5PO",colon:"_3I26Z7lB"}},85213:function(e){e.exports={wrap:"_3-lOj0q-",btns:"_1HOP6BBT",btn:"_3JBsDnGs",bg:"_2r6ELpcc",popupShow:"_3qf66Gfr",popupShow1:"gNw_ft1e",closeIcon:"_2VqoHGAk",header:"_2RoH7cUT",title:"_1ucCdQ0K",desc:"_-22niQmQ",point:"_29FhdhLb",goods:"_2ItPn-p6",img:"XtlsLXU_",price:"_1pz_PTgA",salePrice:"uQi0UOha",linePrice:"_2zX_rzSh",time:"XpVDGIp5",colon:"_33pi5_7H",countdown:"SCR-l0rf",rtl:"_3oIsDoJG",bg1:"_3KaSjUGF",title1:"_3W7-ct0r",title1Content:"hc_SUgKm",goods1Wrapper:"gSj5gVcX",goods1:"_25UfGSSi",goodsImgWrapper:"_TIxC1Qw",img1:"_2_qxHRVB",goodsHat:"_1vKKmZml",priceText1:"_1m98LkMj",countdown1:"K34zyZnv",countDownWithDay:"_1avZa16a",timeWraper1:"_1Uecgsc3",rtlReverse:"_2RdkiTmx",time1:"_9G7fb0pU",colon1:"_3scYujzs",desc1RichText:"RQ0D1zND",btn1:"YX4uyk2r",closeIcon1:"_1CXMJopl"}},98886:function(e){e.exports={button:"_3U_GH16V",target:"_1caosyJZ"}},70535:function(e){e.exports={wrap:"_2Fkk_bmp",fadeIn:"_dVr0sj5",wrapDisplayBlock:"_3E_b-GII",wrapDisplayBlockMask:"_3shJweSW",left:"_32WOqYbM",detail:"_349IRNDM",floatLeft:"_2TsMD3lW",leftBottom:"_3thNGZ4k",goodsName:"HZ_BBbqn"}},35846:function(e){e.exports={wrap:"_2uZR_ez4",top:"_3A_gfW2x",goodsImg:"_3VNV-f1n",tag:"_1oRhFv-s",defaultTagStyle:"_1EviTEsW",icon:"fM_xQLwF",saleInfo:"_15kmTES-"}},97559:function(e){e.exports={wrap:"_2SJgabDI",title:"_2PC7Ej-q",bg:"_2qZk2XRR",titleContent:"_-56XH4jY",textLeft:"_2pk-S4mx",textRight:"_3fpOSnmV",textLeftArrow:"_3rTj5-qp",rightIcon:"_2jOUISpx",list:"_1Y1b3WF4",splideArrowMask:"QjNUVL2-",arrow:"KoKJUCt-",baseArrow:"_3yXJ709j",rightArrow:"KWCb73C1",leftArrow:"_3KJXXgUg"}},71400:function(e){e.exports={title:"_1hB8e82w",titleText:"_2evTIJj1",explainIcon:"_3KiIaOJ9",list:"_85rO3G4s",item:"_22p7YMDn",itemLeft:"KI8h0Ujv",itemLeftText:"_2y0FUJsr",gap:"c9CFNTqE",arrow:"_1mcrwzsR",itemIcon:"_1pT5Ijcg",explain:"_3Df0aMk5",explainArrow:"_3vBSoyFU"}},84408:function(e){e.exports={title:"_3GFYLDXq",explainIcon:"_LPcEd6j",list:"_2ZoksOdz",item:"h1T_G-hY",itemLeft:"L1b3BAEx",itemRight:"_1iC9Iu0r",itemLeftText:"G3KSSFbT",gap:"pMMvZoxP",arrow:"CVdJPyi9",itemIcon:"_1mm2AS7H",view:"_1h2nlfz0"}},32941:function(e){e.exports={wrap:"_15DkLOgC",item:"_3zqdyJA0"}},50667:function(e){e.exports={addCartBtn:"_2mRd3DZR",inner:"h4MAp8Q0",addCartBtn4BorderButtonStyle:"_2Y-vKfWF",operationIcon:"_24Tm7A3l",operation:"zDUx7ag8",operation4BorderButtonStyle:"_2KE_bFml",mid:"IZHOLYpV",midContainer:"_1JF_DBmJ",midTop:"_1jo_6tOo",mid4BorderButtonStyle:"Emlqz4Bk",added:"_2pGHsULg",spec:"_1z03u0Wj",spec1:"_2qSxzeth",spec2:"_3k86YBg-",spec3:"_38skywgu",listWrap:"_3G67NJOi",listX:"_7_HNrBwP",listY:"_2fNccJXJ",listItem:"_33fMtMQU",activeItem:"_1DigQGY2",disableItem:"_35YfV2iF",arrowIcon:"_3yoxN8Rf",bubble:"djn42KaX"}},20252:function(e){e.exports={wrap:"_2lvFjjbc",itemWrap:"_2LbUCDfJ",itemTop:"_2Wem5yN1",explainIcon:"_3BrPPDsn",itemContent:"_20h-NWqZ",itemContentPaddingTop:"Z27e2m83",expandedContent:"QoQKIZRt",arrow:"_3qqPLLGr",expandedArrow:"aHb_hTYT"}},60525:function(e){e.exports={wrap:"JjJ06Oqi",icon:"_1s-h0Ele",rightArrow:"_2t8bHi_F",dialogWrap:"_2zrujixc",dialogTitle:"_3BYDAt83",content:"_2jNsmRLu",dialogItem:"_4cmnTwy8",confirm:"_2MpkBPw0"}},33590:function(e){e.exports={placeholder:"_2C4JFdsK",wrap:"_1i_Dm6uq",crumbs:"_2LmAUJYN",arrow:"_2hphVuol",purchase:"jC2ZkoyY",picArrow:"_25zTto9i",breadCrumb:"_3YTayS2z"}},71651:function(e){e.exports={wrap:"_1kVHzVQt",richTextWrap:"_2N9tya3Y",richText:"_1Mrm7qDA",contentWrap:"_1iGQsL9G",title:"_3QKhMGsL",arrow:"_2MimenVM",itemWrap:"_2b64mZGk",dot:"_2eLWfTBy",item:"_3AwjJSMC"}},60995:function(e){e.exports={wrap:"_1DIWD9y_",contentItem:"_37L5TFo2",arrow:"_3VOJ_lqo",leftArrow:"_2VBStR_n",baseArrowBtn:"_1HcXUFDw",innerArrowIcon:"_3hH-pbmk",rightArrow:"_2EOVSZ-v",arrowMask:"O5-aDLQD",trackClassName:"KJIRbZok",arrowSpace:"AsyzuvvP",infoItem:"_4LOzIaxl",infoTitle:"_3R51Fcsc",list:"_2nhSzVbB",left:"_2DgqJ8kK",halfLeft:"_31X67LNC",right:"aQLForjD",item:"_34JTApvl",titleIcon:"_3X7LrTW6"}},12377:function(e){e.exports={wrap:"_3h1wJ8hj",multipleText:"P0ceVZK6",singleText:"_2GkQK7vY",nowrap:"_2BgpQoxj",subText:"AabsIsps",dot:"_3kjnGbNQ",etcWrap:"_3tpTimXT"}},18972:function(e){e.exports={wrap:"_2T33KuRn",img:"_1D7ciyw8",text:"_3TePv8Qy"}},73055:function(e){e.exports={title:"_2MAV13Hc",subTitle:"PrA_YvMT",icon:"_1qUi_3xF",item:"NJajLuUA",deliveryBubble:"_17jqqlKx",questionIcon:"_2PXiHtcU",bubble:"_2pZ-JHzJ",bubbleTitle:"_2mGQVYHn",bubbleContent:"_3X6IPQ8O",contentItem:"_3IKaHdsG",richFlex:"_2fr46wit",arrow:"_1niWaGNW",leftArrow:"_3nb0qi5P",baseArrowBtn:"_2HeKj3og",innerArrowIcon:"_1Kpx_CuB",rightArrow:"_1MMbHRqL",arrowMask:"_1-wu3GRL",trackClassName:"_19aZcmOb",newContentItem:"_2ROonD9q",arrowSpace:"_1Q5l1mf-",infoList:"mkWioFti",infoItem:"_3oOyYWvr",infoText:"_28XXQslQ",content:"_21TQctPw",expressTableWrap:"_1t2Yftw7",timeList:"_1BhLQ15G",labelCls:"U3kK7oyo",numCls:"_24sKtNu8",processCls:"_3qv3G_kV",richTitle:"_2H888XIh",richTitleWrap:"_23hcVfpy",localTitle:"_36uyU_h5",cooperateInfo:"_1Rvdu_Dk",cooperateInfoText:"_1jpdhUSO",cooperateInfoImg:"_2VyRZAgD",estShipWrap:"rC4p08qv",estShipText:"_3w0ltGek",expectShippingPopup:"_3-HeTjEE",expectShippingTitle:"_3CTexySB",expectShippingTextInterval:"_24mCHbVL",estShipIcon:"_3eD_6ME8"}},80932:function(e){e.exports={wrap:"_15FwGJtp",localWrap:"_25Z-Sw75",detailContent:"_68UGaXuG",headWrap:"_1NZQFyva",localHead:"WzOVKQqz",localTitle:"_3q5ah9QG",localTabTitle:"_23LOv67Y",active:"_2WA3XaNH",single:"_3E_7cwku",head:"Scb6TT0p",title:"_3BrJEdh-",bar:"_1Uc5hDAG",containerWrap:"CD2N5wRS",container:"_1SpTkfhZ",tabContent:"_3aE2su8f",tableContainer:"_1Oc3QlM4",extInfo:"_12Z75YEI",extBox:"_3pJ0lEl6",extIcon:"_2cFLMMNc",informationIcon:"_-5zJHxYc",extHide:"_1RHYhV4f",extText:"_1ouwnGxX",cell:"_1P2_eNUH",mustCell:"A3ITw3Lv",openFlex:"_2vjSO9A8",openFlexImg:"_3ukIFFkW",content:"_1TkHxvCm",timeTop:"m427rwWx",timeTopNoContent:"_95As_NPf",newTable:"DwVq3sCQ",rowLeft:"_32-wpYii",rowLeftText:"_382SpkyI",rowRight:"_3bTW9bT6",costValueDot:"R8S7O-T9",companyCell:"_2bRqLgPo",companyWrap:"_3xhnrSW9",arrowWrap:"_2HfO7w4N",mask:"_2Q_PfsS6",downArrow:"n5nklke8",company:"_3gOwH1TG",companyIcon:"_26PoBhYX",etc:"_1MJ-WHZC",howClickWorks:"_2xaKgMzE",rightArrow:"_2CGVUj5Z",environment:"_1MLieR-F",environmentIcon:"_2kMU1WtI",environmentText:"_3yGXF0R6",environmentDesc:"x6l6asbk",extraInfoV2:"_2fFx0hXA",extraInfoV2Title:"_2wLBUfT6",extraInfoV2Detail:"_1sXDHXUX",cooperateInfo:"y0feZsZt",cooperateInfoRight:"_2crOQKbT",cooperateInfoText:"_14SSTUKH",cooperateInfoImg:"_2g_iKGwq",cooperateInfoArrow:"_2nO3Ag6W",cooperateInfoBottom:"_1GEDROBo",seaExplain:"_1LgFLr3g"}},63622:function(e){e.exports={wrap:"_1G6xhyZq",title:"_26owdurS",index:"uKWMmUWO",subTitle:"_1XHP-pM_",desc:"_3Eb4KP8Q",part:"_1So3UcoD"}},62605:function(e){e.exports={title:"_1EWV_wKz",infoItem:"_1gh9thY8",explainInfo:"ZfaED6ph",contentText:"_2Uf5tnBc",timeDistributedTitle:"_2GcHllGg",timeDistributedExplain:"_1V9aYpm2",deliveryTagExplain:"_2X1epPe5",deliveryTag:"EnDc3z6Z",extInfoRich:"_1mhQMqk4",extInfoRichItem:"_2Z78Oa4a",hasRichExplain:"_17UhSXP_",threshold:"_39jDevpb",thresholdContent:"_2i3nttKQ",thresholdRich:"_3IDKlH7I",thresholdContentShowAll:"_3E-4w9A4",arrowWrap:"_23LrPx4T",arrow:"_3L-zC_ls",bubbleArrow:"_2npk3e3H",clickable:"t3YeAdN_"}},70941:function(e){e.exports={richTextWrap:"UtiYAn5h",richText:"_1P4Wbai0",wrap:"_3NiN5aa6",icon:"_3j9lKB6o",arrow:"lbtB_KN1",part:"_1vtOf3_i",title:"EO-_Lbsu",text:"_2Y07v7dn",titleIcon:"ilCfXVD4",contentList:"NbgmeX5M",listItem:"_1UbUJusQ",learnMore:"_3JoaJ-ax",rightIcon:"_2kRuiken"}},67114:function(e){e.exports={wrap:"NyP7oUZU",titleWrap:"_344S_68H",icon:"_1M7pjxGB",arrow:"_3gk7U3E0",title:"_1CeDpmFA",clickable:"_2SICbXWg",item:"_1jMLrmr_",benefits:"ZOqQGnLV",splideContainer:"_256tTe1I",baseArrowBtn:"S3HQFr2A",leftArrow:"_5M7YcQSP",rightArrow:"_3lI1ZZhQ",innerArrow:"CzHvEGqC"}},25418:function(e){e.exports={item:"_2IawwL3t",title:"_3OXx2f04",titleIndex:"_1r078Q-R",titleText:"_1r65ditM",itemContent:"_3aaFjZaL",benefit:"_1LQC-Gfe",newBenefit:"_2cMd_zyg",subtitle:"_2J_QS621",contentWrap:"_3O_qH23j",newMore:"_2GPsVgGC",instructions:"_5ejS1OBc",desc:"_3ppnXjiw",section:"_38WsnE8g",dot:"_1xc3Fzcm",benefitText:"_39BDQA6r",more:"cTwKByFz",jumpText:"daHkndjg",arrow:"_2H2FTWqw"}},77211:function(e){e.exports={wrap:"_2pJjDGlh",richText:"_29vcry7V",arrow:"_3Fp18rTn",popContent:"_3WJtjie4"}},41606:function(e){e.exports={wrap:"_1nfTzj38",richTextWrap:"_33qxRDod",icon:"_3_t-BWCy",arrow:"_1zt7jfJS",clickable:"_2qNdwZU6",benefit:"_8gE4qxuR"}},12449:function(e){e.exports={progress:"_2kHCVhk2",progressBar:"_3go5DL9k"}},89383:function(e){e.exports={wrap:"_3ice6QH3",richTextWrap:"_2DicYdBP",richText:"_1_jea12m",contentWrap:"_7IdElC4z",title:"_3ZWgJJIt",arrow:"_3pETi-d4"}},70408:function(e){e.exports={timeList:"dxAWlHWP",timeItem:"_2jbe-bxB",label:"_3MnBy7iN",highlight:"_3s2zVNlP",num:"RIcsk8HN",timeRawItem:"f_vq9fbL",timeBarList:"_3cHNsW5y",timeNameList:"_1D_Dzabb",percentageList:"_9rU8AOoJ"}},50544:function(e){e.exports={timeList:"_3bnh2mbu",label:"_1IOBZkib",highlight:"_2sO5T9mU",process:"_3im-suTm",processWrap:"jQ-HaDM8",num:"_1MLkrjMx",seeMore:"_3pgu2LBM",seeMoreText:"_33H1-non",arrow:"_3bsYqLVd"}},83427:function(e){e.exports={leftTitle:"_21oxO5Bb",clickable:"_1jjVDU1R",titleIcon:"D1oZQdPu",itemTitle:"_13czWA7A",arrow:"_1VDbay5B"}},43071:function(e){e.exports={deliverInfo:"p6ACBVL-",item:"_16ZzkLMc"}},73846:function(e){e.exports={wrap:"_2TnAoLC5",content:"pr48eP02",icon:"_2anJkbtP",arrow:"_21r9ldnX",clickable:"_1k0-h9Jr"}},14414:function(e){e.exports={wrap:"_21HQTiOr",certificationItem:"_1WW0oRC7",click:"_1LGiCNsf",name:"_2Q-ZCHED",icon:"_3MB-Jzmn",valueRich:"_27qH06si"}},89919:function(e){e.exports={wrap:"hsh6QVpq",relationItem:"_3Ln255JV",relationName:"_378CymG9",relationIcon:"cL-G1dC9"}},47101:function(e){e.exports={wrap:"_3EAEXG99",list:"aRd9GthB",item:"_1PpZWiqt",itemIcon:"_2eDPKLNd",itemKey:"_3KSAaXXG",itemValue:"_1k6CujJJ"}},37437:function(e){e.exports={wrap:"_2CTN8pG5",textRich:"_3ZLwIkAx"}},81119:function(e){e.exports={wrap:"_2JYAImSO",title:"_3dPbvxSo",titleIcon:"_20LGg0pq",listWrap:"_2k0clWTB",left:"_21bZML_Y",listItem:"_1bx0-ATP",subTitle:"_16L1FQZj",subTitleIcon:"_15F__FgO",popupItem:"_1cIjVe0i",popupItemIcon:"_2vDA0z78",popupTitleBlock:"_3CP7Yk8h",popupTitle:"_3TwwfVcT",popupDesc:"_1OLcVAcq"}},65913:function(e){e.exports={goodsDetail:"_151rnt-L",title:"lrb8rZQJ",titleV2:"FSPfUoK9",favAndReportWrap:"_8O63Jowt",divider:"_1_ldiYMh",titleWrap:"_2R_25RK2",report:"_2yTA5nwz",reportItem:"_8yFr6bEJ",arrow:"wPvUXoqt",videoItem:"_289KmyNH",imgWrap:"_2jCYETGt",imgBox:"_1JEUQB2s",videoPlayed:"_1Xi5d6wT",img:"_1utFCyM0",videoImg:"_3tS9ghgK",video:"_2ccnEfSf",videoIcon:"HDw-QXbu",icon:"_33IqP4pl",largeIcon:"ODm5ZTRb",textDetail:"_2lHZTmSd",container:"LqemymRS",containerShowAllPic:"_23UQG0mN",containerHideAllPic:"_3NKWJjn8",containerHideAllPic2:"_1Y_k8IWp",sentinel:"_3tqj-GMO",sentinel2:"_3-RtGZRQ",seeMoreContainer:"A0xWLYEC",seeMoreMask:"_3h-FgyjU",seeMoreWrap:"-B_8SpNA",seeMore:"NZxx3AXl",downArrow:"UwGeB8k4",complianceInstructions:"_2Ee7eH5B"}},27708:function(e){e.exports={wrap:"_3wnpEDgn",quickLookIcon:"_2YpC87fb",inSidebar:"_3OzWOolX"}},54099:function(e){e.exports={time:"_3-0Nn13l",colon:"_283UiaLY"}},92143:function(e){e.exports={wrap:"_11T9J_Np",friday:"Q98UN0a1",fridayIcon:"_1cAaYthz",fridayIconImg:"v2Mnc4eV",isBlackFriday:"_1ozVjK0k",icon:"_3kHW-IFn",time:"hubd_Tq_",titleWrapper:"_26dSgK_Z",subTitleWrapper:"_3MAMRFsL",promotionSubTitleWrapper:"jiqa5mNn",title:"_2Vz8KEzv",oneLineEllipsis:"_1SEx4SK_",twoLineEllipsis:"_3nCujrQk",threeLineEllipsis:"_2T7jZisf",divider:"_3bZecnPt",pureTextSubTitle:"_1Jc0i1yp",subtitleItem:"_1q7bGyTl",subtitleContainer:"Lq2C2aT_",subtitle:"l0SsK7lj",countdown:"_1DTZ21cM",dot:"_2qU0mGNR",subtitleItemText:"_3h7UFVwl",subtitleItemFlex:"_2eIO-zxs",colon:"_3skZu0Fc",squareFriday:"_3gD7_CxP",squareFridayIcon:"_11PabBrc",isSquareBlackFriday:"AQx03T0Q",bg:"_8uS1iOxX",bigBgImg:"_3XvpRgS1",smallBgImg:"jheXX6ph",promotionMask:"ARTl3Sel",promotionInnerMask:"_1QHTnL_I",arrow:"_3u5ShU4u",click:"_3wV9bwI4",textTag:"NfTNhms9",skelton:"_3BaSZ87m",notFullTitle:"_3vBP23uO",benefitTitle:"_358qULlm",line:"_25P_p-Sm",benefitIcon:"_2dsIveWR"}},9975:function(e){e.exports={wrap:"SC0RY6fg"}},24805:function(e){e.exports={min:"_1MQdv80K"}},41889:function(e){e.exports={wrap:"_2kwFIITC",discountInfo:"I5CCajYd"}},4455:function(e){e.exports={wrap:"_37H0XeIF",coupon:"_2wElcii3",couponBg:"_2mzq84Wm",couponContent:"_8YNeM8uL",title:"_17dD-KKr",buttonDesc:"_2_LWzWKq",discountInfo:"gTwvvaho",useDescInfo:"_22kMZWp6",codeInfo:"_2Wzw0fsz"}},36286:function(e){e.exports={wrap:"RiLRwnUM",icon:"cJI6yELE"}},26357:function(e){e.exports={wrap:"hEOhneHg",freeShipping:"_1bU6NfhY",icon:"_3KW_xQlN",endTime:"_2gAefPgR",timeContent:"_1bhpo3wR",time:"_2iQPv68y",colon:"_1JenjeiN"}},75261:function(e){e.exports={content:"_3hTsQyCR",top:"_2JkWU7cr",title:"_1141HpN1",statusInfo:"FLL-nRBm",orderInfo:"fZ2JQFQr",amount:"_2m5F8B_2",orderList:"_124p3Kr5",listWrap:"_2UzN7VK7",listContent:"_27X-oQ7j",orderItem:"_2XcM5Hgf",orderContent:"_3BrQjDmw",placeholderOrder:"k-t9kZ_3",fadeIn:"_2OVGjb6x",contentFadeIn:"_38ckRuwR",orderImg:"_1LBtUr2W",img:"Y3jaoXi4",orderNum:"_3xqjWiRo",pageBtn:"_2emrCKgD",arrow:"_2DNjb5Lz","arrow-left":"_1p_y_CSY","arrow-right":"wVUbDe7w",hide:"rhfwVS0p",leftArrow:"_3dnR9_ez",rightArrow:"_2_UXMoPB",arrowHide:"_30klqjTj",colon:"_1MLL7EgO",timeContent:"xRjyEs40"}},39226:function(e){e.exports={wrap:"_2BY647Z8",flex:"kfk0AfSK",line:"_2tysGKNh",before:"_1pJ1_VSB",after:"_3oAg4MQY",none:"_2Coh_ymL",time:"_26abhBGM",colon:"_1gSx7WDX"}},27216:function(e){e.exports={goods:"_2QgHMydL",goodsImg:"_1cjFoYB2",errorTip:"_1NvzEyZJ",error:"_2Ix55EfB",icon:"XaqGTntX",errorText:"_2Ibpl4ky",errorColor:"Xk2k3S1Q",goodsInfo:"_292ylpkH",titleBlock:"_33vPpQJP",goodsName:"_3FgtW8DG",goodsSpecs:"_3z3pbwyd",goodsPrice:"_3uoJLvuv",curPrice:"_27NxhuU9",linePriceWrap:"EIoCg5-e",linePrice:"_1ajktyNn",reduction:"_9NAK_uIG",lightningIcon:"_3WCqyTe_",suffixRich:"cTt0nJHn",suffixRichDis:"_2Nt5aqPl"}},8732:function(e){e.exports={bar:"_2K0tfH4s",max:"_2JW2cy7S",text:"_1cT7KrP1",firstLine:"_12TqB1X_",withSecondLine:"_1IdSYNcc",secondText:"_2Idr0XEf",icon:"_3h-0xR_W",placeholder:"_7SMJkLzr"}},22758:function(e){e.exports={wrap:"_2XlzpgEP",text:"_2qbHvEqM",progress:"_3F32yjLG",inner:"_3etOVh7H"}},35144:function(e){e.exports={item:"UQ3wsBYd",quickLook:"_3Lj8RjUM",showQuickLook:"_1IHGgjZC",right:"lzfwtHc8",goodsImg:"_1UET7zdy",goodsName:"_2nBd7tZy",skuList:"_1zDEx0zN",sku:"i1ARY6aX",priceWrap:"_2nguKPhq",goodsPrice:"_2hzBoLVx",linePrice:"_3G0AUNC_",marketPriceStr:"OmRzTIs5",minOnSalePriceStr:"gZ2JspoE",sellInfo:"_1zOyTAv_",sold:"_1B6m_6-s",verticalLine:"RyXng6lM",bottom:"_2SYiklZA",cart:"_3VAIfuSg",amount:"_3IcqIox6",lightningColor:"_2zhHSHrM",lightningIcon:"_1MLw5ll6",soldItem:"a8iCbTtU"}},95594:function(e){e.exports={container:"_2w-mSj5c",extend:"_2r4KxhoT",core:"UNfVHBB_",padding:"_3_i8kXqC",transition:"piJsmIAd",head:"_39k32deH",headTitle:"_2FmsXD3M",iconWrap:"_3Mc4YA3A",headIcon:"_2YWjkcmN",promoToasts:"_2g9mllwq",delivery:"YWwb3AVM",cartBtn:"_2d2SqM1f",gap:"_2UwU8pkc",goodsList:"VWGP5D9G",title:"vxfJEJpB",sticky:"_1EtUr3TX",bottomBtn:"_12Fulzwm",gotoCart:"_17pwARcZ",keepShoppingWrap:"JiGi3yF3",promoImg:"_2sK7vvrx",checkoutPromo:"_1VSzah5Z",btnTopPromo:"_2Kgry5D1",btnTopPromoImg:"_10KXQeOY"}},36059:function(e){e.exports={lightImgWrap:"nshsdMNv",lightImg:"_1aUH4iiy",smallIcon:"_1oxWRyp1"}},26479:function(e){e.exports={wrap:"_1NLnoWrL",title:"_2Ozp43lp",banner:"_3hSiyLGz",bannerContent:"_1OX1Q7lG",bgUrl:"_2oLOhQWg",desc:"ruKIR7y9",item:"ELpNT0fm",itemContent:"_3H5B_Jas",itemTitle:"zROhz_rx",titleIcon:"WnKf4wcc",btn:"_2G-Zuzx4",subText:"_1ezTCeKv",icon:"_3KJTv6hg",flower:"_2vB7PDtQ",rightFlower:"HTV_vqHL",brandPexfixIcon:"_1wnQkejV",brandLogoIcon:"_320rF6LA",bannerTitle:"_39t2rFPo",blueBanner:"_3bvxBT86",icon1:"_2gto2vJm",icon2:"_3vLNDP5j",icon3:"_3guliboI",titleDivideLine:"qqPWipeI"}},19363:function(e){e.exports={wrap:"_1bwcsyvR",clickable:"_2SpO0JQ2",direct:"tFwnFqTR",authorized:"_3fR08iqe",content:"RWif4CUN",name:"_2iTnxBTB",desc:"_17MlyEKy",arrow:"feputj9c",descContent:"_1uT1OjvC",bg:"_3LlkOviP",line:"p92V2Mod"}},21854:function(e){e.exports={wrap:"_2IdZwar1",changeHeight:"_1Ttp-ZWB",unvisible:"_1_LbNKYc",dot:"_326PffuQ",none:"_3dZuav8b",transitionText:"vJD3SHFD",richText:"_49LCF8Gy",richTextWithTransition:"_2oLtTgyX"}},77102:function(e){e.exports={wrap:"_1jhCaQnS",promotion:"_1GA_NuMN",promotionWithInstallmentBenefit:"_2zWjH1yB",btn:"_2DggVTup",tag:"_2p-LGqsO",tagIcon:"_1OR1t9qd",tagText:"_2CED1tnG"}},94976:function(e){e.exports={wrap:"_3MShBxZE",title:"_10eYY7Ep",content:"nJdU9Wyy",infoItem:"_1mu7igWy",btnWrap:"_2FprZst2",btn:"_1CqyrG_r"}},2484:function(e){e.exports={wrap:"_9CkevA_5",contentWrap:"_1O75avGp",line:"_3jpwQ_aI",icon:"_6tRblcOa",digits:"_lhmCeDu"}},52062:function(e){e.exports={wrap:"B_OB3uj0",title:"_2jCcFRkJ",item:"_1YBVObhm",itemWithClick:"_3SW-LUS7",copyButton:"_3x3YIfTG",copyWrap:"_2uye4meK",moreWrap:"_2oF7hNvC",more:"_3xcJKtRB",arrow:"Op08wvRF",arrowRight:"_1zb1BrOi",itemIcon:"_1uU-tuKx",dimensionEntry:"_1TaDf_9h",certification:"CcBfyrWj"}},44252:function(e){e.exports={highlight:"_2PnV4G1F"}},25650:function(e){e.exports={wrap:"_2tVJUTuv",title:"_3L8WzSkm",item:"_1-Caexem",copyButton:"_2bY6LFEn",more:"pzcnhEma",arrow:"I5jn0wfb"}},26102:function(e){e.exports={favBtn:"_2Fjw5cay",favIcon:"_33rzYinL",unfavIcon:"_2AVgRYhs",withTips:"_2XdTxTLN",favBtnWrap:"_2LXGjERB",gallery:"_3_4D_1x9",galleryFavBtn:"_2jF80E06",btnFav:"_2tsGLe5k",unFavAnimation:"_dUy90_h",unFavKeyframes:"_2ROkNy7s",favAnimation:"_3LjZ1fyq",favKeyframes:"_3ihxp11f",icon:"_1fz1FGuI",newFavIcon:"_3sIyyWCk",newUnFavIcon:"_2Wnwv7y1",showIcon:"knKHRvkt",hideIcon:"_1U-VdF8d",toastWrap:"_1xM7hsSN",toastImg:"_3Jk9xjFV"}},16808:function(e){e.exports={wrap:"_9DIkgBgO",giftImage:"_1tYAAya1",giftText:"_1lMu07bS"}},27383:function(e){e.exports={wrap:"_1Zf27vaY",goodsName:"_2rn4tqXP",oneMoreLine:"_7js9hKIQ",prefix:"F0TkTpTc",suffix:"_2TwjCZgy",right:"_3UPHaDv7",line:"_3oSy7cJk",fontSize14:"_1r2-KDjZ",fontSize15:"_1XZO30gP",arrowWrap:"_2DR4rlum",seeAllArrow:"sQvshoaD",goodsNameContent:"_25g_jM0z",goodsNameWithHighlight:"TgwjURQE",highlight:"_3ufdVW2v"}},34077:function(e){e.exports={wrap:"vd-NrRvD"}},68207:function(e){e.exports={popupTitle:"_1Sy9EP-Z",iconUrl:"_37re9GAb",wrap:"_27ArAwM4",content:"SqL2oirF",list:"yA0GYHne",item:"_11eflja5",itemTitle:"_2glSglUc",itemDesc:"_3DTjJhSI",extraWrap:"uH8ZDrQe",extra:"_1RbDoZJY",clickable:"_1aNwJsGv",arrow:"W264bJZ_",l:"_2v3IkKIW",s:"_3KQkhUyA"}},19615:function(e){e.exports={wrap:"_-506MgBi",title:"_1HaFe-d7",item:"_2S05K1W3",itemWrap:"e7O5lb-4",arrow:"_1Of0aaSN",right:"_3utYs2uB",text:"_3Ed4LaKt",link:"QXMIW1vB",clickable:"_1Wmb7X6M",suffixIcons:"_20LaNRnn",actionIcon:"_12Uqn0jE",dialogContent:"-S5vu4EI",icons:"_3YC9Fb1d"}},59595:function(e){e.exports={wrap:"_3tH0Ltel",optList:"_7mJ3VE-W",goodsList:"_26n4nD5I",goodsCardClassName:"iL8Cn5Mb",goodsContainer:"tVhU2csW",goodsItemWrap:"_3L-puJlD"}},47111:function(e){e.exports={content:"_2rZLBmEF",scrollWrap:"_1-D_d0-U",title:"E8NBaI5F",desc:"_3eOBgDsN",timeList:"joUG0r5b",labelCls:"_1H8jMMN6",numCls:"_2yrxxZAy",processCls:"_3ZIro3ym",timeTitle:"_3EGu-2bH",timeDesc:"_3rnGlgPR",timeDistributedExplain:"_3m3YjNoV"}},43935:function(e){e.exports={wrap:"_2CSv3p6o",greenStyle:"_3h8PbiHU",left:"_3CFmdGbv",line:"_1hs6LUvO",txt:"_3uvkpag2",transition:"_2FhSrhGf",leftMaskClassName:"_1Ajja-gf",rightMaskClassName:"_1n0yr_QV",icon:"_3zUCJOd7",clickAble:"_3WeJ7BGF",right:"_23OlXhQQ"}},19167:function(e){e.exports={wrap:"_2ptJfHDM",clickAble:"_2LlLNEjI",icon:"_2Dpp5Kh7",imgIcon:"VjYhiVTZ",content:"_3KIdeneO"}},55993:function(e){e.exports={promotion:"_1NIdwwYq",clearanceBtn:"T3YPASLQ",buyNowButton:"_1a8xy5AC",addButton:"_1cp-CHYt",addedButton4Gotocart:"_2FV23OaZ"}},70581:function(e){e.exports={memberPromotion:"_2IGnYDiA"}},7417:function(e){e.exports={wrap:"_3WFxzCH_",text:"_1EAcN6pA",arrow:"_2z_CLMYA"}},46546:function(e){e.exports={wrap:"_3nqdx0Xk",payImage:"_5zW-sQMv",payAfterText:"_3zBbHebA",showIcon:"_13kLAsKZ",icon:"_20LAdZGP",contentBorder:"_1a_1U5vU"}},88969:function(e){e.exports={wrap:"_3f4WnWNH",slideTrackWrap:"_3dSP6HsE",rightArrow:"_3oqkBI6u",singleWrap:"_1NnGfdPe",itemWrap:"nc6-laLv",arrow:"_3vJl6gYP",leftArrow:"_1wwzOpPh",baseArrowBtn:"_2YGIJGm9",innerArrowClassName:"_3NIjk7Jv",arrowMask:"_1nwbbp4W",imgRight:"_1VZCVVmH",icon:"_1i-C2Exo",activeAnimation:"_1KOXBCEC"}},45278:function(e){e.exports={wrap:"_2mmjR_so",arrowWrap:"_1nT5oNkp",show:"q5phUgVH",arrow:"uLd5ZLH1",contentWrap:"_2DP21F7i",richImg:"_3BvvuI20",richText:"_2C7zFuyt",contentMask:"_3XHjLs9m",content:"o41DcseM",scrollContent:"_1GvIfgRk",showIcon:"_34t2iOoE",icon:"-I-Nkh-C",click:"_3DL5d_kD",animation:"_3myHw2rc",carousel:"_2PVAT4Hs",animationBack:"_17A4xURS",carouselBack:"m3Xi4qu9"}},90524:function(e){e.exports={wrap:"_3qrcNm-E",tipContent:"_36EbuNiJ",icon:"g2p4ujGv",question:"_3My3DiSl",dialogWrap:"nowxoFfb",title:"_2np-ybpb",content:"_1iAYvqfh",confirm:"_1F2j28He",maskImg:"_3xQuRENq"}},52081:function(e){e.exports={bestRichWrap:"_3HoYrgtH",suffixRich:"_2wEgFFPz",countdown:"_1UZsKxA5"}},4940:function(e){e.exports={price:"_1vkz0rqG"}},21503:function(e){e.exports={wrap:"_2XqqdlzY",richWrap:"DivY5w_C",linePriceExplain:"_2E9zuoua",tempRich:"_3XaN0k6a",transition:"_1WpM84gO",leftMaskClassName:"Ou9xbSUi",rightMaskClassName:"_1X-UoU2-",hide:"_2Si0oaCo",flex:"_2N-Dcu8t",explain:"V1st3ldP",rich:"_2aYtYPE0",richPos:"_2v_eGRCb",bottomRich:"_2Wc-Juoi"}},741:function(e){e.exports={container:"_1x59iCix",price:"_3cZnvUvE",priceSuffix:"_1uBm3nsD",priceWrap:"_15o2bYpT",activityPriceWrap:"_1f8Dasod",memberPromotionWrap:"_2qu4cm5Y",priceWrapGift:"mMDDZrPD",curPrice:"_846po5_T",linePrice:"GOWbDXV2",linePriceGift:"_10u_C8o-",regularPrice:"_3ROhKb2f",priceSuffixWrap:"_1Wa8coQN",infoPrice:"_1S5p9WC-",linePriceExplain:"_2cfQW-0G",recentlyLowestPrice:"_1_h3N2FW",suffixRichWrap:"dsFjp8hK",prefixRichWrap:"FOdTQtPm",suffixRich:"_2AmP6_7S",suffixRichDis:"_2cZSTyuL",suffixRichVer:"_1fSEMjNB",center:"_1SQrG5Fp",newLinePriceExplain:"_2os8J_pM",playLaterPriceWrap:"_17TY6eyJ",playLaterPrice:"IK6RfiWE",priceAfterCouponSuffix:"FF_aPhzC",couponPrice:"eVpa6IyZ",couponNewPrice:"_2yMeTRhu",couponPriceText:"_1C-IgPgI",couponNewPriceText:"_11-iZToo",extraPriceArrow:"_1fMRWlWq",extraPriceNewArrow:"_2rCOydJD",optCouponText:"_27lHgyi4"}},52462:function(e){e.exports={explainPopup:"_1jFLTa8q",clickable:"_3K4S0NLW",itemWrap:"_2X3ifjxs",tips:"_1uEVAbEs",tipsTitle:"x9XZgq3e",tipsContent:"_1ne6ZCza"}},2903:function(e){e.exports={suffixRichDis:"_1w0BaETF",suffixRichVer:"_2KQka027",suffixRich:"_188rnzBo"}},96616:function(e){e.exports={priceLabelWrap:"ruUJg9tk",priceLabel:"_3X07KO-z",arrow:"_3dSoZ103",enableClick:"_20A0QHjK"}},33733:function(e){e.exports={wrap:"_2OQsGuQA",head:"_12NFKo80",container:"BR8E0OyG",btn:"_6etvsHtR"}},68799:function(e){e.exports={prefixRichWrap:"_2jzwWqqi",suffixRich:"_1xoMD3-o"}},67539:function(e){e.exports={wrap:"_35YISwkO",top:"dBvv5xub",content:"ZNK0SuXE",infoDisplay:"J0qQTDY-",info:"_3XvGlGSj",threshold:"_1wlBeI34",line:"_1U9hEoi3",rule:"_3DyeOTG3",ruleImg:"Yub6YAKd",ruleText:"WaCkcexq"}},70291:function(e){e.exports={wrap:"_3w5kHfjR",infoDisplay:"KmIvFqi_",right:"_362ze2Nx",countdown:"zkG7yboY",offer:"_12e35bBX",question:"_1tqm7ypX",offerText:"lTibWMUn",time:"_1q8nuIyS",popupWrap:"_2oTPdhpk"}},30255:function(e){e.exports={wrap:"_1HoNGFIK",title:"_2-6PmMTe",priceBlock:"_1tt3yNJr",descLine:"_2m1FnH_R",totalLine:"hvmWSPgR",addInfo:"_3TVxDcEP",addIcon:"_3Qa3ctDU",addText:"_2nwZzWox",listTitle:"_1k_lOLmh"}},97536:function(e){e.exports={content:"_1Uqhk_0K"}},41157:function(e){e.exports={wrap:"-_dgEvGj"}},71998:function(e){e.exports={wrap:"_2Hg_xpJc"}},90705:function(e){e.exports={wrap:"_1ROzSuw_"}},57157:function(e){e.exports={wrap:"_3Cfvtl-3"}},99372:function(e){e.exports={reviewNumWrap:"_2HjLjpq5",reviewStar:"_3zdHsURE",reviewNum:"WVvmDCE3",score:"_3u85Dflj",rateWrap:"fAT7GSj0",percentWrap:"_3MegzESY",progress:"_3pEuTyaQ",progressBar:"_1oaunRCM",rate:"_31lEoquY",rateItem:"_1kHTtHq9",scoreWrap:"_13W44a-n",scoreNum:"_1fqB35ff",rateSm:"_2hqs8zhZ",startClass:"_3c9pSaGh"}},1307:function(e){e.exports={oldSalesTip:"_3EO0MDag",wrap:"n91-8QH3",review:"_23Bdb5qg",wrapLeft:"_1gWFXtkM",left:"WSu-sds6",mallInfoWrapLink:"_3KCYDTdQ",mallInfo:"_1fOAQiEo",mallNameAndSalesTip:"_4ahGQ8YP",mallLogo:"_3RWgzNSK",mallName:"_3eJGEFuW",salesTip:"_1FfJhhv_",arrow:"DtIbqpho",tipsWrap:"_9w7_P5u7",tipsLogo:"_3RzHspSC",tipsName:"_2Voe-ZgS",tipsRight:"_3_ivVYZs",tipsInfo:"_1jbHQPKO",infoItemWrap:"_1hwRlkQP",infoItem:"ktEGl-7o",infoItemNum:"x5jNwc8F",infoItemText:"-sVX2059",tipsAfter:"_3MX1FGET",mallSalesTip:"_3ayt9mdU",providedByWrap:"_9HFPI1Qn",providedBy:"_19IYhdXI",mallCarouselWrap:"oV-fRN-b",mallCarouselContainer:"_1lXw8Ruu",hotSaleRich:"_3lyXFerr",mallInfoWrap:"_1sr5tM-Y",beforeLine:"aUjJmJV1",logoRight:"_1ffsyza6",mallTag:"_2FkGM_TT",tagTexture:"_2Dplq4Is",tagIcon:"_3-wrxWkC",tagText:"_1fCbu4E3"}},63101:function(e){e.exports={faqItem:"_2dl3KCWh",question:"_27xa3vW_",user:"_6wmPswJd",avatar:"_1dCwCNWR",name:"_3cgil32s",answer:"_3R5Q6qSy",text:"_1g9U1cLA",boldText:"XguL9rbK"}},32964:function(e){e.exports={wrap:"_1XlZzN1f",title:"DXKLbxKO",list:"_Fn2Pp5Z"}},67513:function(e){e.exports={wrap:"_23MWSdyK",head:"_1gN8mfMq",container:"_3XF0arDN",policy:"tR5V5A7J",title:"_2sxo28KM",nameIcon:"_3UyObcfu",desc:"_3u1RswAI",dot:"_3MZ27Zzu",channelWrapper:"_9aG6kBuj",align:"_3Wf_B6-0",channelTitle:"_1KaU7yIu",channelImgs:"_2bl-2-gg",channelSmallImg:"pbDboPgM",channelBigImg:"_1S4UlxHs",channelContentWrapper:"k3wCug7V",channelContent:"GjPBD2hK",channelContentItem:"_1utZHX2o",channelContentItemIcon:"_2NjL-koS",channelContentItemText:"oEO2YhDD",more:"_1T3u4AYD",moreWithoutMarginLeft:"_2lm8A5cr",arrow:"FxaYDqKB",blank:"_1KusUeuz"}},22024:function(e){e.exports={wrap:"GrDxAlg8",security:"_1tt1uJ7S",title:"_1PDCR6OS",list:"_1UrUWx5k",left:"_3l6xUpz1",item:"_1TEcSp-g",more:"_3IqI8Men"}},42158:function(e){e.exports={container:"YddCVDy4",icon:"oJHUBnmT",iconWrap:"R-oqYE8H"}},49510:function(e){e.exports={sharePanel:"_3bA87xMN",itemId:"_1ZPb60oI",copyButton:"_20uArl_R",shareEntry:"_35dFhe_o",shareWrap:"_2vJ1AyTW",shareContent:"_3DLJwTaq",sharePop:"_10O30Bok"}},31111:function(e){e.exports={colorItem:"_2bzGqXzH",colorItem4Pad:"D30c6Ngz",selected:"_363EuJDX",disabled:"fndtZHjj",specContainer:"F_dmbyoQ",content:"_2Zcgxpmt",spec:"PKOvX2_k",specContainerWithUnitPrice:"HzEwgMpX",specValueContainer:"_3yv4bBtK",fireIcon:"x8Fu-X02",carouselTextContent:"_3C8PPtdS",highestRateIcon:"_1IBj1bq-",clearanceIcon:"_1BOj_n0H",soldoutTag:"HIEq5oST",isSoldoutItemTag:"_3Hfz0nkf",contentImg:"_2F5wHDYz",tag:"zrUx-CKR",tagContent:"_32zk83SQ",freeTag:"_1KnBn6B-",freeTagIcon:"_3sf1hL-g",freeShippingTagContent:"_2ajhVGPP",shadowTagContent:"_1j4ihb-g",transitionTagContent:"_1StSvE6-",transitionTagContentLeftMask:"_39RJU7ZN",transitionTagContentRightMask:"_2Os4UU-x",transitionTagContentTxt:"_2yYiru13",unitPriceRich:"TaxCB60z",selectedEnhance:"nnLrHsgT"}},37348:function(e){e.exports={fireIconWrap:"_24rHXcOO",skcFireIcon:"_1JeHLMet",fireIcon:"_2lX5xXpa",iconWrap:"_2re4e8zn"}},56703:function(e){e.exports={colorHead:"_2ccoHkp8",colorItems:"_20PH8eAG",spec:"_3ahj1iso",newSpec:"_2t9k5tsc",specHead:"_1Ca5O2MA",prominentColor:"XSdBw-33",remindTip:"lpOESU8s",remindTipIcon:"_1q_nRmwp",remindBorder:"C5XWP-wr",colorRemindBorder:"_2Y2rdOgK",specText:"_3xAeViXW"}},10232:function(e){e.exports={similarArrow:"_3aQ7lmwk",similar:"_2W-C2pWL",toastWrap:"_1K5430gN",toast:"_3Y-Fjwbq",arrow:"Xs628wWN"}},86603:function(e){e.exports={btns:"_26kyen3K",btnItem:"_2OifnZxd",activeBtnItem:"_2dxeKkiB",selectListWrap:"_2lTy-vRi",selectList:"_1JLpAg8i",inner:"_3RR6y-0E",arrow:"_3DRQ3ju7",listWrap:"gXX6JWTM",selectedIcon:"_1sDwadwi",listItem:"tfvwwKyL"}},90787:function(e){e.exports={reverse:"_1XDjFogs",remindTip:"_2Yv5-fQY",remindTipIcon:"_2yYco_tx",top:"aZN7lGU3",prominentColor:"_8CurHXBw",specName:"_2dreqxrt",specHead:"_2ySMk7Hk",sizeGuide:"_1505PIwU",contentClassName:"sFsjPn7Q",topRightSizeGuide:"_6KlGAnog",rightTotalNewLineSizeGuide:"_2WgC7Rt6",specHeadMarginBottom:"GJjoLCKr",bottom:"vDMVFAEm",flexGrow:"_1mUDhJ_3",textAlignLeft:"_1RpOmjIs",countrySelectWrap:"_2PiHnyMg",styleTipsWrap:"_3p7bgHA0",remindTipWrap:"_1DIf92CE",rightTotalNewLineRemindTipWrap:"_3g0USv5f"}},26824:function(e){e.exports={wrap:"_3EYbafAJ",left:"_2Hv5_A5z",realSizeTipWrap:"_25XApTW7",leftTop:"VtyQKbnp",arrow:"_1SCI7dQ9",sizeReccTip:"_2twSRRdN",clickable:"_2hrHRFLb",textAlignLeft:"_3UikKwN1",recommendTips:"GHN5YYWG",recommendTipsText:"wAdT1QK1",realSizeTipsMarginBottom:"_3orPnDn5",sizePropertyItemText:"a8zSwBj6",sizePropertyItem:"_36d6hDu7"}},31094:function(e){e.exports={wrap:"_2ZDZJTUw",wrapMargin:"_3jdBAjf7",skuItem:"_2MDh6s4q",selected:"_3TnD_ytg",disabled:"_2WCorLM7",skuItemContent:"p9maYisg",disableSkuItemHover:"_2mb-23aS",skuContentWrap:"TRsi3mNY",skuSaleInfo:"_25kRqGwa",unActiveSkuSaleInfo:"_2Eq4ojTm",skuItemContentShrink:"_379AbgrP",skuItemContentSelected:"_2h7DRiiJ",saleTip:"_2dAbU_Jz",highestRateIcon:"_2o68hBLO",soldoutTag:"_3Rgz7Twl",unitPriceRich:"_1KG5O-JK",tag:"_1nJcQpaV",tagContent:"dH9cyC6d",freeTag:"_3SAFRZsT",freeTagIcon:"LZZfbeVT",freeShippingTagContent:"_1XHspN0-",shadowTagContent:"_71dlwRfe",transitionTagContent:"_1vgvXv-u",transitionTagContentLeftMask:"H6TaM9IQ",transitionTagContentRightMask:"fZYUWJtd",transitionTagContentTxt:"_3mhxo613",marginLeft:"_2Ist96th",selectedEnhance:"_1EhItyGs"}},193:function(e){e.exports={wrap:"sCivIcE0",innerColorItem:"_3RDFi0HJ",right:"_1XNG91Jx",mask:"_3KzrgFvI",count:"_3gIApGu0",arrow:"_3ej9Db-8",line:"_2dAmSYrv",init:"_3nykwlji"}},59650:function(e){e.exports={newSpec:"_3q6jobfd",specHead:"_8aLsRZYA",prominentColor:"_38e2A3TP",spec:"_2hZnt8Kx",specSelector:"_3zQ1oKv9",remindTip:"_33--NSdD",remindTipIcon:"_2Nk8HxPB",remindBorder:"_4s9mxRUh",specText:"_2l8F4xq2"}},16299:function(e){e.exports={wrap:"_2_a8eehM",cont:"XCNjhuyi",showAni:"_2VSrIy-B",move:"_1hB2QoNw",txt:"_2AuAhfkJ",content:"_2w2rj6xg",leftMask:"_2ayM7xzH",rightMask:"_1sqJfsFK"}},74507:function(e){e.exports={wholeSingleSku:"_2zqZP145",spec:"_3cTw9-q9",specHead:"_3yn4tvoO",sizeDes:"_3sb7XorG",measurementInfoWrap:"_30jgsWBu",measurementTitle:"_1ClwoKFE",measurementInfo:"_3ISY_lKU",oneLineTextEllipsis:"Cfu0VCxa",fireIconContent:"xmBz61w0",fireIcon:"_2Q3HpfvA",unitPriceRich:"_34TAIHlw"}},11579:function(e){e.exports={item:"_1peI2FpX",itemText:"_2xlHeoaP",hover:"_3lTNc_CU",questionIcon:"_3I4umYoV",explainIcon:"_300bKV8h",clothFitReview:"_368KYJit",newClothFitReview:"CMRvsoMZ"}},50834:function(e){e.exports={wrap:"p-2cp0Qh",close:"_2miDUpxu",container:"_3M70hZXx",content:"_2CgzO_Qu",title:"_31OQuhNw",left:"_35Bviudx",desc:"_22jLOMaR",label:"_3zA7lRsz",progress:"_3UYb8O18",progressBar:"pt7bdcHs",num:"_2Kb7B0nh",unit:"_2bYX0p7L",more:"_1UM3zP0V"}},29194:function(e){e.exports={wrap:"_2iwRxB0V",explainIcon:"_2-uwORHp"}},64561:function(e){e.exports={wrap:"_3p8jwXtj",guide:"XQyBaKbL",sizeIcon:"_1pAk6pyD"}},24631:function(e){e.exports={wrap:"pTcK25yo"}},32919:function(e){e.exports={wrap:"Pu9Ha_gL"}},51064:function(e){e.exports={container:"_3VEgFkWT",icon:"jhcB7ovL",iconWrap:"_1G0xz8_d",rightArrow:"_23YrtZQn",containerMargin:"_1kMmHOAi"}},11934:function(e){e.exports={definition:"P86Esv3E",definitionTitle:"_2TydMftp",descItem:"_3oYZeRi1"}},39702:function(e){e.exports={wrap:"_2eEGx8VS",unreached:"lyLynYmY",reachedRich:"h5lpaPeS",rich:"_25Vfn1Ne",add:"_3aBv7bXT",explainText:"_3KzohFMQ"}},75601:function(e){e.exports={qty:"_14q1XDBx",qtyWithAddCountLimit:"_3ujYN8XM",qtyTop:"a-jAYTZc",qtyTitle:"_2ghqgZex",qtyContentWrap:"_1r1Z7WPj",qtyContent:"_3eRQyJnk",qtyInput:"_2JC_KERH",qtySelect:"_2t7Dy3gc",qtySelectItem:"CGe0Jj8V",qtyIcon:"_2drop4IA",added:"GRf1gyWp",qtyPrice:"_1xqvORyP",afterQtyWrap:"_20fXdTeq",afterQtyTop:"t_rxWAjK",line:"_1SriJo_e",afterQtyTotalPrice:"_2frDnQuL",addCountLimit:"UeCiWcjn",addCountLimitInfo:"_2x5V8_JX",addCountLimitIcon:"_21uF-fq9"}},94501:function(e){e.exports={shaking:"SMoHbxIq",wrap:"_2ZET87n8",content:"kEsvWw-N",showContentTransition:"_1ApA7ELK",mask:"_3NY7JOwF",titleWrap:"NhsUfVvY",titleWrapNoShare:"_3bNeSUaQ",endTag:"tcaB5ew8",sku:"_3csHYvw1",actionWrap:"_100Uy0HO",action:"_2oQzGmQe",similarTop:"Q3LHMGJR",actionBtns:"_2oPZebLl",actionWithPaymentInfo:"_3wV_qyKn",soldOut:"hcv_v0bi",addedPopup:"_2oNadoX5",addIcon:"_30vz6fhg",hidden:"_2eZGCSXX",fixedActionWrap:"_1fbWh4fZ",activity:"_3K63c6Fe",shipping:"_3p1wuyo2",activityTop:"_2Z6iM40Q"}},15634:function(e){e.exports={wrap:"_3gHnwoEK",btnContainer:"_1UZYnP8d",addOrderBtn:"fziM_14b",bottom:"_2QsJ4Ozk",footerBtn:"_1P03vt2H",small:"c6iRhQUr",cartsSmall:"-UWaOfGc",borderInnerCls:"_18vLQ9Ow",clearanceBtn:"_3O2GgCzs"}},7045:function(e){e.exports={contentItem:"_34CDdrnH",contentActive:"_2EHMKv2A",imgWrap:"_3XlLMMhN",newImgWrap:"_1639MF7p",videoIcon:"_3dijZoJC",icon:"HOCeMlpd",largeIcon:"_1Cx8u7Zn",videoPlay:"Yz6HFBfR"}},14273:function(e){e.exports={spec:"qBx964Fd",tag:"AL7hoqqV",fireIcon:"_1yRCHof_"}},67187:function(e){e.exports={wrap:"_3aN8NUh6",mainContent:"_1akEu-IZ",close:"_1XTG3Izn",closeIcon:"_1UkczooD",popupWrap:"TSa07irO",popupShow:"_2mjtjNtJ",content:"_3LUgPgM4",right:"TLSNeydZ",big:"ZgWTeK07",single:"_1OqHmUav",mediaContent:"_24GUgMHb",bigImage:"_20GnaLQY",imgWrap:"S_19krrR",newImgWrap:"_1sKqgL-g",showBig:"Q-b0BNY-",thumb:"_3wqfmx9C",thumbInner:"_7adBPW94",spec:"_1zwGlW9K",active:"_1TO1fC0J",videoIcon:"_2GupDz0K",icon:"_1A2EO9Iq",slideWrapper:"_3XMpguE-",arrow:"_1RFB8u_y",arrowLeft:"nOpvlk7y",arrowRight:"_2rR8-RLn",picArrow:"_2y2k8Dm9"}},56208:function(e){e.exports={scrollPage:"_18lG-4NT",rtl:"dj79t2dk",videoPlayed:"_1mqj2HPK",img:"_3eDhqCfZ",hideVideo:"_2oKxcF9P",video:"_1-vx9VXQ",videoIcon:"_30rqAyfn",icon:"_3wyiS118",largeIcon:"_1zLfV-ht"}},30406:function(e){e.exports={wrap:"_1CQ4cRYC",thumb:"_2AKu-30-",thumbInner:"_2AOclWz7",spec:"_3ACovDZO",loading:"_30Z8VLZC",loadingCircle:"_1mOFwXqO",active:"_2KR3lLmI",switchArrow:"_1eEJzruN",pic:"_2hi762-Z",fixRatio:"_qc4rnOX",initGalleryItem:"_1MXB5Rhr",slideWrapper:"_3jdR47NP",arrow:"LxVCqKyi",arrowLeft:"_135BNdLg",arrowRight:"_11EBkvD1",picArrow:"_2kQDpym-",scrollContent:"ALsph7jA",scrollPage:"_2ftcdy74",rtl:"O5b1pdKi",videoPlayed:"bTT3M0n2",img:"_1n2y-rSd",hideVideo:"CVmcgVkH",video:"_1OOxuLPS",videoIcon:"_21okck4M",icon:"_2rsajpGm",largeIcon:"_2QrFJ1Q3",bubbleWithEfficiency:"_6xvDlhay",efficiencyCls:"_1yCu3gEa"}},29030:function(e){e.exports={wrap:"_1vvq-R0G",img:"Gn1ezCY1"}},24113:function(e){e.exports={directMall:"_30NRNov-",bg1:"jBIxPNBN",bg2:"_2hjMNwrw",wrap:"_1AzL_Ueq",mallHeader:"_30BW60Sw",brandLogo:"_3FS_Q1RX",rightArea:"_1lQQwIiA",titleArea:"_3yk81QoB",mallName:"_3nBusaAC",sellerTag:"D0G9WJM0",chatBtn:"_2amS621L",innerCls:"_3VrQ8Oj2",messageIcon:"_21xJcO5h",btnContainer:"_24K9j9_M",mallInfo:"_1Y-3W7-8",mallItemText:"_3uYmBhvh",mallItem:"_3xYdARvP",star:"_2bTRlFov",starContainer:"_29uNIJJ0",body:"AHhQ0PPg",title:"_1YlN_aJI",blockItem:"_2aivEi5l",tag:"_2IdmJSTc",desc:"_3nmsrCnm",blocksep:"_3QXL0-3K",overflowContainer:"_29f1AqiS",showAuthorized:"_34h10AKh",seeMore:"_1b9kjU8e",seeMoreIcon:"_2MfhIA-4"}},12011:function(e){e.exports={wrap:"_8xOhc_Z-",inner:"_36s3TSIj",item:"_3x5Ga-ad",sep:"_3-kiJGL-",prefixLogo:"_2SVSYkUJ",content:"NnhOzIP_",icon:"_3Xop7f3d",explain:"gIKGXfHz",tagItem:"_1fWqOD3m",tagItem0:"s33yZ-T3"}},80348:function(e){e.exports={wrap:"_13MBGI95",subWrap:"_1lj4OPSz",item:"_3kUdR9Uc",sep:"_33UQ9xfQ",prefixLogo:"_2h0xH3I7",content:"_2I3uj2mO",icon:"_1tn_d1sH",explain:"_3VOQQTyT",tagItem:"_1QFoCSsl",tagItem0:"_2mU9Jfbu"}},85098:function(e){e.exports={wrap:"_1Z78CaX9",icon:"_1WORRC-Q",isDirect:"_2Bc-S2lv",content:"_3WfvEjpN"}},54858:function(e){e.exports={sellTag:"_1tQUyv16",prefixLogo:"av7q6Cty",content:"s9d256Dt"}},40726:function(e){e.exports={buttonWrap:"_2amFObIh",directShop:"WROmuCn1",bottomButton:"_1EVoZuV7",shopAllItemsLink:"_2o9PsA--",button:"ugo800bp",messageIcon:"_38OyOGU9",icon:"_2XhhuzVv",chatBtn:"_1pGdRd4x",btnContainer:"_3hy-hCjc",innerCls:"_2GpmaYCU",threeButtons:"_2hFgKoMd",chatBtnContainer:"_3plWXIpD",fav:"_3lJC6tnU",iconContainer:"_3PHDiTlH",favIcon:"_3c_EQyYl",chatNewStyle:"_3IaKfIpH",chatNewStyleInner:"_2EJ9nbuM",shadowButton:"fyTuFefB",outerClassName:"_15xae7aj",containerClassName:"_39TnDR_G",innerClassName:"_1uIIUZ5b"}},23225:function(e){e.exports={wrap:"_3KJbfFEg",icon:"_3snjxwq_",isDirect:"_3TQ_3RP3",inside:"_3E8U-qZM"}},24008:function(e){e.exports={wrap:"_36F9aw_t",mallName:"_27rsUDMt",mallImgWrapperLinkWrapper:"OFc3OwsW",mallImgWrapper:"_7sImkxdz",mallImgWrap:"jks_oz5M",contents:"_9KX2SNG9",onlyItemCenter:"_1v7GK2bn",contentTop:"S9ou_TEP",title:"_3A4F96VH",titleText:"_373TxnaS",sellerTag:"_1X25Bwvq",mallScoreAndRate:"_3enVu4CV",withMallScore:"_1THpYHc4",rate:"_1D7ATVXs",gapShow:"_1Bfta7me",info:"_3w0HGO-f",desc:"_17Yv8HIu",line:"_1S2oq1Ee",visitedBtn:"_2X_D2vku",shopInfoNums:"_2_doduKi",followers:"_3xRkFxMQ",msgLength3:"_2Km53EYs",msgLength2:"_26XrbNJg",sold:"_1LohGXn2",items:"UQlld58V",onlyOneItem:"_3RZ9OTtR",topItemsShow:"eNVunnAW",itemText:"UEV1UjwU",topItemNum:"_1eegxUxA",followersNum:"_3NlmlXKl",soldNum:"H_rzgRhZ",itemNum:"zZp1Oh1b",followersText:"_2XuWHGrn",soldText:"_1xPcRWOL",onlyNum:"VSTXsUVz",bottomButtonWrap:"_1wvW2o3U",star:"tBivs94a",ratingText:"_2APS0r4o",ratingStar:"_2schwy08",buttonWrap:"_1jw4cT1P"}},8139:function(e){e.exports={wrap:"_1vfsJbN3",title:"_2uPDibVM",content:"_1IKJqIsD",left:"_3uM1j-u2",discountPrice:"_2nLs_Q1V",right:"_1FtPCDYc",listContainer:"_1OA-jig0",list:"_1FDz2FEe",goodsItem:"_3hhp7Arc",goodsImg:"_1etZVvBa",imgWrap:"_2nNBWwCM",majorItem:"EpgKifNy",add:"_3AvNGvOO",goodsName:"sQV_cGVy",goodsInfo:"_1W9kqaPo",thisItemTitle:"KIgeMkqg",arrow:"_2hNy2dpk"}},41860:function(e){e.exports={wrap:"fe9ckPXw",sizeDesc:"Mwqrel4p",item:"_2yH-7u_x",bodyDesc:"x7kSOAFl",content:"_3L0QwfsC"}},98158:function(e){e.exports={wrap:"EYDYJGeC",title:"xvOtV8D6",content:"_3_StEUJK",contentTitle:"ZSmYwvwo",selectWrap:"oX-ilrBc",select:"_2zhw33QH",arrow:"_1QSPa7Qe",arrowIcon:"_1Er9MG5u",btn:"_3Ft5e0yP",btnWrap:"_1aNfnQ98",activeItemCls:"_3VDr0wH5",selectItem:"_3TJlW263"}},87126:function(e){e.exports={wrap:"_3OLqO1vw",title:"_3EiETZ5B",content:"_2QCE3OTu",desc:"SRVupU0S",name:"_3VZPlg6u",nameContent:"_179-tHxP",icon:"_35DKM1XH",pdfIcon:"_1Btd0nQx",right:"_2gvujOHn",rightArrow:"_2tE8yzwC",note:"_3bOUn8g1",noteIcon:"_1TlkXBYW",noteText:"_3WZcEXGN",pageInfo:"_3OSJFbGL",showPageInfo:"_1PcaUPjY",imgItem:"_15iBmEYr",descTop:"_1pKVDxJo"}},19918:function(e){e.exports={wrap:"_2z705OMN",wrap4SoldOut:"_2JqY635y",titlePlaceHolder:"_2Owi1_7T",title:"MgLdDewB"}},26294:function(e){e.exports={dialog:"_3BEIisQG",btnArea:"_18fhoTKF",btn:"_28Y2Jw99"}},14171:function(e){e.exports={wrap:"_1_fVfYJ7",crumbMargin:"_1l8EGJDM",image:"_2aSTbrC2",goodsImage:"_29o6n_d4",text:"_2woWWWUD",subText:"_1JOkBRL9",arrow:"_1DLzfHgI",clickable:"_1Bq8Ouhu",subscribeBtn:"_1uBUF-6e",notifyIcon:"_2xO6UeJN",unSubscribeTips:"UaZy_aho",rightArrow:"_1qWVUmr9",detailRichContent:"_gqvOrRC"}},44350:function(e){e.exports={wrap:"C8l8NpMr",errorWrap:"X7cqod0k",label:"yiL4QJ-E",placeholder:"_3y9vGeBH",list:"vETzxROq",listInnerCls:"_2Wgg5_kK",customTopCls:"_1vfwO83v",listContent:"_11HlQ-pf",arrow:"_1YkajLeR",selectItem:"_2MGUQP1x",selectedItem:"_2Vt5JTSw",arrowIcon:"_26_bgPon",activeArrowIcon:"_1xFGvjBL",activeAnimation:"_19u4t0NL"}},93821:function(e){e.exports={topShop:"_2oF743HY",topShopLeft:"FOjI72iR",topShopRight:"_32Uk_Fg9",icon:"_1isIQS9b",mallIcon:"WAHciCgn",bigText:"_3K0A4LEQ",mallText:"_1pBAmVsa",text:"_3gbjKYJB",mall:"_3iyYX6Rz",arrow:"_1XY8R1tF",between:"ANXN8O5G",activeAnimation:"_34hUjnmD"}},64416:function(e,t,n){"use strict";const a={startClient:()=>n(84294).e,page:()=>n(84294).M,clientController:()=>n(86893).O};(0,n(9594).A)({initPage:e=>{let{startClient:t,page:n,clientController:a}=e;Promise.resolve("function"==typeof t&&t()).then((()=>a(n)))},defaultTasks:a})},24781:function(e,t,n){"use strict";n.r(t),n.d(t,{I18nContext:function(){return E.gJ},I18nextProvider:function(){return y.x},INITIAL_I18N_STORE_LOADED:function(){return x.m},RETRY_CDN_HOST:function(){return x.e},Trans:function(){return r.x},Translation:function(){return f},changeLanguage:function(){return a.v2},composeInitialProps:function(){return E.rz},createInstance:function(){return a.Q_},date:function(){return I},default:function(){return a.Ay},exists:function(){return a.t2},getConfig:function(){return P.z},getDefaults:function(){return E.rV},getFixedT:function(){return a.DJ},getI18n:function(){return E.TO},getInitialProps:function(){return E.Dz},getResolvedLanguage:function(){return T.Ph},getT:function(){return T.lW},hasLoadedNamespace:function(){return a.NM},init:function(){return a.Ts},initI18nClient:function(){return R.W},initReactI18next:function(){return E.r9},loadLanguages:function(){return a.GA},loadNamespaces:function(){return a.dM},loadOtherLanguages:function(){return T.MP},loadResources:function(){return a._H},number:function(){return k},plural:function(){return A},reloadResources:function(){return a.t0},select:function(){return N},selectOrdinal:function(){return C},setDefaultNamespace:function(){return a.bi},setDefaults:function(){return E.Pj},setI18n:function(){return E.Vx},t:function(){return a.t},time:function(){return w},ultimateFallbackLng:function(){return P.J},use:function(){return a.Yx},useSSR:function(){return _.a},useTranslation:function(){return o.B},withI18n:function(){return M.z},withSSR:function(){return v},withTranslation:function(){return g}});var a=n(83052),r=n(7638),o=n(97582),i=(n(44114),n(61877)),l=n(6356),s=n(56687),c=n(33514),u=n(89411),m=["forwardedRef"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function a(a){var r=a.forwardedRef,i=(0,s.A)(a,m),u=(0,o.B)(e,i),d=(0,l.A)(u,3),g=d[0],h=d[1],f=d[2],y=p(p({},i),{},{t:g,i18n:h,tReady:f});return t.withRef&&r?y.ref=r:!t.withRef&&r&&(y.forwardedRef=r),c.createElement(n,y)}a.displayName="withI18nextTranslation(".concat((0,u.Mn)(n),")"),a.WrappedComponent=n;var r=function(e,t){return c.createElement(a,Object.assign({},e,{forwardedRef:t}))};return t.withRef?c.forwardRef(r):a}}var h=["ns","children"];function f(e){var t=e.ns,n=e.children,a=(0,s.A)(e,h),r=(0,o.B)(t,a),i=(0,l.A)(r,3),c=i[0],u=i[1],m=i[2];return n(c,{i18n:u,lng:u.language},m)}var y=n(69616),_=n(2945),E=n(59981),b=["initialI18nStore","initialLanguage"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(){return function(e){function t(t){var n=t.initialI18nStore,a=t.initialLanguage,r=(0,s.A)(t,b);return(0,_.a)(n,a),c.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r))}return t.getInitialProps=(0,E.rz)(e),t.displayName="withI18nextSSR(".concat((0,u.Mn)(e),")"),t.WrappedComponent=e,t}}var I=function(){return""},w=function(){return""},k=function(){return""},N=function(){return""},A=function(){return""},C=function(){return""},T=n(13496),x=n(42679),P=n(64917),R=n(88729),M=n(90460)},91343:function(e,t,n){"use strict";n.d(t,{A:function(){return O}});var a=n(33514),r=n(32485),o=n.n(r),i=n(97582),l=n(99117),s=n(13852),c=n(54011),u=n(75735),m=n.n(u),d=n(55373),p=n(15484),g=n(32850);var h=n(5460),f=n(24361),y=n(97347),_=n(12814),E=n(64491),b=n(68009),S=n(60632);const v=(0,b.tb)()?.isNativePlatform,I=()=>{};async function w(){return await C({method:"GET",params:{},url:"api/server/_stm"}).then((e=>e&&e.server_time)).catch((()=>Date.now()))}let k=null,N=null;async function A(){return N||(N=async function(){const[{default:e},t]=await Promise.all([n.e(7523).then(n.bind(n,76503)),w()]);return k=new e({serverTime:t}),k}()),k=await N,k.messagePackSync()}async function C(e,t){const n={pageInfo:{pageId:""}};if(t?.req&&t?.res){n.req=t.req,n.res=t.res;try{n.accessToken=t.req.cookies[S.eT.AccessToken]}catch(e){}}const a=(0,E.Km)(n);e&&!e.defaultErrorHandler&&(e.defaultErrorHandler=I),e.encodeNativeResponse=!1;const r={};if(e.useAntiToken&&v&&(r.useNativeAntiToken=!0),e.useAntiToken&&!v){const t=await A();r.data={...e.data||{},anti_content:t}}return a({...e,...r})}var T=n(44090);class x{constructor(e){this.strategy=void 0,this.noTracking=void 0,this.commonTrackingParams={},this.commonSearchParams={},this.initPromise=void 0,this.initialized=void 0;const{noTracking:t=!1,commonTrackingParams:n={},commonSearchParams:a={}}=e;this.noTracking=t,this.commonTrackingParams=n,this.commonSearchParams=a,this.initialized=!1}static create(e){const t=e.strategy,n=new x({...e,strategy:t}),{tracking:a={},strategy_name:r=_.QJ}=t||{};return n.init(e).then((()=>{try{(0,l.WW)({page_el_sn:_.q5,strategy_name:r,...a})}catch(e){}})),n}async click(e){!this.initialized&&this.initPromise&&await this.initPromise,this.initialized&&this.goStore({...e})}async goGooglePlayStore(e){!this.initialized&&this.initPromise&&await this.initPromise,this.initialized&&this.goStore({...e??{},platform:"android"})}async goAppStore(e){!this.initialized&&this.initPromise&&await this.initPromise,this.initialized&&this.goStore({...e??{},platform:"ios"})}async init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{commonTrackingParams:t={},commonSearchParams:n={},noTracking:a=!1,strategy:r,disableFetchStrategiesWhenEmpty:o}=e;return this.commonTrackingParams={...this.commonTrackingParams,...t},this.commonSearchParams={...this.commonSearchParams,...n},e.noTracking&&(this.noTracking=a),r||o?(this.initialized=!0,this.initPromise=Promise.resolve(this),this.setStrategy(r)):(this.initPromise=(async()=>{const t=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;try{const n=e?.context?.req,a=e?.httpClient??C,r=await a({method:"POST",url:"/api/jade/neutrino/dnld/pc_direct_strategy/get",data:{...e.reqParams??{},referer:location?.href,...n?{penetrate_headers:{"sec-ch-ua":n?.get?.("sec-ch-ua"),"sec-ch-ua-mobile":n?.get?.("sec-ch-ua-mobile"),"sec-ch-ua-platform":n?.get?.("sec-ch-ua-platform"),"x-requested-with":n?.get?.("x-requested-with")}}:{},pkg_version:t,pkg_name:"lib-launch-pc"}},e.context);if((0,T.K)(r),!r?.success||!r?.result)return;const o=r?.result;return o}catch{return void console.error("load pc_direct_strategy error")}}(e,y.e);return this.setStrategy(t),this.initialized=!0,this.initPromise=Promise.resolve(this),this})(),await this.initPromise),this}setStrategy(e){const t=this.generateFallbackStrategy();this.strategy={...t,...e}}generateFallbackStrategy(){const e=`${m().hash(c.A()).slice(0,12)}`,t=e,n=(e=>m().hash(e))(e),a=(e=>{const{handledQueryParams:t,ads_channel:n}=(0,g.n5)(),{ads_sub_channel:a,ads_account:r,ads_set:o,ads_id:i,ads_creative_id:l,ads_csite:s,campaign:c,cid:u,bg_adid:m}=t,h={adg_reftag:e,ads_channel:n,ads_sub_channel:a,ads_account:r,ads_set:o,ads_id:i,ads_creative_id:l,ads_csite:s,campaign:c,cid:u,bg_adid:m};return d.stringify((0,p.HT)({...h}))})(n);return{adg_ptid:e,hash_token:n,clipboard:t,install_referer:a,app_store_url:(0,h.cx)({install_referer:a}),ios_app_store_url:(0,h.jO)(),tracking:{}}}goStore(e){const{app_store_url:t,ios_app_store_url:n}=this.strategy||{},{preventJumping:a=!1,openInNewWindow:r=!1,platform:o="android"}=e,i="ios"===o?n:t;"ios"!==o&&(this.trackingWhenAction(e),this.sendMetricsWhenAction(e)),a||(r?(0,h.bB)(e.strategyName??"default",i):window.location.href=i)}trackingWhenAction(e){if(this.noTracking)return;const{commonTrackingParams:t,commonSearchParams:n}=this,{install_referer:a,tracking:r={},adg_ptid:o,hash_token:i}=this.strategy||{},{searchParams:l={},jumpUrl:c="/index.html",componentJumpUrl:u,preventJumping:m,strategyName:d,trackingParams:p={}}=e,{region:h,currency:y,language:_}=(0,f.O)(),E=(0,s.rE)({...n,...l},c),b=u?(0,s.rE)({...n,...l},u):void 0,S={adg_ptid:o,launch_id:o,step:"click",cli_region:h,cli_currency:y,cli_language:_,prevent_jumping:!!m,hash_token:i,jump_url:E,...b?{cmpt_jump_url:b}:{},install_referer:a,...d?{strategy_name:d}:{},...t??{},...p,...r};(0,g.E5)({data:S})}sendMetricsWhenAction(e){const{adg_ptid:t,hash_token:n,tracking:a={}}=this.strategy||{};try{(0,l.E0)({page_el_sn:_.q5,btn:"click",step:"click",prevent_jumping:!!e.preventJumping,strategy_name:e.strategyName||_.QJ,adg_ptid:t,hash_token:n,...a})}catch{}}}x.versionNumber=y.e;var P=n(15572),R=n(46959);const M=e=>{let{lazy:t,...n}=e;return t?a.createElement(R.A,n):a.createElement(P.F,n)};var D=n(48158),B=n(59659),L=n.n(B);var O=e=>{let{pageSN:t,pageElSnGooglePlayStore:n,pageElSnIosStore:r,jumpUrl:s="",className:c,listClassName:u,itemClassName:m,titleClassName:d,subTitleClassName:p,iconClassName:g}=e;const{t:h}=(0,i.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"AppStore"}),f=(0,a.useRef)(null);(0,D.A)((()=>{const e=x.create({commonTrackingParams:{page_sn:t},reqParams:{tracking:""}});f.current=e}),[]);const y=(0,a.useCallback)(((e,t)=>{f.current?.click?.({platform:e?"ios":"android",jumpUrl:s,searchParams:{},trackingParams:{page_el_sn:t},preventJumping:!1,openInNewWindow:!0})}),[]);(0,a.useEffect)((()=>{(0,l.WW)({page_el_sn:n}),(0,l.WW)({page_el_sn:r})}),[]);const _=(0,a.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.createElement("div",{className:o()(L().iconItem,m),role:"button",tabIndex:0,"aria-label":e.title,onClick:()=>y(t,e.pageElSn)},a.createElement(M,{src:e.imgSrc,className:o()(L().icon,t&&L().darkIcon,g),lazy:!0,alt:e.title}),a.createElement("div",{className:L().desc},a.createElement("div",{className:o()(L().subTitle,p)},e.subTitle),a.createElement("div",{className:o()(L().title,d)},e.title)))}),[]);return a.createElement(a.Fragment,null,a.createElement("div",{className:o()(L().appStoreIcons,c)},a.createElement("div",{className:o()(L().iconList,u)},_({imgSrc:h("Download.GooglePlayImage"),subTitle:h("Download.GooglePlayDesc"),title:h("Download.GooglePlayTitle"),pageElSn:n}),_({imgSrc:h("Download.AppStoreImage"),subTitle:h("Download.AppStoreDesc"),title:h("Download.AppStoreTitle"),pageElSn:r},!0))))}},17276:function(e,t,n){"use strict";var a=n(14242),r=n(33514),o=n(15572);t.A=e=>{let{src:t,alt:n,...i}=e;return r.createElement(o.F,(0,a.A)({},i,{src:t,alt:n||""}))}},33516:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});var a=n(33514);function r(){return a.createElement(a.Fragment,null)}},32139:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var a=n(33514);function r(e){const[t,n]=(0,a.useState)(e),r=(0,a.useRef)(t);return[t,(0,a.useCallback)((e=>{if("function"==typeof e){const t=e(r.current);r.current=t,n(t)}else r.current=e,n(e)}),[]),r]}},74954:function(e,t,n){"use strict";n.d(t,{U3:function(){return o},yD:function(){return i}});var a=n(32470);function r(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":toString.call(e)}function o(e,t){const n=Number(e);return Number.isNaN(n)?"-":("number"==typeof(o=t)||function(e){return"object"==typeof e&&null!==e}(o)&&"[object Number]"===r(o))&&t&&t>0?parseFloat((0,a.U3)(n)).toFixed(t):(0,a.U3)(n);var o}function i(e){const t=window.getComputedStyle(e),n=t["-webkit-transform"]||t["-moz-transform"]||t.transform;if(!n||"none"===n)return 0;const a=n.split(","),r=a[0].indexOf("("),o=parseFloat(a[0].substr(r+1)),i=parseFloat(a[1]);let l=180*Math.atan2(i,o)/Math.PI;return l<0&&(l+=360),l}},44101:function(e,t,n){"use strict";var a=n(14242),r=n(33514),o=n(97582),i=n(67388);const l=r.forwardRef(((e,t)=>{const{t:n,i18n:l}=(0,o.B)("bec-fe.svg-icons-pc");return r.createElement(i.i,(0,a.A)({ref:t,fill:"#0a8800"},e,{path:["M512 17.1c142.6 0 258.6 114.1 261.6 256l104 0c15.1 0 27.6 11.8 28.4 26.9l30.5 557.3c0.1 2.5 0.2 5 0.2 7.4 0 75.4-61.1 136.5-136.5 136.5l-580.1 0-3.7-0.2c-75.3-4.1-133-68.5-128.9-143.7l30.5-557.3c0.8-15.1 13.3-26.9 28.4-26.9l104 0 0.2-6.3c6.3-139 120.9-249.7 261.4-249.7z m170.7 457.9c-32.9 0-64.1 10.6-89.8 29.7-2 1.2-4 2.6-5.8 4.2l-196.3 175.5-3.5 2.9c-13.1 9.8-29.1 15.2-46 15.3-42.4 0-76.8-34.4-76.8-76.8 0-42.4 34.4-76.8 76.8-76.8 29.1 0 55 16.3 68.1 41.1l56.1-49.8c-27.5-40-73.5-65.3-124.2-65.3-83.3 0-150.8 67.5-150.7 150.8 0 83.3 67.5 150.8 150.7 150.7 38.5 0 74.9-14.6 102.5-40.3l185.8-166.2c14.3-13.4 33.1-21 53.1-21 42.4 0 76.8 34.4 76.8 76.8 0 42.4-34.4 76.8-76.8 76.8-8.7 0-17.2-1.4-25.2-4.2l8-41-126.9 56.5 96.5 99.8 8.2-42.4c12.7 3.4 25.9 5.2 39.4 5.2 83.3 0 150.8-67.5 150.7-150.7 0-83.3-67.5-150.8-150.7-150.8z m-170.7-361.2c-89.2 0-161.9 70.8-164.9 159.3l329.7 0-0.1-4c-5-86.6-76.8-155.3-164.7-155.3z"],"aria-label":e["aria-label"]??(l.exists("aria-label.ShangxiangHuanbaodai",{ns:"bec-fe.svg-icons-pc"})?n("aria-label.ShangxiangHuanbaodai"):void 0),rtlPath:[]}))}));l.supportRtl=!1,t.A=l},16087:function(e,t,n){n(25440),e.exports=function(){"use strict";const e=1e3,t=6e4,n=36e5,a=864e5,r=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,o=31536e6,i=2628e6,l=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,s={years:o,months:i,days:a,hours:n,minutes:t,seconds:e,milliseconds:1,weeks:6048e5},c=e=>e instanceof _;let u,m;const d=(e,t,n)=>new _(e,n,t.$l),p=e=>`${m.p(e)}s`,g=e=>e<0,h=e=>g(e)?Math.ceil(e):Math.floor(e),f=e=>Math.abs(e),y=(e,t)=>e?g(e)?{negative:!0,format:`${f(e)}${t}`}:{negative:!1,format:`${e}${t}`}:{negative:!1,format:""};class _{constructor(e,t,n){if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return d(e*s[p(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((t=>{this.$d[p(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){const t=e.match(l);if(t){const e=t.slice(2).map((e=>null!=e?Number(e):0));return[this.$d.years,this.$d.months,this.$d.weeks,this.$d.days,this.$d.hours,this.$d.minutes,this.$d.seconds]=e,this.calMilliseconds(),this}}return this}calMilliseconds(){this.$ms=Object.keys(this.$d).reduce(((e,t)=>e+(this.$d[t]||0)*s[t]),0)}parseFromMilliseconds(){let{$ms:r}=this;this.$d.years=h(r/o),r%=o,this.$d.months=h(r/i),r%=i,this.$d.days=h(r/a),r%=a,this.$d.hours=h(r/n),r%=n,this.$d.minutes=h(r/t),r%=t,this.$d.seconds=h(r/e),r%=e,this.$d.milliseconds=r}toISOString(){const e=y(this.$d.years,"Y"),t=y(this.$d.months,"M");let n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);const a=y(n,"D"),r=y(this.$d.hours,"H"),o=y(this.$d.minutes,"M");let i=this.$d.seconds||0;this.$d.milliseconds&&(i+=this.$d.milliseconds/1e3,i=Math.round(1e3*i)/1e3);const l=y(i,"S"),s=e.negative||t.negative||a.negative||r.negative||o.negative||l.negative,c=r.format||o.format||l.format?"T":"",u=`${s?"-":""}P${e.format}${t.format}${a.format}${c}${r.format}${o.format}${l.format}`;return"P"===u||"-P"===u?"P0D":u}toJSON(){return this.toISOString()}format(e){const t=e||"YYYY-MM-DDTHH:mm:ss",n={Y:this.$d.years,YY:m.s(this.$d.years,2,"0"),YYYY:m.s(this.$d.years,4,"0"),M:this.$d.months,MM:m.s(this.$d.months,2,"0"),D:this.$d.days,DD:m.s(this.$d.days,2,"0"),H:this.$d.hours,HH:m.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:m.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:m.s(this.$d.seconds,2,"0"),SSS:m.s(this.$d.milliseconds,3,"0")};return t.replace(r,((e,t)=>t||String(n[e])))}as(e){return this.$ms/s[p(e)]}get(e){let t=this.$ms;const n=p(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?h(t/s[n]):this.$d[n],t||0}add(e,t,n){let a;return a=t?e*s[p(t)]:c(e)?e.$ms:d(e,this).$ms,d(this.$ms+a*(n?-1:1),this)}subtract(e,t){return this.add(e,t,!0)}locale(e){const t=this.clone();return t.$l=e,t}clone(){return d(this.$ms,this)}humanize(e){return u().add(this.$ms,"ms").locale(this.$l).fromNow(!e)}valueOf(){return this.asMilliseconds()}milliseconds(){return this.get("milliseconds")}asMilliseconds(){return this.as("milliseconds")}seconds(){return this.get("seconds")}asSeconds(){return this.as("seconds")}minutes(){return this.get("minutes")}asMinutes(){return this.as("minutes")}hours(){return this.get("hours")}asHours(){return this.as("hours")}days(){return this.get("days")}asDays(){return this.as("days")}weeks(){return this.get("weeks")}asWeeks(){return this.as("weeks")}months(){return this.get("months")}asMonths(){return this.as("months")}years(){return this.get("years")}asYears(){return this.as("years")}}const E=(e,t,n)=>e.add(t.years()*n,"y").add(t.months()*n,"M").add(t.days()*n,"d").add(t.hours()*n,"h").add(t.minutes()*n,"m").add(t.seconds()*n,"s").add(t.milliseconds()*n,"ms");return(e,t,n)=>{u=n,m=n().$utils(),n.duration=function(e,t){const a=n.locale();return d(e,{$l:a},t)},n.isDuration=c;const a=t.prototype.add,r=t.prototype.subtract;t.prototype.add=function(e,t){return c(e)?E(this,e,1):a.bind(this)(e,t)},t.prototype.subtract=function(e,t){return c(e)?E(this,e,-1):r.bind(this)(e,t)}}}()},31927:function(e,t,n){"use strict";n.d(t,{t:function(){return E}});n(16280);var a=n(33514),r=n(34477),o=n(83052),i=n(27092),l=n(10147),s=n(1528),c=n(34678),u=n(59769),m=n(73035),d=n(20162),p=n(83836),g=n(16270);var h=n(86645),f=n.n(h);const y=e=>{const{moduleConfig:t}=e,{title:n,subTitle:o,viewPolicyText:c,viewPolicyUrl:u}=t||{};return a.createElement("div",{className:f().priceTextModule},a.createElement("div",{className:f().leftDot},""),a.createElement("div",{className:f().rightContent},n?a.createElement("div",{className:f().priceTitle},n):null,o?a.createElement("div",{className:f().priceSubTitle},o):null,c?a.createElement(l.A,{style:{display:"inline-flex"},className:f().viewPolicyBtn,type:s.el.text,size:"md",onClick:()=>{u?window.open(u,"_blank"):(0,r.fL)(new Error("best price guarantee dialog: viewPolicyUrl is empty"))}},c,a.createElement(i.A,{className:f().rightArrowIcon})):null))},_=e=>{const{onClose:t,modalConfig:n}=e,{bestPriceGuaranteeFloatingLayer:r}=n||{},{title:o,topContent:i,priceAdjustmentTextModule:l,priceMatchTextModule:s,bottomContent:u}=r||{};return a.createElement(c.A,{onClose:t,title:o},i?a.createElement("div",{className:f().topContent},i):null,s?a.createElement(y,{moduleConfig:s}):null,l?a.createElement(y,{moduleConfig:l}):null,u?a.createElement("div",{className:f().bottomContent},u):null)},E=async e=>{u.H.show();const{onClose:t}=e||{};try{const e=await(0,g.$)().post("/api/bg/jayce/policy/weak_query_best_price_guarantee",{}).then((e=>(0,p.Cb)(e??{}))),{success:n,result:r}=e||{};n&&r?(0,m.P)({popupNode:a.createElement(_,{modalConfig:r,onClose:()=>{(0,m.L)(),t?.()}})}):d.A.error(o.Ay.t("networkError",{ns:"bec-fe.best-price-guarantee-dialog"}))}catch(e){d.A.error(o.Ay.t("networkError",{ns:"bec-fe.best-price-guarantee-dialog"}))}finally{u.H.hide()}}},27136:function(e,t,n){"use strict";var a=n(33514),r=n(32485),o=n.n(r),i=n(43430),l=n.n(i);t.A=function(e){const{content:t,basis:n=["138px","calc(100% - 138px)"],padding:r=[16,20],type:i="gray",bordered:s=!0,className:c}=e,u=(0,a.useMemo)((()=>r?.reduce(((e,t)=>`${e}${t}px `),"")),[r]);return a.createElement("div",{className:o()(c,{[l().bordered]:s,[l().gray]:"gray"===i,[l().green]:"green"===i}),role:"table"},t?.map(((e,r)=>{const s=0===r,c=r===t.length-1;return a.createElement("div",{key:r,className:l().row,role:"row"},e?.map(((t,r)=>{const m=0===r,d=r===e.length-1,p=n[r]||"auto";let g;return"gray"===i&&0===r&&(g="#F3F3F3"),a.createElement("div",{role:"cell",key:r,className:o()(l().col,{[l().top]:s,[l().right]:d,[l().bottom]:c,[l().left]:m,[l().gray]:"gray"===i,[l().green]:"green"===i}),style:{flexBasis:p,background:g,padding:u}},t)})))})))}},99558:function(e,t,n){"use strict";n.d(t,{$n:function(){return i},tr:function(){return c},zS:function(){return l}});n(44114);var a=n(83836),r=n(64491),o=n(9274);const i=()=>(0,r.Km)(),l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Cb;return i().post(e,t,{useAntiToken:!0,errorCodeHandlers:{40001:()=>{}}}).then((e=>n?n(e):(0,a.Cb)(e))).catch((e=>({isError:!0,...(0,a.Cb)({...e.response?.data||{}})})))},s=e=>l("api/bg-morgan/confirm/quick/render/merge",e,(e=>(0,a.Cb)(e,["promotion_layer","extend_map","app_only_benefit_info","transfer_map","biz_transfer_map","po_transfer_map","benefits_track_map","pay_success_extra"]))),c=async e=>{const{goodsId:t,skuId:n,goodsNumber:a=1,isBestSkuId:r,extendMap:i,defaultSelectSpecs:l=[]}=e,c=[];return l.length&&l.forEach((e=>{const{specKeyId:t,specValueId:n}=e||{};t&&n&&c.push({spec_key_id:t,spec_value_id:n})})),s({cart_item_requests:[{goods_id:t,sku_id:n,goods_number:a,best_sku:r,extend_map:i,selected_spec_list:c}],source_channel:"22",first_render_from_pre_page:!0,payment_extra:(0,o.A)({userAgent:navigator?.userAgent})})};t.Ay={morgan:s,renderCallback:e=>l("/api/bg-morgan/confirm/render/callback",{...e,time:Date.now()})}},5778:function(e,t,n){"use strict";n.d(t,{x:function(){return r}});var a=n(63815);const r=()=>{(0,a.WU)("",{mask:!0})}},86482:function(e,t,n){"use strict";n.d(t,{FH:function(){return S},Hr:function(){return o},Hu:function(){return A},Lx:function(){return g},O$:function(){return T},Oq:function(){return _},Re:function(){return s},U_:function(){return l},Us:function(){return E},WK:function(){return h},X2:function(){return d},ZK:function(){return c},ah:function(){return f},dd:function(){return v},f6:function(){return m},hq:function(){return u},iJ:function(){return C},jW:function(){return p},lz:function(){return y},mC:function(){return k},pF:function(){return w},qx:function(){return i},sk:function(){return r},uO:function(){return b},vI:function(){return I}});var a=n(83052),r=function(e){return e[e.ApplePay=1]="ApplePay",e[e.Paypal=2]="Paypal",e[e.CardPay=3]="CardPay",e[e.BindCardPay=3]="BindCardPay",e[e.PaypalLater=4]="PaypalLater",e[e.Klarna=5]="Klarna",e[e.KlarnaPayIn30=11]="KlarnaPayIn30",e[e.KlarnaPayNow=12]="KlarnaPayNow",e[e.AfterPay=6]="AfterPay",e[e.GooglePay=7]="GooglePay",e[e.CashPay=8]="CashPay",e[e.Affirm=9]="Affirm",e[e.ClearPay=10]="ClearPay",e[e.IDeal=13]="IDeal",e[e.OXXO=14]="OXXO",e[e.Mercado=15]="Mercado",e[e.MbWay=16]="MbWay",e[e.Multibanco=17]="Multibanco",e[e.Blik=18]="Blik",e[e.CardInstallment=19]="CardInstallment",e[e.Bancontact=20]="Bancontact",e[e.Konbini=21]="Konbini",e[e.KakaoPay=22]="KakaoPay",e[e.KCP=23]="KCP",e[e.Boleto=34]="Boleto",e[e.Paidy=24]="Paidy",e[e.TabbyPayIn4=25]="TabbyPayIn4",e[e.Venmo=26]="Venmo",e[e.Tamara=27]="Tamara",e[e.PayNow=28]="PayNow",e[e.WebPay=29]="WebPay",e[e.CardInstallFree=30]="CardInstallFree",e[e.COD=31]="COD",e[e.ScalaPay=32]="ScalaPay",e[e.PIX=33]="PIX",e[e.Atome=35]="Atome",e[e.Touchngo=36]="Touchngo",e[e.FPX=37]="FPX",e[e.GrabPay=38]="GrabPay",e[e.GCash=39]="GCash",e[e.Twint=41]="Twint",e[e.Zip=42]="Zip",e[e.Przelewy24=43]="Przelewy24",e[e.Trustly=45]="Trustly",e[e.EPS=46]="EPS",e[e.Vipps=47]="Vipps",e[e.NaverPay=48]="NaverPay",e[e.TossPay=49]="TossPay",e[e.Mobilepay=50]="Mobilepay",e[e.Eft=51]="Eft",e[e.PSE=53]="PSE",e[e.PayPay=54]="PayPay",e[e.PagoEfectivo=55]="PagoEfectivo",e[e.PAY_PO=56]="PAY_PO",e[e.TrueMoney=57]="TrueMoney",e[e.E_Banking=58]="E_Banking",e[e.Prompt_Pay=59]="Prompt_Pay",e[e.Bizum=60]="Bizum",e[e.Nequi=62]="Nequi",e[e.Swish=63]="Swish",e[e.PAY_CASH=64]="PAY_CASH",e[e.Kueski=65]="Kueski",e[e.Satispay=66]="Satispay",e[e.AU_PAY=67]="AU_PAY",e[e.TWISTO=68]="TWISTO",e[e.TWISTO_PAY_IN_3=69]="TWISTO_PAY_IN_3",e[e.Easypaisa=71]="Easypaisa",e[e.JazzCash=72]="JazzCash",e[e.KlarnaFinancing=73]="KlarnaFinancing",e[e.MoMo=75]="MoMo",e[e.RivertyInvoice=76]="RivertyInvoice",e[e.PayFlex=77]="PayFlex",e[e.BankTransfer=78]="BankTransfer",e[e.MOBILE_BILLING=70]="MOBILE_BILLING",e[e.Opay=80]="Opay",e[e.RevolutPay=81]="RevolutPay",e[e.CreditPay=101]="CreditPay",e[e.FriendPay=998]="FriendPay",e[e.ComposePay=999]="ComposePay",e}(r||{}),o=function(e){return e.ApplePay="applepay",e.Paypal="paypal",e.CardPay="cardpay",e.CardInstallment="cardInstall",e.CardInstallFree="cardInstallFree",e.BindCardAndPay="cardpaybind",e.PaypalLater="paylater",e.Klarna="klarna",e.KlarnaPayNow="klarnaPayNow",e.KlarnaPayIn30="klarnaPayIn30",e.AfterPay="afterpay",e.ClearPay="clearpay",e.CashPay="cashapp",e.Affirm="affirm",e.GooglePay="googlepay",e.Credit="credit",e.IDeal="ideal",e.Blik="blik",e.MbWay="mbway",e.Mercado="mercado",e.OXXO="oxxo",e.Multibanco="multibanco",e.Bancontact="bancontact",e.Konbini="konbini",e.KakaoPay="kakaopay",e.KCP="kcp",e.Boleto="boleto",e.PIX="pix",e.Paidy="paidy",e.TabbyPayIn4="tabbyPayIn4",e.Venmo="venmo",e.Tamara="tamara",e.COD="cod",e.ScalaPay="scalapay",e.PayNow="paynow",e.WebPay="webpay",e.Atome="atome",e.Touchngo="touchngo",e.FPX="fpx",e.GrabPay="grabpay",e.GCash="gcash",e.Twint="twint",e.Zip="zip",e.Przelewy24="przelewy24",e.Trustly="trustly",e.EPS="eps",e.Vipps="vipps",e.NaverPay="naverpay",e.TossPay="tosspay",e.Mobilepay="mobilepay",e.Eft="eft",e.PSE="pse",e.PayPay="paypay",e.PagoEfectivo="pagoefectivo",e.PAY_PO="paypo",e.TrueMoney="trueMoney",e.E_Banking="eBanking",e.Prompt_Pay="promptPay",e.Bizum="bizum",e.Nequi="nequi",e.Swish="swish",e.FriendPay="friendPay",e.PAY_CASH="payCash",e.Kueski="kueski",e.Satispay="satispay",e.AU_PAY="aupay",e.TWISTO="twisto",e.JazzCash="jazzCash",e.TWISTO_PAY_IN_3="twistoPayIn3",e.MoMo="moMo",e.RivertyInvoice="rivertyInvoice",e.Easypaisa="easypaisa",e.KlarnaFinancing="klarnaFinancing",e.PayFlex="payflex",e.BankTransfer="bankTransfer",e.RevolutPay="revolutPay",e.Opay="opay",e.MOBILE_BILLING="mobileBilling",e}(o||{});const i=Object.keys(r).filter((e=>!!o[e])).reduce(((e,t)=>(e[r[t]]=o[t],e)),{});let l=function(e){return e.PaymentAuthAlreadyUsed="PaymentAuthAlreadyUsed",e.UserCanceled="UserCanceled",e}({});var s=function(e){return e[e.Unpayed=0]="Unpayed",e[e.Payed=1]="Payed",e[e.Canceled=2]="Canceled",e[e.Unkown=3]="Unkown",e}(s||{});let c=function(e){return e[e.UNCONFIRMED=0]="UNCONFIRMED",e[e.CONFIRMED=1]="CONFIRMED",e[e.CANCELED=2]="CANCELED",e}({});var u=function(e){return e[e.Invalid=0]="Invalid",e[e.Success=1]="Success",e[e.Processing=2]="Processing",e[e.Fail=3]="Fail",e[e.Canceled=4]="Canceled",e}(u||{}),m=function(e){return e.SUCCESS="S",e.FAIL="F",e.PROCESSING="P",e}(m||{}),d=function(e){return e.REDIRECT="redirect",e.JS_SDK="js_sdk",e.NATIVE_APP="native_app",e.NATIVE_FALLBACK_REDIRECT="native_fallback_redirect",e.OTP_SMS_VERIFY="otp_sms_verify",e.OTP_VERIFY="otp_verify",e.None="none",e}(d||{}),p=function(e){return e[e.UNPAYED=0]="UNPAYED",e[e.PAYED=2]="PAYED",e}(p||{});const g={VISITOR_TOKEN:"visitor_token",VISITOR_LOGIN_TS:"visitor_login_ts"},h={PAY_PREAUTH:"bgt_3ds_pay_callback_pre_auth",PAY_TRACKING_PARAMS:"bgt_3ds_tracking_params",PAY_3DS_QUICK_PAYPAL_BRAINTREE:"bgt_3ds_quick_paypal_braintree"},f={errorPayload:{viewStyle:"nothing"}};let y=function(e){return e[e.NOTHING=0]="NOTHING",e[e.FORWARD=1]="FORWARD",e[e.BACK=2]="BACK",e[e.GO_HOME=3]="GO_HOME",e[e.RELOAD=4]="RELOAD",e[e.REFRESH=7]="REFRESH",e[e.TRY_ANOTHER_CARD=8]="TRY_ANOTHER_CARD",e[e.PAY_WITH_PAYPAL=9]="PAY_WITH_PAYPAL",e[e.FORWARD2=10]="FORWARD2",e[e.OVERWRITE=1e4]="OVERWRITE",e[e.PAY_TRY_ANOTHER_CARD=101]="PAY_TRY_ANOTHER_CARD",e[e.PAY_SWITCH_PAYMENT_METHOD=102]="PAY_SWITCH_PAYMENT_METHOD",e[e.PAY_TRY_AGAIN=104]="PAY_TRY_AGAIN",e[e.PAY_EDIT_BILLING_ADDRESS=105]="PAY_EDIT_BILLING_ADDRESS",e[e.PAY_EDIT_CARD_INFORMATION=106]="PAY_EDIT_CARD_INFORMATION",e[e.PAY_TRY_AGAIN_1=109]="PAY_TRY_AGAIN_1",e[e.PAY_PAY_WITH_PAYPAL=110]="PAY_PAY_WITH_PAYPAL",e[e.TRY_ANOTHER_METHOD=113]="TRY_ANOTHER_METHOD",e[e.PAY_AVS_AUTH_THEN_PAY_AGAIN=114]="PAY_AVS_AUTH_THEN_PAY_AGAIN",e[e.EDIT_CARD_INFORMATION_WITH_CVV=115]="EDIT_CARD_INFORMATION_WITH_CVV",e[e.EDIT_BIRTH_DATE=116]="EDIT_BIRTH_DATE",e[e.EDIT_CVV_AND_PAY=117]="EDIT_CVV_AND_PAY",e}({});var _=function(e){return e.Message="4",e.Facebook="1",e.CopyLink="-2",e}(_||{});const E=()=>({serverTime:Date.now(),errorCode:1,errorType:1,errorPayload:{viewObject:{okLabel:a.Ay.t("try_again",{ns:"bec-fe.web-pay"}),onOk:{type:y.PAY_TRY_AGAIN_1,param:{}},cancelLabel:a.Ay.t("switch_payment_method",{ns:"bec-fe.web-pay"}),onCancel:{type:y.PAY_SWITCH_PAYMENT_METHOD,param:{}},title:a.Ay.t("pay_error_network",{ns:"bec-fe.web-pay"})},paymentInfo:{routeRetentionErrorStyle:!0},viewStyle:"confirm"}}),b=()=>({viewObject:{okLabel:a.Ay.t("try_again",{ns:"bec-fe.web-pay"}),onOk:{type:y.PAY_TRY_AGAIN_1,param:{}},cancelLabel:a.Ay.t("switch_payment_method",{ns:"bec-fe.web-pay"}),onCancel:{type:y.PAY_SWITCH_PAYMENT_METHOD,param:{}},title:a.Ay.t("create_and_pay_default_error_data",{ns:"bec-fe.web-pay"})},paymentInfo:{routeRetentionErrorStyle:!0},viewStyle:"confirm"});var S=function(e){return e.ADD_TO_ORDER="1",e.ORDER_CHECKOUT="2",e.PROCESSING_REPAY="3",e}(S||{});const v=[r.IDeal,r.FPX,r.EPS,r.PSE,r.E_Banking],I="bg_3ds_common_jump_urls",w="0.6.12",k={resultCode:u.Canceled,response:f},N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[3];return t.map(((n,a)=>0===a?e.substring(0,n):e.substring(t[a-1],n))).concat([e.substring(t[t.length-1])]).filter((e=>!!e)).join(" ")||""},A={[r.Vipps]:{MobileReg:/^\d{0,8}$/,MobileValidReg:/^\d{8}$/,MobileLen:8,TelCode:47,encryptScene:"vipps_mobile"},[r.Bizum]:{MobileReg:/^\d{0,9}$/,MobileValidReg:/^\d{9}$/,MobileLen:9,TelCode:34,encryptScene:"bizum_mobile",mobileScene:115},[r.Nequi]:{MobileReg:/^\d{0,10}$/,MobileValidReg:/^\d{10}$/,MobileLen:10,TelCode:57,encryptScene:"payment_common",mobileScene:123},[r.Easypaisa]:{MobileReg:/^\d{0,10}$/,MobileValidReg:/^\d{10}$/,MobileLen:10,TelCode:92,encryptScene:"payment_common",mobileScene:136,formatMobile:e=>N(e)},[r.JazzCash]:{MobileReg:/^\d{0,10}$/,MobileValidReg:/^\d{10}$/,MobileLen:10,TelCode:92,encryptScene:"payment_common",mobileScene:137,formatMobile:e=>N(e)}};let C=function(e){return e.DEFAULT_FILL_PHONE_NUMBER="default_fill_phone_number",e.NOT_FILL_ADDRESS_PHONE_NUMBER="not_fill_address_phone_number",e.NOT_FILL_PHONE_NUMBER="not_fill_phone_number",e}({}),T=function(e){return e.OTP_SMS="otp_sms",e}({})},47743:function(e,t,n){"use strict";n.d(t,{L:function(){return h}});n(44114);var a=n(94971),r=n(38940),o=n(45820),i=n(43266),l=n(15193),s=n(86482),c=n(3962);const u={appId:"100616",bizSide:"consumer-platform-fe"};function m(e){return e&&!e.startsWith("/w/")?`/w${e}`:e}let d={tags:{},fields:{},longFields:{}},p=[];function g(){d=p.reduce((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.tags&&(e.tags={...e.tags,...t.tags}),t.fields&&(e.fields={...e.fields,...t.fields}),t.longFields&&(e.longFields={...e.longFields,...t.longFields}),e}),{tags:{},fields:{},longFields:{}})}function h(e){return p.push(e),g(),()=>{const t=p.length;p=p.filter((t=>t!==e)),t!==p.length&&g()}}h({tags:{pn:(0,l.T)((()=>function(){const e=window.__PageContext__?.pagePath;return e?`${m(`/${e}`)}.html`:m(window.location.pathname)}()),"unknown"),packageVersion:s.pF,pageName:(0,l.T)((()=>(()=>{let e="unknown";return e=window.__PageContext__?.pagePath?.replace?.("w/",""),e})()),"unknown"),platform:(0,r.uo)()}});t.A=e=>{try{const{event:t,payChannel:n,tags:r={},fields:s={},longFields:m={},data:p,...g}=e||{},h=90669,{amplifyRate:f}=((0,a.Ri)(),(0,o.pq)()),{screen:y,devicePixelRatio:_,innerWidth:E,innerHeight:b,outerHeight:S,outerWidth:v,scrollX:I,scrollY:w}=window,{width:k,height:N}=y||{};(0,i.Ez)([{groupId:h,amplifyRate:f,tags:{...d.tags,event:t,payChannel:n||d.tags?.payChannel,sessionId:(0,l.T)((()=>sessionStorage.getItem("x-session-id")),null),...r},fields:{url:location.href,type:"biz",screen_width:k,screen_height:N,dpr:_,outerWidth:v,outerHeight:S,devtoolOpen:v-E>=100||S-b>=180,inner_width:E,inner_height:b,scroll_x:I,scroll_y:w,...d.fields,...s,data:"string"==typeof p?p:(0,c.h)(p),...g},longFields:{...d.longFields,...m}}],u)}catch(e){false}}},9274:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var a=n(68009),r=n(64423),o=n(47743);var i=(e,t)=>{if(t)return!0;const n=window.ApplePaySession;if(!(a=e||window.navigator.userAgent,/^((?!chrome|android).)*safari/i.test(a)&&n))return(0,o.A)({event:"not support apple pay",data:JSON.stringify({applePaySession:!!n})}),!1;var a;const r=n.canMakePayments?.();return(0,o.A)({event:"apple pay check canMakePayments",data:JSON.stringify({canMakePayments:r})}),r};function l(e){return(0,a.uo)(e).platform!==r.i9.Browser}function s(){let{userAgent:e,supportApplePaySdk:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&"string"==typeof e?{forbid_google_pay:l(e),supported_apple_pay:i(e,t),supported_cash_app:!0}:{}}},3962:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});const a=(e,t)=>{try{return JSON.stringify(e)}catch(e){return t||""}}},9410:function(e,t,n){"use strict";n.d(t,{l5:function(){return m},ut:function(){return d},wi:function(){return u}});var a=n(14242),r=n(33514),o=n(32485),i=n.n(o),l=n(44798),s=n(98886),c=n.n(s);const u=()=>{const{popovertargetId:e,positionAnchor:t}=(0,r.useMemo)((()=>{const e=(0,l.A)(10);return{popovertargetId:`--popover_${e}`,positionAnchor:`--anchor_${e}`}}),[]);return{popovertargetId:e,positionAnchor:t}},m=(0,r.forwardRef)(((e,t)=>{const{popovertargetId:n,positionAnchor:o,popover:l="auto",children:s,...u}=e,m=(0,r.useMemo)((()=>({...u.style||{},positionAnchor:o})),[u.style,o]),d=(0,r.useMemo)((()=>i()(c().target,u.className)),[u.className]);return r.createElement("div",(0,a.A)({ref:t},u,{popover:l,id:n,style:m,className:d}),s)})),d=(0,r.forwardRef)(((e,t)=>{const{popovertargetId:n,positionAnchor:o,children:l,popover:s="auto",...u}=e,m=(0,r.useMemo)((()=>({...u.style||{},anchorName:o})),[u.style,o]);return r.createElement("button",(0,a.A)({ref:t,type:"button"},"hint"===s?{interesttarget:n,popovertarget:n,popovertargetaction:"show"}:{popovertarget:n,popovertargetaction:"toggle"},u,{className:i()(c().button,u.className),style:m}),l)}))},50292:function(e,t,n){"use strict";n.d(t,{rG:function(){return l}});var a=n(33514),r=n(46694);const o=e=>{try{const t=e||navigator.userAgent;return!!/iPad|Android(?!.*Mobile)|Tablet|PlayBook|Silk/i.test(t)||"ontouchstart"in document}catch(e){}return!1},i=(e,t)=>{try{const n=(t||navigator.userAgent).match(/Chrome\/(\d+)\./);if(n&&n[1]&&e){return parseInt(n[1],10)>e}}catch(e){}return!1},l=()=>{const{userAgent:e}=(0,r.Sz)(),[t,n]=(0,a.useState)((()=>o(e)));(0,a.useEffect)((()=>{n(o())}),[]);return{supportedPopover:(0,a.useMemo)((()=>!t&&(!!i(129,!1)&&HTMLElement.prototype.hasOwnProperty("popover"))),[t,e]),supportedPopoverHint:(0,a.useMemo)((()=>!t&&(!!i(129,!1)&&HTMLButtonElement.prototype.hasOwnProperty("interestTargetElement"))),[t,e])}}},1747:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});var a=n(33514);function r(e){const[t,n]=(0,a.useState)(e),r=(0,a.useRef)(t);return[t,(0,a.useCallback)((e=>{n(e),r.current=e}),[]),(0,a.useCallback)((()=>r.current),[])]}},47137:function(e,t,n){"use strict";n.r(t),n.d(t,{observable:function(){return a.sH},observer:function(){return r.PA}});var a=n(37451),r=n(47116)},9594:function(e,t,n){"use strict";function a(e){let{initPage:t,defaultTasks:a}=e;if("1"===window._SPLIT_REQUIRE_FLAG_){(0,n(5789).A)({$react:()=>n(33514),$reactDOM:()=>n(89243),$mobx:()=>n(47137),$18n:()=>n(24781),...a},Object.keys(a)).then((e=>t(e)))}else t(Object.keys(a).reduce(((e,t)=>{const n=a[t]();return e[t]=n,e}),{}))}n.d(t,{A:function(){return a}})},5789:function(e,t){"use strict";const n=e=>new Promise((t=>{if("undefined"==typeof window||"undefined"==typeof MessageChannel)return e.forEach((e=>e())),void t();window._SPLIT_REQUIRE_WORK_="1";const n=window._SPLIT_REQUIRE_CONFIG_||{},a=n.strategy,r=Math.max(5,n.interval||5),o=new MessageChannel;let i=0;let l=!1;function s(){try{return l=l||function(){const e=window.__fsImgItems||[];for(let t=0;t<e.length;t++)if(!e[t].time)return!1;return!0}(),l}catch(e){return!0}}function c(e){return!s()&&Date.now()-e>r}const u=()=>"1"===String(a)&&navigator.scheduling?.isInputPending?.();function m(){const n=Date.now();for(;void 0!==e[i];)if(e[i++](),u()&&Date.now()-n>r||c(n))return void o.port1.postMessage(null);t()}o.port2.onmessage=()=>{m()},u()||!s()?o.port1.postMessage(null):m()}));t.A=async(e,t)=>{const a={},r=Object.keys(e).map((n=>()=>{const r=e[n]();t.includes(n)&&(a[n]=r)}));return await n(r),a}},94406:function(e,t,n){n(16280),function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var a=n(t);function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}var i=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))},l={error:null},s=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state=l,t.resetErrorBoundary=function(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];null==t.props.onReset||(e=t.props).onReset.apply(e,a),t.reset()},t}o(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var n=t.prototype;return n.reset=function(){this.setState(l)},n.componentDidCatch=function(e,t){var n,a;null==(n=(a=this.props).onError)||n.call(a,e,t)},n.componentDidUpdate=function(e,t){var n,a,r=this.state.error,o=this.props.resetKeys;null!==r&&null!==t.error&&i(e.resetKeys,o)&&(null==(n=(a=this.props).onResetKeysChange)||n.call(a,e.resetKeys,o),this.reset())},n.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,r=t.FallbackComponent,o=t.fallback;if(null!==e){var i={error:e,resetErrorBoundary:this.resetErrorBoundary};if(a.isValidElement(o))return o;if("function"==typeof n)return n(i);if(r)return a.createElement(r,i);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(a.Component);function c(e,t){var n=function(n){return a.createElement(s,t,a.createElement(e,n))},r=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary("+r+")",n}function u(e){var t=a.useState(null),n=t[0],r=t[1];if(null!=e)throw e;if(null!=n)throw n;return r}e.ErrorBoundary=s,e.useErrorHandler=u,e.withErrorBoundary=c,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(33514))},18113:function(e,t,n){"use strict";n.d(t,{$g:function(){return s},IT:function(){return i},Pc:function(){return c},St:function(){return o},cl:function(){return l},wG:function(){return m}});n(44114);var a=n(96074),r=n(36513);const o=e=>({level:-999,pid:-999,pName:e||"",isFilter:!0}),i=e=>{let t=0;return Object.keys(e||{}).forEach((n=>{e[n]&&t++})),t},l=e=>(0,r.T)((()=>e?.length?e.reduce(((e,t)=>{if(t?.vValueList?.length){const n=t.vValueList.reduce(((e,t)=>({...e,[t.vid]:t.selected})),{});e[t.pid]={valueSelectMap:n,valueSelectCount:i(n),level:t.level}}return e}),{}):{})),s=(e,t)=>(0,r.T)((()=>{if(!e?.length||!t?.length)return[];const n=t.map((e=>e.level));return e.map((e=>{if(e?.valueDtolist?.length){const t=n?.map((t=>e.valueDtolist.find((e=>e.level===t))));return{...e,valueDtolist:t}}return e}))})),c=e=>{let{dependencyRelationMap:t={},currentOptionPid:n,dependencyRelation:o}=e;return(0,r.T)((()=>{const e=[];return Object.keys(t).forEach((r=>{const{valueSelectMap:i={},level:l}=t[r]||{},s=Object.keys(i).filter((e=>i?.[e])).map((e=>+e));if(s.length){const i={pid:+r,vid_list:s,level:l};if(n===+r){const{valueSelectMap:e}=t[n]||{},{vValueList:r}=o?.find?.((e=>e.pid===n))||{};r?.length&&(i.all_vid_list=(0,a.qi)(r.map((t=>({...t,selected:e?.[t.vid]})))||[]))}e.push(i)}})),{conditions:e}}))},u=(e,t)=>{if(!e||!t)return!1;const n=e.getBoundingClientRect(),a=t.getBoundingClientRect();return Math.floor(a.right)<=Math.floor(n.right)&&Math.floor(a.left)>=Math.floor(n.left)},m=e=>{(0,r.T)((()=>{if(e){const t={},n=e.Components.Slides.get(),{prev:a,next:r}=e.Components.Arrows.arrows,o=e.length||0;if(!o)return;const i=a?.style.opacity,l=r?.style.opacity,s=e.root,c=u(s,n[0].slide),m=u(s,n[o-1].slide);!c&&0!==e.index||"0"===i?c||"1"===i||(t.prev=1):t.prev=0,!m&&e.index!==o-1||"0"===l?m||"1"===l||(t.next=1):t.next=0,e.emit?.("updateArrowOpacity",t)}}))}},94813:function(e,t,n){"use strict";var a=n(14242),r=n(33514),o=n(32485),i=n.n(o),l=n(97582),s=n(2526),c=n(82370),u=n(40822),m=n(14786),d=n(17021),p=n(53075),g=n(53938),h=n(93821),f=n.n(h);const y=e=>{let{data:t,page_el_sn:n,cate2_id:o,type:h="mall",style:y,classname:_}=e;const{t:E}=(0,l.B)("mall"),b=(0,g.d)();return r.createElement(m.A,{page_el_sn:n,others:{cate2_id:o}},r.createElement(s.N_,{className:i()(f().topShop,f()[h],_),style:y,url:t.topShopGoToUrl,onClick:e=>{(0,p.MJ)(e,{openTarget:"_blank"})}},r.createElement("div",{className:f().topShopLeft},(()=>{switch(h){case"mall":return(()=>{const e=t.topShopText?.length,n=t.topShopColorRange?.[0],o=t.topShopColorRange?.[1],l={background:`linear-gradient(${n}, ${o})`,"-webkit-background-clip":"text"};return e?r.createElement(r.Fragment,null,t.topShopText.map(((n,o)=>5===n.type?r.createElement(c.Ay,(0,a.A)({className:f().mallIcon,src:n.textData,"aria-hidden":!0,alt:""},b)):1===n.type?o<e-1?r.createElement("span",{className:i()(f().bigText,f().mallText),style:l},n.textData):r.createElement("span",{className:i()(f().mallText,f().text),style:{color:t.categoryColor}},n.textData):void 0))):null})();case"goods":return(()=>{const{mainLeftImg:e,mainRightImg:n,mainText:o,rightDesc:i,topShopGoToUrl:l}=t||{};return l?r.createElement(r.Fragment,null,r.createElement(c.Ay,(0,a.A)({className:f().icon,src:e,"aria-hidden":!0,alt:""},b)),r.createElement(u.H3,{className:f().bigText},o),r.createElement(c.Ay,(0,a.A)({className:f().icon,src:n,"aria-hidden":!0,alt:""},b)),r.createElement("span",{className:f().text},i)):null})();default:return null}})()),r.createElement("div",{className:f().topShopRight},"goods"===h&&r.createElement("span",{className:f().text},E("seeAllShops")),r.createElement(d.X8,{className:f().arrow,style:{fill:t.arrowColor,color:t.arrowColor}}))))};t.A=(0,r.memo)(y)},84294:function(e,t,n){"use strict";n.d(t,{M:function(){return UI},e:function(){return GI}});var a=n(33514),r=n(32485),o=n.n(r),i=n(47116),l=n(24517),s=n(92014),c=n(34101),u=n(23860),m=n(94127),d=n(13852),p=n(97582),g=n(68376),h=n(64423),f=n(54638),y=n(25728),_=n(40355),E=n(26258),b=n(76280),S=n(12540),v=n(35614),I=n(40822),w=n(11263),k=n(42979),N=n(63962),A=n(74344),C=n(93949),T=n(96822),x=n(87047),P=n(6101);const R={FOUR_ARROW:"https://aimg.kwcdn.com/upload_aimg/bt/6d487958-e01f-4c04-a9d1-5d60254a2096.png.slim.png",BG_COLOR:"https://aimg.kwcdn.com/upload_aimg/bt/4636d621-6359-4d20-b657-922a39ee89f2.png.slim.png",FIRST_PIECE_BG:"https://aimg.kwcdn.com/upload_aimg/message/59e60b87-36f0-4605-a078-ea8d10f6ec39.png.slim.png",RING_SHADOW:"https://aimg.kwcdn.com/upload_aimg/bt/af714085-6503-4d63-a846-17b6034312fb.png.slim.png",TOP_ARROW:"https://aimg.kwcdn.com/upload_aimg/bt/2df2d6c3-4a9b-4c18-a46b-be2294c0036d.png.slim.png",OUTER_LIGHT:"https://aimg.kwcdn.com/upload_aimg/m-image/a8105cb5-d413-43a6-971e-ebb75a78d11c.png.slim.png",ANDROID_STEP_IMG:"https://aimg.kwcdn.com/upload_aimg/sc/9c23de69-02f8-4874-9136-447751744d38.png.slim.png",IOS_STEP_IMG:"https://aimg.kwcdn.com/upload_aimg/sc/4b2d0046-ff40-4807-ab9f-4020c8c826c0.png.slim.png"},M="turn-table-base-wrap";var D=n(34477),B=n(45020),L=n(11647);function O(e){try{(0,B.oN)({type:"PCBenefitDownloadModal",pkgInfo:L.z,tags:{...e?.customTags||{}},fields:{...e?.customFields||{},dTime:Date.now()},longFields:{...e?.customLongFields||{}}})}catch(e){(0,D.fL)(e)}}const W=()=>((0,P.xX)([...Object.values(R)]),(0,a.useEffect)((()=>{O({customTags:{subEvent:"preloadImage"}})}),[]),null);var z=n(94406),F=n(26247),U=n.n(F),G=n(16087),H=n.n(G),j=n(73662),V=n(33516),q=n(14242),K=n(23777),$=n(68342);const Q=$.Bd&&!$.hQ;let Y=function(e){return e.PCPopImpr="dnld_pc_dnld_pop_impr",e.PCPendantClose="dnld_pc_pendant_close",e.PCTurntablePlay="dnld_pc_big_turntable_play",e.PwaInstallSuccess="dnld_pc_dnld_pwa_coupon_impr",e}({}),J=function(e){return e.ModalTypeFloatLayer="float_layer",e.ModalTypeSMS="sms",e.ModalTypeDefault="default",e.QRV1="qr_v1",e.BigTurnTable="big_turntable",e.SmsPop="sms_pop",e}({}),X=function(e){return e.STEP_ONE="step1",e.STEP_TWO="step2",e.STEP_THREE="step3",e.STEP_FOUR="step4",e}({});const Z=206567,ee=206570,te=203540,ne=203622,ae=219299,re=219301,oe=215988,ie=215989,le="//aimg.kwcdn.com/upload_aimg/landing/5c0a7a7b-b2d8-451e-90ac-f0ec64a884ac.png.slim.png",se="https://aimg.kwcdn.com/upload_aimg/message/7745208f-bcd8-4e05-ae2b-abee545eaec1.png.slim.png";var ce=n(54603),ue=n.n(ce);var me=e=>{const{list:t,className:n}=e,[r,i]=(0,a.useState)(0),[l,s]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const e=setTimeout((()=>{s(!0)}),400);return()=>{clearInterval(e)}}),[]),(0,a.useEffect)((()=>{if(t?.length){const e=setInterval((()=>{i((e=>e===t?.length-1?0:e+1))}),3e3);return()=>{clearInterval(e)}}}),[t]),t?.length?a.createElement("div",{className:o()(ue().bubbleListContainer,n,{[ue().isShow]:l})},a.createElement(B.s8,{className:ue().bgWrapper,"aria-hidden":!0,alt:"",src:"https://aimg.kwcdn.com/upload_aimg/bt/4d7adf62-c28c-4089-9913-befc478588c2.png.slim.png"}),t?.map(((e,t)=>{const{recipient_avatar_url:n,recipient_name:i,receive_coupon_text:{prefix:l,coupon_amount_text:s,suffix:c}={}}=e;return a.createElement("div",{key:t,className:o()(ue().container,{[ue().BX_Class4]:t===r})},a.createElement("div",{className:ue().contentContainer},n?a.createElement(B.s8,{src:n,alt:i,className:o()(ue().avatar)}):null,a.createElement("div",{className:o()(ue().item,ue().name)},i),a.createElement("div",{className:ue().item},l),a.createElement("div",{className:o()(ue().item,ue().tipValue)},s),a.createElement("div",{className:ue().item},c)))}))):null};const de=a.createContext({}),pe=()=>(0,a.useContext)(de);var ge=n(99117),he=n(50063);var fe=$.Bd?a.useLayoutEffect:a.useEffect;function ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onEnd:t,counterInterval:n}=(0,a.useMemo)((()=>({counterInterval:500,...e})),[e]),[r,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(NaN),[s,c]=(0,a.useState)(NaN),u=(0,a.useMemo)((()=>U().duration(s)),[s]),m=(0,a.useCallback)((e=>{o(!0),l(e),c(e-Date.now())}),[]),d=(0,a.useCallback)((()=>{o(!1),l(NaN),c(NaN),"function"==typeof t&&t()}),[t]),{seconds:p,minutes:g,hours:h,days:f}=(0,a.useMemo)((()=>({seconds:Math.floor(s/1e3),minutes:Math.floor(s/6e4),hours:Math.floor(s/36e5),days:Math.floor(s/864e5)})),[s]),y=(0,a.useRef)({start:m,stop:d,seconds:p,minutes:g,hours:h,days:f,options:e,duration:u,isCounting:r,expireTime:i});return fe((()=>{y.current={start:m,stop:d,seconds:p,minutes:g,hours:h,days:f,duration:u,options:e,isCounting:r,expireTime:i}}),[f,h,r,g,e,p,m,d,u,i]),fe((()=>{if(r){if("raf"===n){let e;const t=()=>{const n=Math.max(i-Date.now(),0);n<=0?y.current.stop():c(n),e=requestAnimationFrame(t)};return e=requestAnimationFrame(t),()=>{e&&cancelAnimationFrame(e)}}const e=setInterval((()=>{const e=Math.max(i-Date.now(),0);e<=0?y.current.stop():c(e)}),n);return()=>e&&clearTimeout(e)}}),[i,r,n]),{seconds:p,minutes:g,hours:h,days:f,duration:u,isCounting:r,counterRef:y}}U().extend(H());var _e=n(32139),Ee=n(74954),be=n(82492),Se=n(58844);async function ve(e){let{eventName:t,axiosInstance:n=be.Ay}=e;return await Promise.all([n({method:"POST",url:"/api/jade/neutrino/dnld/frequency/report",data:{event_name:t}}),n({method:"POST",url:"/api/hugo/hertz/user_event/report",data:{data:{event_name:t,business_context:{pkg_version:L.z.pkgVersionNum,pkg_from:"popup"}}}})]).then((()=>({success:!0}))).catch((()=>null))}const Ie=e=>{let{text:t,radius:n=100,className:r,style:o}=e;const i=n,l=2*i,s=30,[c]=(0,a.useState)((()=>`circle-${String(Math.random()).slice(-5)}`));return a.createElement("div",{className:r,style:{width:`${l+60}px`,height:`${i+s}px`,...o||{}}},a.createElement("svg",{viewBox:`0 0 ${l+60} ${i+60}`},a.createElement("path",{d:`M30,${i+s} A${i},${i} 0 0,1 ${l+s},${i+s}`,id:c,fill:"transparent"}),a.createElement("text",{style:{fill:"currentColor",textAnchor:"middle"}},a.createElement("textPath",{startOffset:"50%",href:`#${c}`},t))))};var we=n(99276),ke=n.n(we);var Ne=e=>{let{isFiveCouponList:t,showFourArrow:n=!0}=e;return a.createElement("div",{className:ke().basePlateWrapper},a.createElement("div",{className:o()(ke().basePlatePlaceholder,t&&ke().basePlatePlaceholder2)},a.createElement(B.s8,{alt:"","aria-hidden":!0,className:ke().plateInnerImg,src:t?R.FIRST_PIECE_BG:R.BG_COLOR,enableResize:!1}),a.createElement(B.s8,{alt:"","aria-hidden":!0,className:ke().plateInnerImg,src:R.RING_SHADOW,enableResize:!1})),n?a.createElement(B.s8,{alt:"","aria-hidden":!0,className:ke().plateOutterImg,src:R.FOUR_ARROW,enableResize:!1,webpEnable:!0}):null)},Ae=n(49448),Ce=n.n(Ae);var Te=e=>{let{data:t,id:n,wrapClass:r=[],onAnimationEnd:i}=e;const{t:l}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCBenefitDownloadModal.step1"}),s=[0,55,125,200,280],c=1===t?.style_config?.use_new_turntable_style,u=(t?.style_config?.big_turntable_price_str_list||[]).map(((e,t)=>({angle:s[t],coupon:e})));return a.createElement("div",{id:n,className:o()(Ce().basePlate,...r),onAnimationEnd:i},c?a.createElement(a.Fragment,null,u.map(((e,t)=>a.createElement("div",{key:t,className:o()(Ce().couponPriceFiveItems,Ce()[`couponPosition_${t+1}`]),style:{transform:`rotateZ(${e?.angle}deg)`}},a.createElement("div",{className:o()(Ce().couponWrapper,0===t&&Ce().firstCouponWrapper)},a.createElement("span",{className:o()(Ce().dollarFiveItems,Ce().currencyOnBefore)},e?.coupon?.[0]),a.createElement("span",{className:Ce().priceCountFiveItems},e?.coupon?.[1]),a.createElement("span",{className:o()(Ce().dollarFiveItems,Ce().currencyOnAfter)},e?.coupon?.[2])),a.createElement(Ie,{radius:80,text:l("plateCoupons"),className:o()(Ce().bendCouponFiveItems,!t&&Ce().firstItem)})))),a.createElement(Ne,{isFiveCouponList:c,showFourArrow:!1})):a.createElement(a.Fragment,null,[1e4,2e3,5e3,2e3].map(((e,n)=>a.createElement("div",{key:n,className:o()(Ce().couponPrice,Ce()[`couponPosition_${n+1}`]),style:{transform:`rotateZ(${90*n}deg)`}},a.createElement("span",{className:Ce().dollar},t?.style_config?.currency_display),a.createElement("span",{className:Ce().priceCount},`${(0,Ee.U3)(e)}`),a.createElement(Ie,{radius:80,text:l("plateCoupons"),className:o()(Ce().bendCoupon,!n&&Ce().firstItem)})))),a.createElement(Ne,null)))},xe=n(84828),Pe=n.n(xe);var Re=e=>{let{className:t}=e;return a.createElement("div",{className:o()(Pe().ringWrapper,t)})},Me=n(77573),De=n.n(Me);var Be=e=>{let{className:t}=e;return a.createElement("div",{className:o()(De().spinWrapper,t)})},Le=n(29412),Oe=n.n(Le);U().extend(H());const We="https://aimg.kwcdn.com/upload_aimg/m-image/d4eb8b91-8f45-4e75-be94-1459e1f3efb2.png.slim.png",ze="https://aimg.kwcdn.com/upload_aimg/bt/1dc1886c-7658-43c5-be30-78055d030e80.png.slim.png",Fe=e=>{let{data:t,setShowModal:n,setStep:r,setShowFloat:i,hasAnimation:l,onFloatClose:s}=e;const{t:c}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCBenefitDownloadModal.step1"}),{beginTime:u,setBeginTime:m}=pe(),{duration:d,counterRef:g}=ye({counterInterval:100}),[h,f,y]=(0,_e.i)(0),_={...t?.tracking||{}},E=(0,a.useCallback)((e=>{e&&("function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopPropagation&&e.stopPropagation()),s(),ve({eventName:Y.PCPendantClose})}),[]);return(0,a.useEffect)((()=>{h?g.current.start(h):g.current.stop()}),[g,h]),(0,a.useEffect)((()=>{t?.style_config?.countdown_time>0&&f(U()(u).add(t?.style_config?.countdown_time,"second").valueOf())}),[t]),a.createElement(B.jP,{containerId:"bg_pc_benefit_download_modal_container_id",containerClassName:Oe().floatTurnTable,containerZIndex:999,containerAttributes:{"data-pc-download-benefit-modal":t?.style_config.style_version??"old"}},a.createElement(he.Ay,{payload:{page_el_sn:ee,..._}},a.createElement("div",{style:{"--coupon-float-start-bottom":"50%","--coupon-float-start-left":"50%"},className:o()(Oe().floatContentWrapper,{[Oe().floatDropAni]:t?.style_config.has_animation&&l}),"aria-label":c("floatTurntable"),role:"button",tabIndex:0,onClick:()=>{(0,ge.E0)({page_el_sn:ee}),n(!0),i(!1),r(X.STEP_TWO)}},a.createElement(B.s8,{alt:"",className:Oe().floatBgImg,"aria-hidden":!0,src:t?.style_config?.big_turntable_bottom_text?ze:We}),a.createElement("div",{className:Oe().floatTurnTableWrap},a.createElement("div",{className:Oe().bonus},a.createElement("div",{className:Oe().bonusBorder},c("floatTurntable")),a.createElement("div",{className:Oe().bonusText},c("floatTurntable"))),!t?.style_config?.big_turntable_bottom_text&&a.createElement("div",{className:Oe().floatTurnTableTimer},a.createElement("div",{className:Oe().timerWrap},a.createElement("span",{className:Oe().time},"NaN"===d.format("HH")?"00":d.format("HH")),a.createElement("span",{className:Oe().dot},":"),a.createElement("span",{className:Oe().time},"NaN"===d.format("mm")?"00":d.format("mm")),a.createElement("span",{className:Oe().dot},":"),a.createElement("span",{className:Oe().time},"NaN"===d.format("ss")?"00":d.format("ss")),a.createElement("span",{className:Oe().dot},"."),a.createElement("span",{className:o()(Oe().counterTime,Oe().milliseconds)},Math.floor(d.milliseconds()/100)||0)))),a.createElement("div",{className:Oe().floatClose,onClick:E}))))};var Ue=e=>{let{popupProps:t,turnTableStep:n,data:r,onStepChange:i,onClose:l}=e;const[s,c]=(0,a.useState)((r?.style_config?.big_turntable_delay_ms||0)/1e3),[u,m]=(0,a.useState)(!1),{beginTime:d,setBeginTime:p}=pe(),g=(0,a.useRef)(),[h,f]=(0,a.useState)(!1),y=n===X.STEP_ONE,_=n===X.STEP_TWO,E="common-plate-step1",b={...r?.tracking||{}},S=1===r?.style_config?.use_new_turntable_style,v=S,I=e=>{const t=document.getElementById(e),n=(0,Ee.yD)(t)||0;document.getElementById(M).style.setProperty("--commonPlateRotateStartAngle",`${n}deg`)},w=()=>{setTimeout((()=>{(0,ge.E0)({page_el_sn:Z})}),0),I(E),i?.(X.STEP_TWO),g.current&&clearTimeout(g.current)},k=()=>{(0,ge.E0)({page_el_sn:206569}),l?.()};(0,a.useEffect)((()=>{ve({eventName:Y.PCPopImpr}),d||p(r?.style_config?.countdown_begin_time||Date.now())}),[]),(0,a.useEffect)((()=>{if(r?.style_config?.big_turntable_delay_ms){if(s>0)return g.current=setTimeout((()=>{c(s-1)}),1e3),()=>clearTimeout(g.current);I(E),i?.(X.STEP_TWO),setTimeout((()=>{(0,ge.WW)({page_el_sn:206568,...b})}),0)}}),[s]),(0,a.useEffect)((()=>{n===X.STEP_TWO&&ve({eventName:Y.PCTurntablePlay})}),[n]);const N=(0,a.useRef)(0);return a.createElement(he.Ay,{payload:{page_el_sn:Z,...b}},a.createElement("div",{className:Oe().turnTableWrap},_?null:a.createElement(a.Fragment,null,a.createElement("div",{className:Oe().modalCloseIcon,onClick:k},a.createElement(B.s8,{className:Oe().closeIcon,alt:"close icon",src:"//aimg.kwcdn.com/upload_aimg/lp/51fcda76-9f2e-4626-a483-d6baf96a290c.png.slim.png"})),a.createElement("div",{className:Oe().turnTableTitle},a.createElement("div",{className:Oe().titleText},r?.style_config?.big_turntable_title_text),a.createElement("div",{className:Oe().newUser},a.createElement("div",{className:Oe().circle}),a.createElement("div",{className:Oe().newUserText},r?.style_config?.big_turntable_subtitle_text),a.createElement("div",{className:Oe().circle})))),a.createElement("div",{className:S?Oe().turnTableFiveItems:Oe().turnTable,onClick:w,onAnimationEnd:()=>{m(!0)}},a.createElement(B.s8,{className:o()(Oe().anchor,h&&Oe().endAni),alt:"","aria-hidden":!0,src:R.TOP_ARROW}),a.createElement(Te,{id:E,wrapClass:[y&&S?Oe().slowSpin:"",_&&!S?Oe().spin:"",_&&S?Oe().plateFiveItemsSpin:"",h&&!S?Oe().basePlateEndPosition:"",h&&S?Oe().basePlateEndPosition2:""],data:r,onAnimationEnd:()=>{N.current+=1,S&&N.current<=1||(f(!0),setTimeout((()=>{i?.(X.STEP_THREE)}),700))}}),a.createElement("div",{className:o()(Oe().plateComponentWrapper,h&&Oe().endAni)},a.createElement("div",{className:Oe().centerSpin},a.createElement("span",{className:Oe().spinText},r?.style_config?.big_turntable_button_text),a.createElement(Be,null)),a.createElement(Re,null),a.createElement(B.s8,{alt:"","aria-hidden":!0,className:o()(Oe().light,_?Oe().lightAni:""),src:R.OUTER_LIGHT}))),_?null:a.createElement(a.Fragment,null,a.createElement("div",{className:o()(Oe().spinButton,u&&Oe().spinButtonAni),onClick:w},a.createElement("span",null,r?.style_config?.big_turntable_button_text),a.createElement("span",null,s?`(${s}${v?"s":""})`:"")),a.createElement("div",{className:Oe().minimun},r?.style_config?.coupon_comment))))},Ge=n(37690),He=n.n(Ge);U().extend(H());var je=e=>{let{data:t,onStepChange:n,onClose:r,onConfirm:i}=e;const{beginTime:l}=pe(),s=1===t?.style_config?.scan_pop_style,{duration:c,counterRef:u}=ye({counterInterval:100}),[m,d]=(0,_e.i)(0),{t:g}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCBenefitDownloadModal"}),h={...t?.tracking||{}};return(0,a.useEffect)((()=>{m?u.current.start(m):u.current.stop()}),[u,m]),(0,a.useEffect)((()=>{t&&t?.style_config?.countdown_time>0&&d(U()(l).add(t?.style_config?.countdown_time,"second").valueOf())}),[t]),a.createElement(he.Ay,{payload:{page_el_sn:te,...h}},a.createElement("div",{className:He().resultPopWrap},a.createElement("div",{className:He().modalCloseIcon,"aria-label":g("closeBtn"),role:"button",tabIndex:0,onClick:()=>{(0,ge.E0)({page_el_sn:204392}),r?.()}},a.createElement(B.s8,{className:He().closeIcon,alt:"close icon",src:"//aimg.kwcdn.com/upload_aimg/lp/51fcda76-9f2e-4626-a483-d6baf96a290c.png.slim.png"})),a.createElement(B.s8,{src:"https://aimg.kwcdn.com/upload_aimg/m-image/adf16550-3b32-4ede-ab19-29572e1eda6c.png.slim.png","aria-hidden":!0,alt:"",className:He().popBackImage}),a.createElement("div",{className:He().resultPopContent},a.createElement("div",{className:He().couponTitle},t?.style_config?.big_turntable_result_text),a.createElement("div",{className:He().couponWrap},a.createElement("div",{className:He().coupon},a.createElement("div",{className:He().floatSlip}),a.createElement(B.s8,{className:He().couponBackImage,"aria-hidden":!0,alt:"",src:"https://aimg.kwcdn.com/upload_aimg/m-image/6f28ac76-488d-427d-bc4d-b406178a999f.png.slim.png"}),a.createElement("div",{className:He().couponPrice},a.createElement("span",{className:He().dollar},t?.style_config?.currency_display),a.createElement("span",null,`${(0,Ee.U3)(t?.style_config?.price)}`)),a.createElement("div",{className:He().couponBenefit},t?.style_config?.scan_pop_style_coupon_text)),!t?.style_config?.big_turntable_bottom_text&&a.createElement("div",{className:He().mainCounter},a.createElement("span",{className:He().counterLabel},g("countdownText")),a.createElement("span",{className:He().counterTime},"NaN"===c.format("HH")?"00":c.format("HH")),a.createElement("span",{className:He().counterSep},":"),a.createElement("span",{className:He().counterTime},"NaN"===c.format("mm")?"00":c.format("mm")),a.createElement("span",{className:He().counterSep},":"),a.createElement("span",{className:He().counterTime},"NaN"===c.format("ss")?"00":c.format("ss")),!s&&a.createElement(a.Fragment,null,a.createElement("span",{className:He().counterSep},"."),a.createElement("span",{className:o()(He().counterTime,He().milliseconds)},Math.floor(c.milliseconds()/100)||0)))),a.createElement("div",{className:He().button,role:"button",tabIndex:0,"aria-label":t?.style_config?.confirm_button_text,onMouseDown:()=>{(0,ge.E0)({page_el_sn:te}),setTimeout((()=>{n?.(X.STEP_FOUR)}),600),i?.()}},t?.style_config?.confirm_button_text)),a.createElement("div",{className:He().bottomText},t?.style_config?.big_turntable_bottom_text)))},Ve=n(41439),qe=n.n(Ve);const Ke=e=>{const{className:t,text:n,minScale:r=0,transFormOrigin:i,onlyScaleX:l,fontClass:s,innerContainerClass:c,canFull:u,style:m}=e,d=(0,a.useRef)(),p=(0,a.useRef)(),{mount:g,innerContainerWidth:h,scale:f}=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];const[i,l]=(0,a.useState)(!1),[s,c]=(0,a.useState)(0),[u,m]=(0,a.useState)(1);return(0,a.useEffect)((()=>{const a=e?.current?.offsetWidth||0,o=t?.current?.offsetWidth||0;c(a),(o>a||r)&&m(Math.max(a/o,n)),l(!0)}),o),{mount:i,innerContainerWidth:s,scale:u}}(d,p,r,u,[n]),y=g?{transformOrigin:i||"left center",transform:`${l?"scaleX":"scale"}(${f})`,width:h/f,overflow:"hidden",textOverflow:f===r?"ellipsis":""}:null;return a.createElement("div",{ref:d,className:t,style:m},a.createElement("div",{style:y,className:c},a.createElement("span",{ref:p,className:o()({[qe().textHidden]:!g},s)},n)))};var $e=(0,a.memo)(Ke),Qe=n(7638),Ye=n(91343),Je=n(88048),Xe=n.n(Je),Ze=function(e){return e[e.IOS=0]="IOS",e[e.ANDROID=1]="ANDROID",e}(Ze||{});var et=e=>{let{data:t,pageSN:n}=e;const{t:r}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"ScanGuide"}),[i,l]=(0,a.useState)(Ze.IOS);(0,a.useEffect)((()=>{const e=setTimeout((()=>{l((e=>e===Ze.IOS?Ze.ANDROID:Ze.IOS))}),5e3);return()=>{clearTimeout(e)}}),[i]);const s=(0,a.useCallback)((e=>{l(e),(0,ge.E0)({page_el_sn:[re,ae][e]})}),[]);return a.createElement("div",{className:Xe().newQrcodeWrapper},a.createElement("div",{className:Xe().leftWrapper},a.createElement("div",{className:o()(Xe().qrCodeContainer)},a.createElement(B.s8,{src:t?.link_url_base64??"",alt:"qr code",className:Xe().pcDownloadQrCodeImage}),a.createElement(B.s8,{src:le,alt:"logo",className:Xe().pcDownloadQrCodeLogo})),a.createElement(Ye.A,{className:Xe().appStoreWrapper,listClassName:o()(Xe().appStoreList),itemClassName:Xe().appStoreItem,iconClassName:Xe().storeIcon,subTitleClassName:Xe().subTitle,titleClassName:Xe().title,pageSN:n,pageElSnGooglePlayStore:oe,pageElSnIosStore:ie,jumpUrl:t?.style_config?.jump_url})),a.createElement("div",{className:Xe().rightWrapper},a.createElement("div",{className:Xe().carousel},a.createElement("div",{className:Xe().carouselBody,style:{transform:["translateX(0)","translateX(-50%)"][i]}},a.createElement(he.Ay,{payload:{page_el_sn:219917}},a.createElement("div",{className:Xe().ios},a.createElement("div",{className:Xe().mainTip},a.createElement(Qe.x,{t:r,ns:"bec-fe.popup-download-ui-pc",i18nKey:"IosScanTip"},a.createElement("span",null),a.createElement("br",null),a.createElement("span",null))),a.createElement("div",{className:Xe().stepImg,style:{backgroundImage:`url(${R.IOS_STEP_IMG})`}}),a.createElement("div",{className:Xe().steps},r("IosSteps",{returnObjects:!0}).map(((e,t)=>a.createElement("div",{key:e,className:o()(Xe().stepItem,Xe()[`stepItem${t}`])},a.createElement("span",null,t+1),e)))))),a.createElement(he.Ay,{payload:{page_el_sn:219916}},a.createElement("div",{className:Xe().android},a.createElement("div",{className:Xe().mainTip},a.createElement(Qe.x,{t:r,ns:"bec-fe.popup-download-ui-pc",i18nKey:"AndroidScanTip"},a.createElement("span",null),a.createElement("br",null),a.createElement("span",null))),a.createElement("div",{className:Xe().stepImg,style:{backgroundImage:`url(${R.ANDROID_STEP_IMG})`}}),a.createElement("div",{className:Xe().steps},r("AndroidSteps",{returnObjects:!0}).map(((e,t)=>a.createElement("div",{key:e,className:o()(Xe().stepItem,Xe()[`stepItem${t}`])},a.createElement("span",null,t+1),e)))))))),a.createElement("div",{className:Xe().sysBtnWrapper},a.createElement("div",{className:Xe().slipper,style:{transform:["translateX(0)","translateX(100%)"][i]}}),r("System",{returnObjects:!0}).map(((e,t)=>a.createElement(he.Ay,{key:t,payload:{page_el_sn:[re,ae][t]}},a.createElement("div",{className:o()(Xe().sysBtn,i===t&&Xe().active),key:e,onClick:()=>s(t)},e)))))))},tt=n(82365),nt=n.n(tt);var at=function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?()=>a.createElement("div",{className:o()(nt().qrV1Wrapper,nt().showAppStoreIcons)},a.createElement("div",{className:nt().qrCodeLeft},a.createElement("div",{className:nt().qrCodeContainer},a.createElement(B.s8,{src:t?.link_url_base64??"",alt:"qr code",className:nt().pcDownloadQrCodeImage2}),a.createElement(B.s8,{src:le,alt:"logo",className:nt().pcDownloadQrCodeLogo2})),a.createElement("div",{className:nt().scanHintBottom2},a.createElement(B.s8,{alt:"","aria-hidden":!0,src:se,className:nt().scanHintBottomIcon2}),t?.style_config?.scan_sub_title_text)),a.createElement("div",{className:nt().qrCodeRight},a.createElement(Ye.A,{pageSN:e,pageElSnGooglePlayStore:oe,pageElSnIosStore:ie,jumpUrl:t?.style_config?.jump_url}))):()=>a.createElement("div",{className:nt().qrV1Wrapper},a.createElement("div",{className:o()(nt().qrCodeContainer)},a.createElement(B.s8,{src:t?.link_url_base64??"",alt:"qr code",className:nt().pcDownloadQrCodeImage}),a.createElement(B.s8,{src:le,alt:"logo",className:nt().pcDownloadQrCodeLogo})),a.createElement("div",{className:nt().scanHintBottom},a.createElement(B.s8,{alt:"","aria-hidden":!0,src:se,className:nt().scanHintBottomIcon}),a.createElement("div",{className:nt().scanHintBottomText},t?.style_config?.scan_sub_title_text)))},rt=n(37151),ot=n.n(rt);const it="https://aimg.kwcdn.com/upload_aimg/m-image/f79d6192-0859-4f49-9940-14c85a9ceb59.png.slim.png",lt="https://aimg.kwcdn.com/upload_aimg/bt/f34b30eb-4340-4f34-a55c-1f7b9e2902f4.png.slim.png",st=e=>{let{data:t,setShowModal:n,setStep:r,setShowFloat:i,hasAnimation:l,onFloatClose:s}=e;const{t:c}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCBenefitDownloadModal.step4"}),{beginTime:u}=pe(),m=1===t?.style_config?.scan_pop_style,{duration:d,counterRef:g}=ye({counterInterval:100}),[h,f]=(0,_e.i)(0),y={...t?.tracking||{}},_=(0,a.useCallback)((e=>{e&&("function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopPropagation&&e.stopPropagation()),(0,ge.E0)({page_el_sn:203635}),s(),ve({eventName:Y.PCPendantClose})}),[]);return(0,a.useEffect)((()=>{h?g.current.start(h):g.current.stop()}),[g,h]),(0,a.useEffect)((()=>{t?.style_config?.countdown_time>0&&f(U()(u).add(t?.style_config?.countdown_time,"second").valueOf())}),[t]),a.createElement(B.jP,{containerId:"bg_pc_benefit_download_modal_container_id",containerClassName:ot().smsFloatCoupon,containerZIndex:999,containerAttributes:{"data-pc-download-benefit-modal":t?.style_config.style_version??"old"}},a.createElement(he.Ay,{payload:{page_el_sn:ne,...y}},a.createElement("div",{style:{"--coupon-float-start-bottom":"50%","--coupon-float-start-left":"50%"},className:o()(nt().floatContentWrapper,{[nt().floatDropAni]:t?.style_config.has_animation&&l}),onClick:()=>{(0,ge.E0)({page_el_sn:ne}),n(!0),i(!1),r(X.STEP_FOUR)}},a.createElement(B.s8,{className:nt().floatBgImg,"aria-hidden":!0,alt:"",src:t?.style_config?.big_turntable_bottom_text?lt:it}),a.createElement("div",{className:nt().floatTurnTableWrap},a.createElement("div",{className:nt().floatTurnTablePriceWrap},a.createElement($e,{className:nt().currency,text:t?.style_config?.currency_display}),a.createElement($e,{className:nt().priceCount,text:(0,Ee.U3)(t?.style_config?.price)})),a.createElement("div",{className:o()(nt().coupons,{[nt().columnStyle]:!!t?.style_config?.big_turntable_bottom_text})},c(t?.style_config?.big_turntable_bottom_text?"couponBundle":"floatCoupon")," "),!t?.style_config?.big_turntable_bottom_text&&a.createElement("div",{className:nt().floatTurnTableTimer},a.createElement("div",{className:nt().timerWrap},a.createElement("span",{className:nt().time},"NaN"===d.format("HH")?"00":d.format("HH")),a.createElement("span",{className:nt().dot},":"),a.createElement("span",{className:nt().time},"NaN"===d.format("mm")?"00":d.format("mm")),a.createElement("span",{className:nt().dot},":"),a.createElement("span",{className:nt().time},"NaN"===d.format("ss")?"00":d.format("ss")),!m&&a.createElement(a.Fragment,null,a.createElement("span",{className:nt().dot},"."),a.createElement("span",{className:o()(nt().counterTime,nt().milliseconds)},Math.floor(d.milliseconds()/100)||0))))),a.createElement("div",{className:nt().floatClose,"aria-label":c("closeBtn"),role:"button",tabIndex:0,onClick:_}))))};var ct=e=>{let{data:t,isShowBubbleList:n,onClose:r}=e;const{pageSn:i="",showRule:l,setShowRule:s}=pe(),c=t?.show_store_redirect_button||!1,u=1===t?.style_config?.scan_pop_style,{t:m}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCBenefitDownloadModal"}),d=at(i,t,c),g=(0,a.useMemo)((()=>{const e=t?.style_config?.price??0;return e>=1e4?(0,Ee.U3)(e):e>0?(0,Ee.U3)(e,2):"-"}),[t?.style_config?.price]),h=t?.style_config?.scan_pop_style_head_text?.replace("{{amount}}",`${t?.style_config?.currency_display}${g}`),f={...t?.tracking||{}};return l?(()=>{const e=()=>{s(!1)};return a.createElement("div",{className:ot().ruleModal},a.createElement("div",{className:nt().modalCloseIcon,"aria-label":m("closeBtn"),role:"button",tabIndex:0,onClick:e},a.createElement(B.s8,{className:nt().closeIcon,alt:"close icon",src:"//aimg.kwcdn.com/upload_aimg/lp/51fcda76-9f2e-4626-a483-d6baf96a290c.png.slim.png"})),a.createElement("div",{className:ot().ruleTitle},t?.style_config?.rules?.title_text),a.createElement("div",{className:o()(ot().overscrollBehaviorNone,ot().ruleBody),"data-scroll":!0},(t?.style_config?.rules?.content_list??[]).map(((e,t)=>a.createElement("div",{className:ot().ruleSection,key:t},a.createElement("div",{className:ot().ruleSectionStart}),a.createElement("div",{className:ot().ruleSectionContent},e))))),a.createElement("div",{className:ot().ruleConfirmButton,"aria-label":t?.style_config?.rules?.confirm_button_text,role:"button",tabIndex:0,onClick:e},t?.style_config?.rules?.confirm_button_text))})():a.createElement("div",{className:o()(ot().smsModal,ot().smsModalSecond)},a.createElement("div",{className:ot().smsModalInner},a.createElement("div",{className:o()(ot().modalCloseIcon,{[nt().closeIconHasBottomList]:!!n&&!h,[nt().closeIconHasTitle]:!!h&&!n,[nt().closeIconHasTitleAndBottomList]:!!n&&!!h}),onClick:()=>{(0,ge.E0)({page_el_sn:204393}),r?.()}},a.createElement(B.s8,{className:ot().closeIcon,alt:"close icon",src:"//aimg.kwcdn.com/upload_aimg/lp/51fcda76-9f2e-4626-a483-d6baf96a290c.png.slim.png"})),a.createElement("div",{className:o()(ot().modalMain,c&&ot().modalMain2,u&&ot().modalMain3),style:{height:"auto"}},a.createElement("div",{className:o()(ot().topTitle,{[nt().topTitleHasBubbleList]:n}),"data-text":h},a.createElement("span",null,h)),a.createElement(he.Ay,{key:"second-stage",payload:{page_el_sn:203541,...f}},a.createElement("div",{className:o()(ot().modalSMS,nt().modalBody,c&&nt().modalBody2)},a.createElement("div",{className:o()(ot().smsHeader,c&&ot().smsHeader2)},a.createElement(B.s8,{className:ot().smsHeaderEmage,alt:"smsHeader",src:u?"//aimg.kwcdn.com/upload_aimg/sc/89780266-5582-465b-bbe4-946d1f9cf58f.png.slim.png":"//aimg.kwcdn.com/upload_aimg/message/7967c754-e0fc-4f3c-9bcf-ee1c68458f36.png.slim.png"}),a.createElement("span",{className:ot().headerRuleBtn,"aria-label":m("rules"),role:"button",tabIndex:0,onClick:()=>{(0,ge.E0)({page_el_sn:205150}),s(!0)}},m("rules")),a.createElement("div",{className:ot().headerGiftCard},a.createElement("div",{className:ot().giftCardWorth},a.createElement("span",{className:nt().giftCardWorthUnit},t?.style_config?.currency_display),a.createElement("span",{className:ot().giftCardWorthAmount},g)),a.createElement("div",{className:ot().giftCardTips,style:{marginTop:u?"11px":"0"}},t?.style_config?.threshold_text?.split(",")?.map((e=>a.createElement("span",{key:e},e)))))),a.createElement("div",{className:ot().animationGiftCard},a.createElement("div",{className:ot().giftCardWorth},a.createElement("span",{className:nt().giftCardWorthUnit},t?.style_config?.currency_display),a.createElement("span",{className:ot().giftCardWorthAmount},g)),a.createElement("div",{className:ot().giftCardTips},t?.style_config?.threshold_text?.split(",")?.map((e=>a.createElement("span",{key:e},e))))),a.createElement("p",{className:o()(nt().qrV1Tip,c&&nt().qrV1Tip2)},t?.style_config?.scan_title_text),u?a.createElement(et,{data:t,pageSN:i}):d()))),a.createElement("div",{className:nt().bottomText},t?.style_config?.big_turntable_bottom_text)))},ut=n(74266),mt=n.n(ut);function dt(e){let{popupProps:t,pageSn:n,nextData:r,onShow:i,onClose:l,onConfirm:s,isUniPop:c,showFirstPop:u=!0,onFloatShow:m,onFloatClose:d,onDestory:p}=e;const[g,h]=(0,a.useState)(X.STEP_ONE),[f,y]=(0,a.useState)(!1),[_,E]=(0,a.useState)(!1),[b,S]=(0,a.useState)(!1),[v,I]=(0,a.useState)(r?.style_config?.countdown_begin_time||0),[w,k]=(0,a.useState)(!1),N=(0,a.useMemo)((()=>r?.style_config?.receive_dnld_coupon_carousel_module),[r]),A=(0,a.useMemo)((()=>{const{display:e,receive_records:t}=N||{};return e&&t?.length&&[X.STEP_THREE,X.STEP_FOUR].includes(g)}),[g,N]);(0,P.xX)((N?.receive_records?.length?N.receive_records:[]).map((e=>e?.recipient_avatar_url)));const C=e=>{h(e)},T=()=>{if("function"==typeof t?.onClick&&t.onClick(),y(!1),c)return l?.(),void p?.();l?.(),E(!0),S(!0)},x=()=>{E(!1),d?.(),p?.()};return(0,a.useEffect)((()=>{!r?.style_config?.disable_enter_pop&&u&&(O({customTags:{subEvent:"showTurntable",payload:"0",popupStyle:r?.style_config?.big_turntable_version}}),E(!1),y(!0),i?.()),r?.style_config?.disable_enter_pop&&(O({customTags:{subEvent:"showTurntableFloat",payload:"0",popupStyle:r?.style_config?.big_turntable_version}}),y(!1),E(!0),i?.(),m?.())}),[]),a.createElement(de.Provider,{value:{pageSn:n,beginTime:v,setBeginTime:I,showRule:w,setShowRule:k,setShowModal:y}},a.createElement(a.Fragment,null,f?a.createElement(K.Ay,{needCloseHide:!(g===X.STEP_TWO||!(r?.style_config?.big_turntable_clk_outside_close??1)&&g===X.STEP_ONE),isShowClose:!1,className:mt().baseStyle,onClick:()=>{if("function"==typeof t?.onClick&&t.onClick(),g!==X.STEP_TWO&&((r?.style_config?.big_turntable_clk_outside_close??1)||g!==X.STEP_ONE)){if(y(!1),c)return l?.(),void p?.();l?.(),E(!0),S(!0)}}},a.createElement("div",{id:M,className:o()(mt().baseWrap,{[mt().isHasBubbleContainer]:A})},A?a.createElement(me,{list:r?.style_config?.receive_dnld_coupon_carousel_module?.receive_records}):null,[X.STEP_ONE,X.STEP_TWO].includes(g)&&a.createElement(Ue,(0,q.A)({},t||{},{turnTableStep:g,onStepChange:C,data:r,onClose:T})),g===X.STEP_THREE&&a.createElement(je,(0,q.A)({},t||{},{onStepChange:C,data:r,onConfirm:s,onClose:T})),g===X.STEP_FOUR&&a.createElement(ct,(0,q.A)({},t||{},{isShowBubbleList:A,onStepChange:C,data:r,onClose:T,onDestory:()=>{y(!1),E(!1),p?.()}})))):a.createElement(a.Fragment,null,!!_&&a.createElement("div",null,g!==X.STEP_ONE||r?.style_config?.big_turntable_has_play?a.createElement(st,{data:r,setShowModal:y,setStep:h,setShowFloat:E,hasAnimation:b,onFloatClose:x}):a.createElement(Fe,{data:r,setShowModal:y,setStep:h,setShowFloat:E,hasAnimation:b,onFloatClose:x})))))}U().extend(H());var pt=(0,z.withErrorBoundary)((e=>{let{isUniPopFinish:t=!0,popupProps:n,showFirstPop:r=!0,pageName:o,pageSn:i,extraParams:l,onShow:s,onClose:c,onFloatShow:u,onFloatClose:m,onDestory:d}=e;const[p,g]=(0,a.useState)(null),[h,f]=(0,a.useState)(null),[y,_]=(0,a.useState)(!1),[E,b]=(0,a.useState)(!1),S=(0,a.useRef)(!1),v=!p||!y||E;return(0,a.useEffect)((()=>{let e=null;return Q&&!S.current&&t&&(S.current=!0,(async()=>{try{const t=await async function(e,t){if(!$.Bd)return null;const n=await(0,Se.k3)({componentType:"coupon_pop",pageSn:e,extraParams:t});if(n&&n.style_config&&n.show){const e=n.style_config.countdown_begin_time>0?n.style_config.countdown_begin_time:NaN,t=n.style_config.countdown_time>0?n.style_config.countdown_time:3600;return{...n,show:n.show,style_config:{...n.style_config,countdown_begin_time:e,countdown_time:t},has_shown_first_modal:e>0}}return null}(i,l);if(!t)return null;if([j.rE.SmsPop,j.rE.TableToSmsPop].includes(t?.style_config?.style_version))return;g(J.BigTurnTable),f(t),t?.style_config?.delay_ms?e=setTimeout((()=>{_(!0)}),t?.style_config?.delay_ms??0):_(!0)}catch(e){}})()),()=>e&&clearTimeout(e)}),[t]),(0,a.useEffect)((()=>{b(!t)}),[t]),(0,a.useEffect)((()=>{!v&&p&&O({customTags:{subEvent:"modalShow",popupStyle:p}})}),[p,v]),v?a.createElement(a.Fragment,null):a.createElement(B.jP,null,!!h?.show&&p===J.BigTurnTable&&a.createElement(dt,{popupProps:n,pageSn:i,nextData:h,showFirstPop:r,pageName:o,onShow:s,onClose:c,onFloatShow:u,onFloatClose:m,onDestory:d}))}),{FallbackComponent:V.A}),gt=n(17276);const ht=new class{constructor(){this.inited=!1,this.endMark=Date.now(),this.serverTime=Date.now(),this.initPromise=void 0,this.timer=void 0,this.syncTime(),this.timer=setInterval((()=>this.syncTime()),5e3)}init(){return this.initPromise,this.initPromise}syncTime(){this.initPromise=(async()=>{this.serverTime=await Date.now(),this.endMark=Date.now(),this.inited=!0})()}getRealTime(){return this.inited?Math.floor(Date.now()-this.endMark+this.serverTime):Date.now()}dispose(){clearInterval(this.timer)}};function ft(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.toString();for(;n.length<t;)n=`0${n}`;return n}function yt(e,t){return Math.max(e-(t??ht.getRealTime()),0)}ht.init();const _t=a.createContext({isServerToClientOneFrame:!1,pageServerTime:void 0});function Et(e){let{expireTime:t,onFinish:n,forceRenderKey:r,isStart:o=!0,leftTime:i,intervalTime:l=1e3}=e;const{pageServerTime:s,isServerToClientOneFrame:c}=(0,a.useContext)(_t),u=()=>o?"number"==typeof t&&t>=0?t:"number"==typeof i&&i>=0?c&&s?s+i:ht.getRealTime()+i:null:null;let m;c&&s&&(m=s);const[d,p]=(0,a.useState)({isStart:o,finalExpiredTime:u(),forceRenderKey:r}),g=function(e){const t=(0,a.useRef)(e);return t.current=e,t}({onFinish:n}),[h,f]=(0,a.useState)(null!==d.finalExpiredTime?yt(d.finalExpiredTime,m):null);if((0,a.useEffect)((()=>{const e=u();p({isStart:o,finalExpiredTime:e,forceRenderKey:r})}),[o,t,i,r,g]),(0,a.useEffect)((()=>{const{finalExpiredTime:e}=d;if(null===e)return void f(null);let t=yt(e);if(f(t),t<=0)return void g.current.onFinish?.();const n=setInterval((()=>{t=yt(e),f(t),t<=0&&(n&&clearInterval(n),g.current.onFinish?.())}),l||1e3);return()=>{n&&clearInterval(n)}}),[l,d,g]),!d.isStart||null===h)return{isStart:!1,totalAllDays:null,totalHH:null,totalMM:null,HH:null,mm:null,m:null,H:null,ss:null,s:null,ms:null,mss:null,totalHours:null,curLeftTime:null,curTime:ht.getRealTime()};const y=Math.max(h/1e3,0),_=Math.floor(y),E=Math.floor(y/60),b=Math.floor(y/60/60),S=Math.floor(y/60/60/24),v=ft(b),I=b%24,w=ft(b%24),k=E%60,N=_%60,A=h%1e3;return{isStart:null!==h,totalAllDays:S,totalHours:b,totalHH:v,totalMM:ft(E),H:I,HH:w,mm:ft(k),m:k,ss:ft(N),s:N,ms:A,mss:ft(A,3),curLeftTime:h,curTime:ht.getRealTime()}}var bt=(0,z.withErrorBoundary)((e=>{let{className:t,end_time:n,onFinish:r,timeClass:o,isLogin:i}=e;const{t:l}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCSendCouponModal"}),{totalHH:s,mm:c,ss:u}=Et({expireTime:n||null,onFinish:()=>{r()}});return a.createElement("div",{className:t},a.createElement("div",{className:o},l(i?"loginCouponText":"countdownText")," ",s,":",c,":",u))}),{FallbackComponent:V.A});let St=function(e){return e[e.MONEY_TYPE=1]="MONEY_TYPE",e[e.DISCOUNT_TYPE=2]="DISCOUNT_TYPE",e}({}),vt=function(e){return e[e.HAS_QUA=1]="HAS_QUA",e[e.NO_QUA=2]="NO_QUA",e[e.CPN_USABLE=3]="CPN_USABLE",e}({}),It=function(e){return e[e.RISK=100]="RISK",e[e.RE_CLAIM=101]="RE_CLAIM",e[e.NOT_NEW_USER=103]="NOT_NEW_USER",e[e.HAS_COUPON=106]="HAS_COUPON",e[e.NETWORK_ERROR=102]="NETWORK_ERROR",e}({}),wt=function(e){return e.ph9Scence="ph9_independent",e.goodsInfoScence="goods_details_page",e}({}),kt=function(e){return e[e.commodity=10032]="commodity",e[e.ph9PageSn=13309]="ph9PageSn",e}({});const Nt=e=>{var t;t=()=>{const t=(0,b.Xu)(e);return()=>{t()}},(0,a.useEffect)((()=>t()),[])};var At=n(25539),Ct=n.n(At);var Tt=(0,z.withErrorBoundary)((e=>{const{t:t}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCSendCouponModal"}),{couponData:n,isLogin:r,queryData:o}=e||{},i=n?.usable_cpn_list?.filter((e=>e.is_cur_act)),{max_discount_amount_info:l,min_amount_info:s}=i?.[0]||{},{coupon_threshold_info:c}=n||{},{cart_price_cpn_list:u}=c||{},{remain_amount_info:m,saved_amount_info:d}=u?.[0]||{};let g=0;if(m){const e=s?.amount;if(e&&m?.amount){const t=e-m.amount;g=t/e*100}}Nt(o);return a.createElement(a.Fragment,null,(()=>{if(r){if(m)return a.createElement("div",{className:Ct().progressBar},a.createElement("div",{className:Ct().text},a.createElement(Qe.x,{ns:"bec-fe.popup-download-ui-pc",i18nKey:"addMore",t:t,values:{remainAmount:`${m?.amount_trim_str||""}`}},a.createElement("span",{className:Ct().amount}))),a.createElement("div",{className:Ct().outerProgress},a.createElement("div",{className:Ct().innerProgress,style:{width:`${Math.max(5,g)}%`}})));if(d){return d?.amount===l?.amount?d.amount?a.createElement("div",{className:Ct().capped},t("cappedAt",{cappedAmount:d.amount_trim_str})):null:d.amount?a.createElement("div",{className:Ct().minAmount},t("saved")," ",a.createElement("span",{className:Ct().money},d.amount_trim_str)):null}}})())}),{FallbackComponent:V.A}),xt=n(16277),Pt=n.n(xt);var Rt=(0,z.withErrorBoundary)((e=>{let{setClose:t,changeLoginDialog:n,isLogin:r,couponData:o,queryData:i}=e;const{t:l}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCSendCouponModal"}),s=o?.usable_cpn_list?.filter((e=>e.is_cur_act)),{discount_param:c,discount_type:u,end_time:m}=s?.[0]||{},{end_time:d}=o||{};return a.createElement(he.Ay,{payload:{page_el_sn:r?215016:215012}},a.createElement("div",{className:Pt().iconWrap},a.createElement(gt.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/1046cc44-5a5c-4c1e-9daa-cf0c16dc8a2e.png.slim.png",className:Pt().closeIcon,onClick:()=>{t(!0)}}),a.createElement(gt.A,{src:r?"https://aimg.kwcdn.com/upload_aimg/sc/36df8be8-9e1a-44c8-b0d3-c3085203bab2.png.slim.png":"https://aimg.kwcdn.com/upload_aimg/sc/1de6d622-21a1-4e9a-87a6-4c1acddbabc2.png.slim.png",className:Pt().iconBg}),a.createElement("div",{className:Pt().couponDetail},!!c&&u===St.DISCOUNT_TYPE&&a.createElement("div",{className:Pt().discountWrap},a.createElement("div",{className:Pt().discount},100-c),a.createElement("div",{className:Pt().offWrap},a.createElement("div",{className:Pt().precent},l("percent")),a.createElement("div",{className:Pt().off},l("off")))),r?a.createElement(Tt,{isLogin:r,queryData:i,couponData:o}):a.createElement(bt,{end_time:m||d,className:Pt().countDown,timeClass:Pt().endsIn,onFinish:i,isLogin:r})),r?a.createElement(bt,{end_time:m||d,className:Pt().loginCountDown,timeClass:Pt().endsIn,onFinish:i,isLogin:r}):a.createElement("div",{className:Pt().loginBtn,onClick:()=>{(0,ge.E0)({page_el_sn:215012}),n(!0)}},l("signToGet"))))}),{FallbackComponent:V.A});var Mt=n(31255),Dt=n.n(Mt);const Bt=(0,z.withErrorBoundary)((e=>{const{t:t}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCSendCouponModal"}),{isLogin:n,couponData:r,changeLoginDialog:o,queryData:i,scenceName:l,isShowIcon:s,setIsShowIcon:c,goodsSendCoupon:u}=e||{},m=r?.usable_cpn_list?.filter((e=>e.is_cur_act)),{discount_param:d,min_amount_info:g,max_discount_amount_info:h,discount_type:f,end_time:y}=m?.[0]||{},{end_time:_}=r||{};return(0,a.useEffect)((()=>{s||(!n&&localStorage.setItem(u,u),async function(e){let{scenceName:t}=e;(0,be.Ay)({method:"POST",url:"/api/generic/kiev/ads/pc/aty/popup/report",data:{atySn:"ads_pc_direct_take_coupon",popup_type:"ph9_independent"===t?"ph9_independent_take_coupon_popup":"goods_details_page_take_coupon_popup",op_type:"impr"}}).catch((e=>{(0,D.fL)(e)}))}({scenceName:l}))}),[s]),s?a.createElement(Rt,e):a.createElement(K.Ay,{isShowClose:!1,disableEsc:!0,className:Dt().baseStyle},a.createElement(he.Ay,{payload:{page_el_sn:n?215010:215007}},a.createElement("div",{className:Dt().modalWrap},a.createElement(gt.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/49ce0848-332e-4ada-9605-894c9d8646be.png.slim.png",className:Dt().closeIcon,onClick:()=>{c(!0)}}),a.createElement("div",{className:Dt().title,"data-attr":t(n?"exclusiveGift":"SurpriseGift")},a.createElement(gt.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/f675dd89-9b92-4321-a464-61f35a38c784.png.slim.png",className:Dt().leftStar}),a.createElement(gt.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/0ae80db0-00fd-47e1-8c34-b21ef89ecbf4.png.slim.png",className:Dt().yellowLight}),t(n?"exclusiveGift":"SurpriseGift"),a.createElement(gt.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/8dadfa2b-cf1b-4d10-9510-9a33637a959f.png.slim.png",className:Dt().rightStar})),a.createElement(gt.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/66dae0e5-c936-4667-b072-40c9ae1e6a3f.png.slim.png",className:Dt().couponBg}),a.createElement("div",{className:Dt().couponDetail},!!d&&f===St.DISCOUNT_TYPE&&a.createElement("div",{className:Dt().discountWrap},a.createElement("div",{className:Dt().discount},100-d),a.createElement("div",{className:Dt().offWrap},a.createElement("div",{className:Dt().precent},t("percent")),a.createElement("div",{className:Dt().off},t("off")))),!!n&&!!g?.amount&&a.createElement("div",{className:Dt().orders},t("orders",{minAmount:g?.amount_trim_str,maxAmount:h?.amount_trim_str}))),a.createElement(bt,{end_time:y||_,className:Dt().countDown,timeClass:Dt().endsIn,onFinish:i,isLogin:n}),!n&&a.createElement(he.Ay,{payload:{page_el_sn:215019}},a.createElement("div",{className:Dt().loginBtn,onClick:()=>{(0,ge.E0)({page_el_sn:215019}),o(!0)}},t("signToGet"))))))}),{FallbackComponent:V.A});var Lt=Bt,Ot=n(7338),Wt=n(47739),zt=(0,i.PA)((function(e){let{changeLoginDialog:t}=e;const[n,r]=(0,a.useState)(-1);return(0,a.useEffect)((()=>{(async()=>{const e=await(0,Ot.ON)(),{region:t}=e||{};r(Number(t??-1))})()}),[]),-1===n?null:a.createElement(a.Fragment,null,a.createElement(Wt.Ay,{loginScene:800,regionId:n,onCloseClick:()=>{t(!1)},onSuccess:()=>{location.reload()}}))})),Ft=n(52248),Ut=n(10147),Gt=n(1528),Ht=n(49330),jt=n.n(Ht),Vt=(0,i.PA)((function(e){const{t:t}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCSendCouponModal"}),{setIsShowNoQualityPopup:n,takeCouponRes:r,couponData:o,setClose:i}=e,{status:l}=o||{},s=()=>{l===vt.CPN_USABLE?n(!1):i(!0)};return a.createElement(K.Ay,{onClick:s},a.createElement("div",{className:jt().wrap},a.createElement("div",{className:jt().close,onClick:s},a.createElement(Ft.rI,null)),(()=>{let e=t("backup_result_sub_title");switch(r?.take_fail_code){case It.RISK:e=t("risk_result_sub_title");break;case It.NOT_NEW_USER:e=t("not_new_user_fail_sub_title");break;case It.RE_CLAIM:case It.HAS_COUPON:e=t("has_coupon_title");break;case It.NETWORK_ERROR:e=t("error_default")}return a.createElement(a.Fragment,null,a.createElement("div",{className:jt().riskTitle},t("opps_title")),a.createElement("div",{className:jt().riskSubtitle},e))})(),a.createElement(Ut.A,{type:Gt.el.primary,className:jt().btn,onClick:s},t("rule_ok"))))}));const qt="goods_send_coupon";var Kt=(0,i.PA)((function(e){let{scenceName:t}=e;const[n,r]=(0,a.useState)(!1),[o,i]=(0,a.useState)(!1),[l,s]=(0,a.useState)(null),[c,u]=(0,a.useState)(!0),[m,p]=(0,a.useState)(null),[g,h]=(0,a.useState)(!1),[f,y]=(0,a.useState)(!1),[_,E]=(0,a.useState)(!1),b=(0,a.useRef)(!1);let S;const v=async()=>{if(!t||!b.current)return;const e=await async function(e){let{scenceName:t}=e;return(0,be.Ay)({method:"POST",url:"/api/jade/victoria/single_coupon/take",data:{scene_name:t}}).catch((e=>{(0,D.fL)(e)}))}({scenceName:t}),n=e?.result||{};p(n),n?.take_suc?await S({isTakeApi:!0}):h(!0)};S=async e=>{const{isTakeApi:n,isShowModal:a}=e||{};if(!t||!b.current)return;const r=await async function(e){let{scenceName:t}=e;return(0,be.Ay)({method:"POST",url:"/api/jade/victoria/single_coupon/query",data:{scene_name:t}}).catch((e=>{(0,D.fL)(e)}))}({scenceName:t});if(r?.success){const e=r?.result||{};if(e.status&&[vt.HAS_QUA,vt.CPN_USABLE].includes(e.status)){i(!!e.is_login),s(e),e.status!==vt.CPN_USABLE||n||y(!0),n&&E(!0);const t=e?.usable_cpn_list?.filter((e=>e.is_cur_act));if(!t?.length)return void u(!0);e.is_login&&(e?.status===vt.HAS_QUA||a)&&await v(),u(!1)}else{if(a)return await v(),void u(!1);u(!0)}}},(0,a.useEffect)((()=>{const e=localStorage.getItem(qt),t=(0,d.Xe)(location.href);"true"!==t?._x_ph9_s_c_&&"/adver-tmpl-ph9.html"!==location.pathname||(b.current=!0,S({isShowModal:e}),e&&localStorage.removeItem(qt))}),[]),(0,a.useEffect)((()=>{let e;return _&&(e&&clearTimeout(e),e=setTimeout((()=>{y(!0)}),2e3)),()=>{e&&clearTimeout(e)}}),[_]);const I={changeLoginDialog:e=>{r(e)},isShowLogin:n,couponData:l,isLogin:o,close:c,setClose:u,scenceName:t,queryData:S,takeCouponRes:m,isShowIcon:f,setIsShowIcon:y,goodsSendCoupon:qt,setIsShowNoQualityPopup:h};return c?null:a.createElement(a.Fragment,null,g?a.createElement(Vt,I):a.createElement(Lt,I),!!n&&a.createElement(zt,I))}));const $t=(0,i.PA)((function(e){const{pageSn:t}=e,[n,r]=(0,a.useState)(!1),[o,i]=(0,a.useState)("");return(0,a.useEffect)((()=>{const e=(0,d.Xe)(location.href);switch("true"!==e?._x_ph9_s_c_&&t!==kt.ph9PageSn||r(!0),t){case kt.commodity:i(wt.goodsInfoScence);break;case kt.ph9PageSn:i(wt.ph9Scence);break;default:i("")}}),[]),n?a.createElement(Kt,{scenceName:o}):a.createElement(pt,e)}));var Qt=n(43522),Yt=e=>a.createElement(a.Fragment,null,a.createElement(W,null),a.createElement(Qt.A,{enable:!0},a.createElement($t,{pageSn:e?.pageSn}))),Jt=n(34889),Xt=n(80924),Zt=n(53075),en=n(41900),tn=n(881),nn=n(5689);n(44114);var an=n(65309),rn=n(27114),on=n(59717),ln=n(17786),sn=n(21884),cn=n(21877),un=n(54403),mn=n(39831),dn=n(44798),pn=n(50878),gn=n(79085),hn=n(35606);const fn=e=>{let{offset:t,scene:n,listId:a,main_goods_id:r,top_goods:o,optId:i}=e;const l={offset:t,pageSize:20,scene:n,listId:a,main_goods_id:r,pageElSn:243789,top_goods:o,optId:i};return(0,gn.MW)({url:(0,gn.wU)("/api/poppy/v1/title_bar_recommend",l),params:l,config:{useAntiToken:!0}}).then((e=>{const{hasMore:t,data:n}=e?.result,{goodsList:a,optList:r,quickLook:o}=n||{},i=a?.filter((e=>(0,hn.H)(e)));return{goodsList:i.map((e=>({data:e,quickLook:o}))),hasMore:t&&!!a?.length,optList:r}})).catch((e=>({hasMore:!1})))},yn="rec_dialog",_n=-1;var En=n(46900),bn=n.n(En);const Sn=e=>{const{onClose:t,title:n,scene:r,mainGoodsId:o,topGoods:i,skuOptions:l,skuParams:s}=e,{t:c}=(0,p.B)("bec-fe.bui-web-goods-list"),{tabs:u,loadMore:m,onTabChange:d,currentTabData:g,hasInit:h}=(e=>{const{scene:t,mainGoodsId:n,topGoods:r}=e,[o,i]=(0,a.useState)([]),[l,s]=(0,a.useState)({}),[c,u]=(0,a.useState)(!1),[m,d]=(0,a.useState)(_n),p=l[m];(0,a.useEffect)((()=>{const e=`${yn}_${(0,dn.A)(22)}`;(async()=>{const a=await fn({scene:t,main_goods_id:n,listId:e,offset:0,top_goods:r}),{goodsList:o,optList:l,hasMore:c}=a||{},m=l?.map((e=>{const{optId:t}=e;return{key:e?.optId,label:e?.optName,trackingInfo:{opt_id:t,page_el_sn:243790}}}));i(m);const p=m?.[0]?.key??_n;s({[p]:{goodsList:o,hasMore:c,listId:e,optId:p}}),d(p),u(!0)})()}),[n,t,r]);const g=(0,pn.w)((async e=>{const{listId:a=`${yn}_${(0,dn.A)(22)}`,goodsList:r=[],optId:o=_n}=e||p,i=await fn({scene:t,main_goods_id:n,offset:r?.length||0,listId:a,optId:o}),{hasMore:l,goodsList:c=[]}=i||{};s((e=>({...e,[o]:{...p,listId:a,goodsList:[...r,...c],hasMore:l,optId:o}})))})),h=(0,pn.w)((e=>{d(e.key);const t=l[e.key]||{optId:e.key,hasMore:!0};!t.goodsList?.length&&t.hasMore&&g(t)}));return{tabs:o,loadMore:g,onTabChange:h,currentTabData:p,hasInit:c}})({scene:r,mainGoodsId:o,topGoods:i}),f=(0,a.useRef)(null),{goodsList:y,hasMore:_=!0,optId:E}=g||{};return a.createElement(on.A,{dialogProps:{className:bn().dialog}},a.createElement(on.A.Title,null,n),h?!!u?.length&&a.createElement(sn.tU,{data:u,needSplitWords:!0,type:cn.N.text,defaultActiveKey:E,classConfig:{wrapCls:bn().subOptsList},onChange:e=>{(e=>{f.current?.scrollTo?.(0,0),d(e)})(e)}}):a.createElement(ln.A,{className:bn().optTabWrapSkeleton,active:!0}),a.createElement("div",{className:bn().goodsListWrap,id:"#main_scale",ref:f},_||y?.length?a.createElement(mn.A,{datasource:y,goodsCardClassName:bn().goodsCardClassName,hasMore:!!_,loadMoreData:m,listClassName:bn().listClassName,pageElSn:243789,classConfig:{goodsContainer:{goodsItemWrap:bn().goodsItemWrap,goodsItem:bn().goodsItem}},loadMode:"auto",pageGoodsNum:10,skuOptions:l,skuParams:s,type:"dialog"}):a.createElement(un.A,{title:c("similarEmptyTitle"),desc:c("similarEmptyDesc"),imageConfigs:{svg:a.createElement(rn.A,{style:{width:"100%",height:"100%"}})},style:{width:"400px",margin:"80px auto 100px"}})),a.createElement(on.A.CloseButton,{onClick:t}))};var vn=n(95789),In=n(14511),wn=n(27092),kn=n(87837),Nn=n(82370),An=n(40782),Cn=n(40309),Tn=n(11941),xn=n(41866),Pn=n(99333),Rn=n(39878),Mn=n(8351),Dn=n(94802),Bn=n(85283),Ln=n(95733),On=n(29227),Wn=n(35846),zn=n.n(Wn);var Fn=(0,In.W4)({name:"ActivityRecGoodsItem"})((0,i.PA)((e=>{let{data:t,index:n,mainGoodsId:r}=e;const{cartAmount:i,thumbUrl:l,priceInfo:s,tagsInfo:c,salesTipText:u,salesTipTextList:m,goodsId:d,showMarketInfo:p,salesTip:g,p_rec:h,linkUrl:f,complianceInfo:y,extendFields:_}=t||{},{capsuleTags:E,activityIconTags:b,goodsTags:S}=c||{},{todayTags:v}=S||{},I=v?.[0]?.text,w=!!I?.length,{iconImg:k,color:N,text:A,backColor:C}=E?.[0]||{},{salesTipValue:T,useNewSalesTip:x}=(0,Pn.A)({salesTipText:u,salesTipTextList:m}),P=(0,Rn.RF)(s,"","10032",d),R=T,M={idx:n,main_goods_id:r,goods_id:d,source_goods_id:r,rec_goods_id:d,...{show_currency:s?.currency,show_price:s?.price||(s?.priceText?.length>1?100*+s.priceText[1]:""),show_sales:R&&R.length>0?R[0]:"",p_rec:h}};return a.createElement(kn.nU,{page_el_sn:243227,others:M},a.createElement("div",{className:zn().wrap,onClick:()=>{f&&(0,Zt.MJ)((0,On.LV)(f))},tabIndex:0,role:"link"},a.createElement("div",{className:zn().top},l?a.createElement(Ln.A,{src:l,className:zn().goodsImg,alt:""}):null,A?a.createElement("div",{style:{color:N,background:C},className:o()(zn().tag,{[zn().defaultTagStyle]:!C})},k?a.createElement(Ln.A,{alt:"",src:k,className:zn().icon}):null,A):null,y?.iconInfo?a.createElement(Bn.A,{type:1,data:y?.iconInfo}):_?.engIcon&&a.createElement(Mn.A,{data:_?.engIcon,goodsId:d})),a.createElement(Dn.A,{price:P?.showPriceStr,pricePrefix:P?.unitPrefix,priceSuffix:P?.unitSuffix,priceColor:P?.priceColor,splitPriceText:P?.splitPriceText,textBeforePrice:w,marketPrice:p?null:P.showMarketPriceStr,lazy:!0,activityIconInfo:b?.[0],className:zn().saleInfo,useNewSalesTip:x,marketPriceIcon:P?.marketPriceIcon,sales:g,salesArray:R})))}))),Un=n(97559),Gn=n.n(Un);var Hn=(0,In.W4)({name:"ActivityRecommend"})((0,i.PA)((()=>{const e=(0,a.useRef)(),{activityRecStore:t,query:n}=(0,N.Pj)(),{goods_id:r}=n||{},{queryData:i,mainTitle:l,subTitle:s,goodsList:c}=t,{text:u,bgColor:m,image:p,url:g,color:h}=l||{},{text:f}=s||{};(0,a.useEffect)((()=>{i()}),[]);const y=(0,a.useMemo)((()=>c?.map((e=>e.goodsId))||[]),[c]);return!c?.length||c?.length<=4||!u?null:a.createElement("div",{className:Gn().wrap,style:{borderColor:m}},a.createElement("div",{className:Gn().title,onClick:()=>{const{scene:e}=(0,d.Xe)(g)||{},t=(0,vn.A)(a.createElement(Sn,{onClose:()=>t?.(),title:u,skuOptions:{frontControl:{supportPersonalize:!0},showAdded:!0,pageSn:xn.LM},skuParams:{_oak_page_source:250},mainGoodsId:r,topGoods:y,scene:e}),{})},tabIndex:0,role:"button",style:{backgroundColor:m}},a.createElement(kn.nU,{page_el_sn:243226},a.createElement("div",{className:Gn().titleContent},u?a.createElement("div",{className:Gn().textLeft,style:{color:h}},u,a.createElement(an.d,null,a.createElement(wn.A,{className:Gn().textLeftArrow,style:{fill:h}}))):null,f?a.createElement("div",{className:Gn().textRight},f):null,p?a.createElement(Nn.Ay,{src:p,className:Gn().rightIcon,alt:""}):null))),a.createElement("div",{className:Gn().list},a.createElement(An.pM,{customArrows:a.createElement(Tn.Ay,{arrowMask:Gn().splideArrowMask,onArrowClick:t=>{(0,Tn.ev)(t,e)},rightArrow:o()(Gn().arrow,Gn().rightArrow),leftArrow:o()(Gn().arrow,Gn().leftArrow),baseArrowBtn:Gn().baseArrow}),pageSize:1,ref:e,options:{focus:""}},c.map(((e,t)=>a.createElement(Cn.Nn,{key:t,className:Gn().item},a.createElement(Fn,{data:e})))))))}))),jn=n(63815),Vn=n(12970),qn=n(73035);let Kn=function(e){return e[e.Dialog=100322]="Dialog",e[e.environmentalQualifications=100328]="environmentalQualifications",e}({}),$n=function(e){return e[e.offical=0]="offical",e}({}),Qn=function(e){return e[e.AdulthoodPopup=0]="AdulthoodPopup",e[e.MinorRefusalPopup=1]="MinorRefusalPopup",e[e.AgeVerifyPopup=2]="AgeVerifyPopup",e}({}),Yn=function(e){return e[e.img=1]="img",e}({}),Jn=function(e){return e.Direct="1",e.Authorized="2",e}({}),Xn=function(e){return e.VIDEO="video",e.IMAGE="image",e.PDF="pdf",e}({}),Zn=function(e){return e[e.inline=0]="inline",e[e.buttons=1]="buttons",e[e.list=2]="list",e}({}),ea=function(e){return e[e.img=1]="img",e[e.video=2]="video",e[e.text=3]="text",e}({}),ta=function(e){return e[e.none=0]="none",e[e.bottomAndExpand=1]="bottomAndExpand",e[e.bottom=2]="bottom",e}({}),na=function(e){return e[e.text=0]="text",e[e.icon=100]="icon",e}({}),aa=function(e){return e[e.Text=1]="Text",e[e.Cart=2]="Cart",e[e.CooperateInfo=3]="CooperateInfo",e[e.ExpectShippingInfo=4]="ExpectShippingInfo",e}({}),ra=function(e){return e[e.Normal=0]="Normal",e[e.Fold=1]="Fold",e[e.UseMaxProcessForBenchmark=2]="UseMaxProcessForBenchmark",e[e.All=3]="All",e}({}),oa=function(e){return e[e.BUTTON=1]="BUTTON",e[e.GALLERY=2]="GALLERY",e[e.DETAIL=3]="DETAIL",e}({});var ia=(0,In.W4)({name:"AgeConfirmation"})((0,i.PA)((function(){const e=(0,a.useRef)(0),t=(0,N.Pj)(),{moduleMap:n,$service:r}=t,{ageConfirmationPopupModule:o}=n||{},i=()=>{location.reload()},l=async e=>{(0,jn.Nx)();const t=await r.reportAdult({adult:e,scene:3}).finally((()=>(0,jn.jD)())),{success:n,result:a}=t||{};return n&&a},s=()=>{(0,Zt.MJ)("/")};return(0,a.useEffect)((()=>{const{data:t,showModule:n}=o||{},{popupRich:r,popupType:c}=t?.popup||{},u=[Qn.AdulthoodPopup,Qn.MinorRefusalPopup];1===n&&r?.textRich?.length&&u.includes(c)&&0===e.current&&(e.current++,(0,qn.P)({popupNode:a.createElement(Vn.rd,{popupRich:r,popupType:c,refresh:i,report:l,logger:A.A,cancel:s,prohibit:s,close:s})}))}),[o]),null}))),la=n(94971);var sa=(0,Xt.A)((0,In.W4)({name:"GoogleShopping"}),i.PA)((()=>{const{googleShoppingJson:e}=(0,N.Pj)();return e?a.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:e}}):null})),ca=n(62193),ua=n.n(ca),ma=n(66315),da=n(22350),pa=n(85829),ga=n(24828),ha=n(44155);let fa=function(e){return e[e.Carousel=1]="Carousel",e[e.Detail=2]="Detail",e[e.Video=6]="Video",e[e.WhiteImg=12]="WhiteImg",e[e.NewCarousel=13]="NewCarousel",e[e.Custom=17]="Custom",e[e.Spec=-1]="Spec",e}({}),ya=function(e){return e[e.Normal=1]="Normal",e[e.OffShelf=2]="OffShelf",e[e.SoldOut=3]="SoldOut",e[e.Delete=4]="Delete",e[e.Risk=5]="Risk",e[e.SEOSoldOut=8]="SEOSoldOut",e}({}),_a=function(e){return e[e.NotExist=49001]="NotExist",e[e.NeedVerify=54001]="NeedVerify",e[e.Limit=4000004]="Limit",e}({}),Ea=function(e){return e[e.text=0]="text",e[e.img=6]="img",e[e.countdown=7]="countdown",e}({}),ba=function(e){return e[e.temu=1]="temu",e[e.local=2]="local",e[e.semiHosted=3]="semiHosted",e}({}),Sa=function(e){return e[e.Add=1]="Add",e[e.Update=2]="Update",e[e.Delete=3]="Delete",e}({}),va=function(e){return e[e.Lightning=2]="Lightning",e}({}),Ia=function(e){return e.TimeLimitedActivity="timeLimitedActivity",e}({}),wa=function(e){return e[e.AllFreeShopping=2]="AllFreeShopping",e[e.ShopFreeShopping=100]="ShopFreeShopping",e[e.SingleGoodsFreeShopping=101]="SingleGoodsFreeShopping",e[e.ShopFreeShoppingAddCartNotStandard=102]="ShopFreeShoppingAddCartNotStandard",e[e.ShopFreeShoppingAddCartEmpty=103]="ShopFreeShoppingAddCartEmpty",e}({}),ka=function(e){return e[e.GoodsDetail=1]="GoodsDetail",e[e.DefaultSkuSelector=2]="DefaultSkuSelector",e[e.OuterSkuSelector=3]="OuterSkuSelector",e}({});var Na=(0,i.PA)((e=>{let{children:t,allInCenterLayout:n,enableScale:r,enableScaleTo768:o}=e;const i=(0,N.Pj)(),{webLayoutData:l,query:s,addOrderInfoStore:c,goods:u,grayConfig:m,switches:d}=i,{order:p,isFromAddOrderPage:g}=c,h=!!p?.allowPurchase,{disableSoldoutPmm:f=!1}=d||{};return(0,a.useEffect)((()=>{ua()(u)||u.status===ya.Risk||f&&u.status===ya.SoldOut||(0,pa.A)({query:s,grayConfig:m}),(0,ga.B)(i)}),[]),a.createElement(ma.I,{generateHref:e=>{let{seoUrl:t,url:n,displayUrl:a,jumpUrl:r,index:o,pageElSn:i}=e;const l=r||n;return a||t?.split("?")[0]||l||""}},a.createElement(da.Z,(0,q.A)({allInCenterLayout:n,renderHeader:h&&g?()=>a.createElement(ha.A,null):null,enableScale:r,enableScaleTo768:o},l,{enableFixedActivityInfo:!0}),t))})),Aa=n(46694),Ca=n(33064),Ta=n(30637),xa=n(17021),Pa=n(94454),Ra=n(70868),Ma=n(40467),Da=n(7301),Ba=n(81669),La=n(20162),Oa=n(31423),Wa=n(90504),za=n(5220),Fa=n(46272),Ua=n(26102),Ga=n.n(Ua);const Ha="cross_page_goods_fav",ja=(0,i.PA)((function(){const{t:e}=(0,p.B)("goods",{keyPrefix:"fav"}),{favStore:t,checkAndPopLogin:n,selectedSku:r,goodsId:o}=(0,N.Pj)(),{isFavRecord:i,toggleFavStateV3:l}=t||{},s=(0,Fa.A)((async()=>{await n({onSuccess:()=>{(0,Wa.yt)(Ha,JSON.stringify([o,(new Date).getTime()])),(0,Zt.Qw)(location.href)},loginScene:320,useCookie:!0})&&await l()})),c={button_style:2,cart_scene:170,cart_type:0,sku_id:r?.skuId};return(0,a.useEffect)((()=>{if(i)return;const e=(0,za.x6)((0,Wa.W9)(Ha),[]),[t,n]=e;t&&n&&t===o&&(new Date).getTime()-n<1e4&&((0,Wa.Uf)(Ha),l())}),[]),i?a.createElement(kn.Rp,{page_el_sn:209174,others:c,key:"fav"},a.createElement("div",{className:Ga().favBtn,onClick:s,tabIndex:0,role:"button","aria-label":e("saved"),"data-aria-enter":"1"},a.createElement(Da.A,{className:Ga().favIcon,alt:e("saved")}),a.createElement("span",null,e("saved")))):a.createElement(kn.Rp,{page_el_sn:209173,others:c,key:"unfav"},a.createElement("div",{className:Ga().favBtn,onClick:s,tabIndex:0,role:"button","aria-label":e("save"),"data-aria-enter":"1"},a.createElement(Ba.A,{className:Ga().unfavIcon,alt:e("save")}),a.createElement("span",null,e("save"))))})),Va=(0,i.PA)((function(e){let{className:t}=e;const{t:n}=(0,p.B)("goods",{keyPrefix:"fav"}),{favStore:r,checkAndPopLogin:i,selectedSku:l,goodsId:s}=(0,N.Pj)(),{isFavRecord:c,toggleFavStateV3:u}=r||{},[m,d]=(0,a.useState)(!1),[g,h]=(0,a.useState)(c),f=(0,a.useRef)(null),y=(0,a.useRef)(null),_=()=>{h((e=>(d(!e),!e)))},E=(0,Fa.A)((async()=>{if(await i({onSuccess:()=>{(0,Wa.yt)(Ha,JSON.stringify([s,(new Date).getTime()])),(0,Zt.Qw)(location.href)},loginScene:320,useCookie:!0})){_();await u()||_()}})),b={button_style:2,cart_scene:170,cart_type:0,sku_id:l?.skuId};return(0,a.useEffect)((()=>{if(c)return;const e=(0,za.x6)((0,Wa.W9)(Ha),[]),[t,n]=e;t&&n&&t===s&&(new Date).getTime()-n<1e4&&((0,Wa.Uf)(Ha),u())}),[]),a.createElement(kn.Rp,{page_el_sn:g?209174:209173,others:b,key:g?"fav":"unfav"},a.createElement("div",{className:t,onClick:E,tabIndex:0,role:"button","aria-label":n(g?"saved":"save")},a.createElement(Ba.A,{ref:f,className:o()(Ga().newUnFavIcon,Ga().icon,{[Ga().unFavAnimation]:m,[Ga().hideIcon]:g}),alt:n("save")}),a.createElement(Da.A,{ref:y,className:o()(Ga().newFavIcon,Ga().icon,{[Ga().favAnimation]:m,[Ga().hideIcon]:!g}),alt:n("saved")})))}));var qa=(0,Xt.A)((0,In.W4)({name:"SmallFavBtn"}),i.PA)((()=>{const{favStore:e}=(0,N.Pj)(),{ifShowSmallFavBtn:t,showSmallFavBtnPos:n}=e||{};return t?n===oa.GALLERY?a.createElement("div",{className:Ga().gallery},a.createElement(Va,{className:Ga().galleryFavBtn})):n===oa.BUTTON?a.createElement(Va,{className:Ga().btnFav}):a.createElement("div",{className:Ga().withTips},a.createElement(ja,null)):null})),Ka=n(59661),$a=n(20755),Qa=n(51206),Ya=n(43282),Ja=n(90241);function Xa(e){return e?.length?e.slice().sort(((e,t)=>e.specKeyId-t.specKeyId)).reduce((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;const{specKeyId:n="",specValueId:a=""}=t||{};return`${e}${n}${a}`}),""):""}function Za(e){return e?Xa(Object.entries(e||{}).map((e=>{let[t="",n=""]=e;return{specValueId:n,specKeyId:t}}))):""}var er=n(67926),tr=n(73572),nr=n(41889),ar=n.n(nr);var rr=(0,i.PA)((()=>{const{addOrderInfoStore:e}=(0,N.Pj)(),{promotionDefaultDesc:t}=e,{t:n}=(0,p.B)("goods");return a.createElement("span",{className:ar().wrap},t||n("AddOrderButtonText_default"))}));const or=233215;let ir=function(e){return e[e.GOODS_DETAIL=0]="GOODS_DETAIL",e[e.SKU=1]="SKU",e[e.SKU_PANEL=2]="SKU_PANEL",e[e.BIG_GALLERY=3]="BIG_GALLERY",e}({});var lr=n(15634),sr=n.n(lr);var cr=(0,Xt.A)((0,In.W4)({name:"GalleryAddCartBlock"}),i.PA)((e=>{let{gallery:t,galleryIndex:n,onClickMask:r}=e;const{t:i}=(0,p.B)("goods"),l=(0,N.Pj)(),{formatSkuData:s,currentSpecIdSelect:c,selectedSku:u,sku:m,isSkc:d,control:g,skuShow:h,setCurrentSpecIdSelect:f,shoppingCartSkuAmountMap:y,qty:_,addOrderInfoStore:E,buyNowButton:b,addCartButtonStore:S,moduleMap:v,optimalSku:I}=l,{isShowClearanceMainButtonStyle:w,clearanceButtonStyle:k,clearanceButtonStyle4BigImage:A}=S,C=(0,a.useMemo)((()=>w?{style:A||k,className:sr().clearanceBtn}:{}),[k,w,A]),{isGoodsAddOrderAB:T,order:x}=E,{buttonDesc:P}=x||{},{skuInfos:R,specIdStrToSkuId:M}=s||{},{isOnsale:D,skuId:B}=u||{},L=(0,a.useMemo)((()=>{const{id:e,videoUrl:a,showTextSpecs:r}=t[n]||{},o=m.filter((t=>t?.galleryId===e));if(1===m?.length)return m[0];if(a)return null;if(1===o?.length)return o[0];let i={};if(r?.length){const{specKeyId:e,specValueId:t}=r[0]||{};e&&t&&(i={[e]:t})}if(i={...c,...i},(d||o?.length>1)&&(0,za.RP)(i)){const e=M?.[Za(i)];return{...R?.[e],currentSpecId:i}}}),[n,t,d,R,M,c])||{},{skuId:O}=L||{},W=y?.[O||""],z=async e=>{let{sku:t,skuParams:n,skuTypeValues:a,defaultSpecId:r}=e;const{skuId:o,isOnsale:i,specs:l,goodsId:s}=t||{},c=l?.reduce(((e,t)=>{const{specKeyId:n,specValueId:a}=t||{};return n&&a&&(e[n]=a),e}),{});if(!o||!i){const e={...n,defaultGoodsNumber:W?1:_},t=a[a.length-1]?.specKeyId;return t&&(e.currentSpecIdSelect={...r||c,[t]:null}),h(e)}return setTimeout((()=>f(c)),500),h({...n,defaultSkuId:o,directAddSkuId:g?.detailSupportExperimentControl?.supportNewCustom?void 0:o,defaultGoodsNumber:W?1:_,directAddGoodsId:s})},F=async e=>{const{specIdStrToSkuId:a,skuInfos:r,skuTypeValues:o}=s||{},i=t[n],{showTextSpecs:l,id:u,videoUrl:p}=i||{},g={addType:xn.H$.addCart,pageSource:406,needInitCheckSpec:!0,cartScene:xn.xi.BigPicture,frontControl:{supportPersonalize:!0},...e};if(1===m?.length&&m?.[0]?.isOnsale)return z({sku:m[0],skuParams:g,skuTypeValues:o});if(p)return h(g);const f=m.filter((e=>e?.galleryId===u));if(1===f?.length)return z({sku:f[0],skuParams:g,skuTypeValues:o});let y={};if(l?.length){const{specKeyId:e,specValueId:t}=l[0]||{};e&&t&&(y={[e]:t})}if(y={...c,...y},(d||f?.length>1)&&(0,za.RP)(y)){const e=a?.[Za(y)];return z({sku:r?.[e]||{},skuParams:g,skuTypeValues:o,defaultSpecId:y})}h({...g,currentSpecIdSelect:y})},U=e=>{const{type:t=Gt.el.primary,className:n,btnText:r=i("main_gallery.add"),underBtnText:l,onClick:s=F,trackingInfo:c,style:u}=e||{},{page_el_sn:m,...d}=c||{};return a.createElement(er.Y,{innerCls:sr().borderInnerCls,pageElSn:m||200061,useClick:!1,others:{cart_scene:xn.xi.BigPicture,cart_type:0,...d},type:t,style:u,className:o()(sr().footerBtn,n),onClick:s,btnContent:r,btnBottomContent:l,"data-id":"button"})},{skuButtonCustoms:G,skuButtonSubBlock:H}=v?.bottomButtonModule?.data?.oneClickPayButton||{},{skuId:j}=I||{},{buttonTitle:V}=G?.[j]||{},q=(0,a.useMemo)((()=>H?.[j]?.textRich?.length?a.createElement(tr.l5,{newRichText:H[j]}):a.createElement(rr,null)),[H,j]),K=V||P||i("main_detail.btnAllowPurchaseText");return a.createElement("div",{className:sr().wrap,id:"big_picture_button",onClick:r,"aria-hidden":!0},a.createElement("div",{className:sr().btnContainer,onClick:r,"aria-hidden":!0},(()=>{if(T)return a.createElement(a.Fragment,null,a.createElement(er.Y,{className:o()(sr().footerBtn,sr().small,C.className,sr().addOrderBtn),onClick:()=>h({addType:xn.H$.addOrder,pageSource:406,frontControl:{supportPersonalize:!0}}),btnContent:K,btnBottomContent:q,"data-id":"button",style:C.style}),U({type:Gt.el.border,className:sr().cartsSmall}));if(b){const e={page_el_sn:or,buy_scene:ir.BIG_GALLERY};return a.createElement(a.Fragment,null,U({type:Gt.el.border,className:sr().cartsSmall}),U({btnText:i("main_detail.buyNowBtnText"),className:o()(sr().small,C.className),trackingInfo:e,style:C.style,onClick:()=>{F({addType:xn.H$.buyNow,trackingInfo:e})}}))}return U({...C})})()))})),ur=n(64383),mr=n(7045),dr=n.n(mr),pr=function(e){return e[e.image=0]="image",e[e.video=1]="video",e}(pr||{});var gr=(0,Xt.A)((0,In.W4)({name:"BigPicture GalleryItem"}),i.PA)((e=>{let{data:t,index:n,onClickImage:r,onClickMask:i,onLoaded:l,galleryIndex:s,webpEnable:c,videoStatusListRef:u,baseTrackingInfo:m,store:d,lazy:p}=e;const{goodsId:g,bannerRatio:h}=d,{url:f,videoUrl:y}=t,{videoUrl:_,width:E,height:b}=t.video||{},S=_||y,v=n===s,I={width:"100%",height:"auto"};if(S&&E&&b&&h){b/E-h>.01&&(I.width="auto",I.height="100%")}const w=(0,a.useMemo)((()=>m?.page_el_sn?{play:{...m,page_el_sn:m.page_el_sn,pichead_index:n,pic_type:pr.video,op:"event",sub_op:"video_start"},pause:{...m,page_el_sn:m.page_el_sn,pichead_index:n,pic_type:pr.video,op:"event",sub_op:"video_pause"},end:{...m,page_el_sn:m.page_el_sn,pichead_index:n,pic_type:pr.video,op:"event",sub_op:"video_end"}}:{}),[m,n]);return a.createElement("div",{className:o()(dr().contentItem,{[dr().contentActive]:v}),key:n,onClick:i,"aria-hidden":!0},S?a.createElement(ur.A,{videoUrl:S,galleryIndex:s,index:n,videoStatusListRef:u,videoTrackingInfo:w,isPlayEndGoBackFirstFrame:!0,autoPlay:!0,hideControls:!1,logger:A.A,className:dr().videoPlay,videoStyle:I,hideCustomPlayIconInPad:!0,scene:ur.r.BIG_PICTURE}):null,!S&&f?a.createElement(kn.Rp,{page_el_sn:m?.page_el_sn,others:{...m,pichead_index:n,pic_type:pr.image,goods_id:g},useClick:!1},a.createElement("div",{id:v?"big_picture_img_item":"",className:dr().imgWrap},a.createElement(Ln.A,{src:f,webpEnable:c,onClick:r,lazy:p,progress:!0,progressBlurredCompressParams:xn.QH,alt:""}))):null)})),hr=n(4304),fr=n(61277),yr=n(14273),_r=n.n(yr),Er=function(e){return e[e.Text=1]="Text",e[e.HotIcon=2]="HotIcon",e}(Er||{});const br=e=>{let{data:t}=e;const{type:n,text:r}=t;return n===Er.HotIcon?a.createElement(hr.A,{className:_r().fireIcon}):n===Er.Text?a.createElement("span",null,r):null};var Sr=(0,Xt.A)((0,In.W4)({name:"SpecTag"}),i.PA)((e=>{let{currentGalleryItem:t}=e;const{showTextSpecs:n,id:r,skuId:o}=t||{},i=(0,N.Pj)(),{sizeSpecModule:l,selectLocationId:s,currentSpecIdSelect:c,isShowNewSize:u,formatSkuData:m,sku:d,isSkc:p,control:g}=i,{sizeGuideSpecKeyId:h}=g||{},{skuTypeValues:f,specKeyId2SpecKeyMap:y,specValueId2SpecMap:_}=m,[E,b]=(0,a.useState)(!0),[S,v]=(0,a.useState)(!1),[I,w]=(0,a.useState)({}),[k,A]=(0,a.useState)([]),C=(e,t)=>{if(u&&e===h)return l?.sizeSpecContentMap?.[s]?.sizeSpecValueContentMap?.[t]?.specValueStr},T=()=>{const e=document.getElementById("big_picture_img_item")?.clientWidth||0;e>500&&w({maxWidth:e})};(0,a.useEffect)((()=>{T(),setTimeout((()=>v(!0)),300)}),[]),(0,Ya.A)("resize",T,Qa.z);const x=(0,a.useCallback)((function(e,t,n){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=[{type:Er.Text,text:e}];return a&&r.push({type:Er.Text,text:": "}),r.push({type:Er.Text,text:n||t}),r}),[]);if((0,a.useEffect)((()=>{(()=>{if(1===d.length){const e=Object.entries(c).map((e=>{let[t,n]=e;const a=y[t],{specValue:r}=_[n]||{};return x(a,r)}));return A(e),void b(!0)}let e=!1;if(r){const t=d.filter((e=>e?.galleryId===r));if(1===t?.length){const e=t[0].specs?.map((e=>{const{specKeyId:t,specValueId:n,specKey:a,specValue:r}=e||{};return a&&r?x(a,r,C(t,n)):[]}));if(e?.length)return A(e),void b(!0)}e=t?.length>1}const t=[];Object.entries(c).forEach((a=>{let[r,i]=a;const l=+r,s=(n||[]).find((e=>e?.specKeyId===l)),c=_[i]||{},{specValueId:u,specKeyId:m}=s||{},d=y[l];if(e&&s?.specValue)t.push(x(d,s.specValue,C(m,u))),b(!0);else if((o||p)&&i)t.push(x(d,c?.specValue,C(l,i))),b(!0);else{const e=(f||[]).find((e=>e?.specKeyId===l));if(e?.values?.length){const n=e.values.length;if(1===n){const{values:n,valueIds:a,specKeyId:r}=e||{};t.push(x(d,n?.[0],C(r,a?.[0]))),b(!0)}else t.push(x(`${n} `,d,"",!1)),b(!1)}}})),A(t)})()}),[c,r,o,p]),!S||!k.length)return null;return a.createElement("div",{className:_r().spec,style:I},a.createElement(fr.v,{type:"gray",size:"lg",className:_r().tag},1===k.length?k[0].map(((e,t)=>a.createElement(br,{data:e,key:t}))):k.map(((e,t)=>a.createElement(a.Fragment,null,e.map(((e,t)=>a.createElement(br,{data:e,key:t}))),0===t&&(E?" / ":", "))))))})),vr=n(67187),Ir=n.n(vr),wr=function(e){return e[e.image=0]="image",e[e.video=1]="video",e}(wr||{});const kr=e=>e<.2?0:e>.8?1:(e-.2)/.6,Nr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth";setTimeout((()=>{document.querySelectorAll(`.${Ir().spec}`)?.[e]?.scrollIntoView({behavior:t,block:"center"})}),0)};var Ar=(0,Xt.A)((0,In.W4)({name:"GalleryBigPicture"}),i.PA)((e=>{const{onClose:t,index:n,callback:r,webpEnable:l,hideThumb:s,onMount:c,videoStatusList:u,store:m}=e,{isGiftGoods:d,isSkc:p,currentSpecIdSelect:g,concatGallery:h,sku:f,isChangeSpecBySkuSelector:y,selectedSkuSpec:_,isSkuSelectorCloseChange:E,control:b,addOrderInfoStore:S,redeemPointsBtnStore:v,showNewDomStructure:I}=m,{isRedeemPoints:w}=v,{isGoodsAddOrderAB:k,order:N}=S,C=(0,a.useMemo)((()=>h.map((e=>({...e,videoUrl:e.video?.videoUrl})))),[h]),[T,x]=(0,a.useState)(n),[P,R]=(0,a.useState)(!1),M=C.length,D=C[T]||{},B=(0,a.useRef)(null),L=(0,a.useRef)({}),O=(0,a.useRef)(u||new Array(M).fill(0).map((()=>({currentTime:0,playing:!1})))),W=(0,a.useRef)(null),z=(0,a.useMemo)((()=>({page_el_sn:220163,pichead_index:T,pic_type:C[T]?.video?.videoUrl?wr.video:wr.image,product_pic:M})),[T,M]);(0,a.useEffect)((()=>{c?.()}),[]);(0,Ya.A)("resize",(()=>{if(!B.current)return;const{clientWidth:e,clientHeight:t}=B.current;L.current={width:e,height:t}}),Qa.z,{immediate:!0,deps:[P]});const F=(0,a.useRef)(),U=e=>{const t=+e.currentTarget.dataset.index||0;F.current=setTimeout((()=>{x(t)}),100)},G=()=>{clearTimeout(F.current)};(0,a.useEffect)((()=>(Nr(T,"instant"),(0,A.A)("GalleryBigPicture"),()=>{clearTimeout(F.current)})),[]);(0,a.useEffect)((()=>{(()=>{if(p)return;if(!p&&!y)return;if(Object.values(g).every((e=>!e)))return;const{showPictureSpecKeyId:e,skuThumbSpecKeyId:t}=b||{},n=e||t;if(n&&!g[n])return;const a=f.filter((e=>{let{specs:t}=e;return t?.some?.((e=>e.specValueId===_[0]?.specValueId))}));if(a?.length>0){const e=a.find((e=>{let{specs:t}=e;return _?.every((e=>t?.some?.((t=>t.specValueId===e.specValueId))))}));if(e?.galleryId){const t=C.findIndex((t=>e.galleryId===t.id));if(t>=0)return void x(t)}const t=C.findIndex((e=>a.some((t=>t.galleryId===e.id))));t>=0&&x(t)}})()}),[E]),(0,a.useEffect)((()=>{const e=W.current;if(!e)return;const t=e.parentElement;if(!t)return;const{height:n}=t.getBoundingClientRect(),a=W.current.children[T];if(!a)return;const{height:r}=a.getBoundingClientRect(),o=a.offsetTop,i=a.offsetTop+r;t.scrollTop>i?(0,Ra.BD)(o,t):t.scrollTop+n<o&&(0,Ra.BD)(i-n,t)}),[T]);const H=()=>{if(t(),D.videoUrl){const e=document.querySelector(`.${Ir().contentActive} video`);e&&(O.current[T].playing=!e.paused)}r?.(T,{videoStatusList:O.current})},j=e=>{e.target===e.currentTarget&&H()},V=e=>{e.stopPropagation(),z?.page_el_sn&&(0,ge.OS)({...z,op:"left_slide"});let t=T-1;t<0&&(t=M-1),Nr(t),x(t)},q=e=>{e.stopPropagation(),z?.page_el_sn&&(0,ge.OS)({...z,op:"right_slide"});let t=T+1;t>=M&&(t=0);const{right:n=0}=W.current?.getBoundingClientRect()||{};n>=0&&Nr(t),x(t)};(0,Ja.A)({[Ja.N.ArrowLeft]:V,[Ja.N.ArrowRight]:q},[T]);const K=C.length>1,[$,Q]=(0,a.useState)({}),[Y,J]=(0,a.useState)(!1),X=e=>{const{offsetX:t,offsetY:n}=e.nativeEvent,{width:a,height:r}=L.current,{width:o,height:i}=$;let l=0,s=0;return i>r&&(l=-(i-r)*kr(n/r)),o>a&&(s=-(o-a)*kr(t/a)),{top:l,left:s}},Z=e=>{const{width:t,height:n}=e.target,a=n/t,{width:r}=L.current,{width:o,height:i}=D;let l={};l=o&&i?o<r?{width:r,height:r*i/o}:{width:o,height:i}:{width:r,height:r*a},Q({...l,...X(e)}),J(!0)},ee=()=>{J(!1)},te=N?.allowPurchase&&!k||d||w;return a.createElement(i.Kq,{store:m},a.createElement(Ka.Ay,{onClick:H,className:Ir().content,wrapClassName:Ir().popupWrap,popupShowClassName:Ir().popupShow,isShowClose:!1},a.createElement("div",{className:Ir().close,onClick:H,"aria-hidden":!0},a.createElement(xa.HW,{className:Ir().closeIcon})),a.createElement(kn.nU,{page_el_sn:void 0!==p?200351:p,others:{scenes:1,type:p?1:2}},a.createElement("div",{className:Ir().wrap,onClick:j,"aria-hidden":!0},a.createElement("div",{className:o()(Ir().mainContent),onClick:j,"aria-hidden":!0},!s&&a.createElement("div",{className:Ir().thumb,onClick:j,"aria-hidden":!0},a.createElement("div",{className:Ir().thumbInner,ref:W},C.map(((e,t)=>{const{width:n,height:r,url:i,videoUrl:s}=e;if(!i)return null;const c={};return n&&r&&(c.paddingBottom=100*r/n+"%"),a.createElement("div",{key:t,onMouseEnter:U,onMouseLeave:G,"data-index":t,style:c,className:o()(Ir().spec,{[Ir().active]:t===T})},a.createElement(Nn.Ay,{src:i,webpEnable:l,resizeWidth:180,alt:""}),s?a.createElement("div",{className:Ir().videoIcon},a.createElement(xa.np,{className:Ir().icon})):null)})))),a.createElement("div",{className:Ir().right,onClick:j,"aria-hidden":!0},a.createElement("div",{className:o()(Ir().big,{[Ir().single]:!K}),onClick:j,ref:B,"aria-hidden":!0},!!K&&a.createElement($a.A,{direction:"left",className:Ir().arrowLeft,innerArrowClassName:Ir().picArrow,onClick:V,tabIndex:0,role:"button","data-aria-enter":"1"}),a.createElement("div",{className:Ir().mediaContent},C.map(((e,t)=>a.createElement(gr,{data:e,index:t,lazy:I?t!==T:void 0,galleryIndex:T,onClickImage:Z,onClickMask:j,webpEnable:l,videoStatusListRef:O,baseTrackingInfo:z,store:m,onLoaded:()=>R(!0)}))),D?.videoUrl?null:a.createElement(Sr,{currentGalleryItem:D})),!!K&&a.createElement($a.A,{direction:"right",className:Ir().arrowRight,innerArrowClassName:Ir().picArrow,onClick:q,tabIndex:0,role:"button","data-aria-enter":"1"}),D?.url?a.createElement("div",{className:o()(Ir().bigImage,{[Ir().showBig]:Y}),onClick:ee,onMouseLeave:ee,onMouseMove:e=>{Q({...$,...X(e)})},"aria-hidden":!0},a.createElement("div",{className:o()(Ir().imgWrap,{[Ir().newImgWrap]:I}),style:$},a.createElement(Nn.Ay,{webpEnable:l,src:D.url,alt:""}))):null),te?null:a.createElement(cr,{gallery:C,galleryIndex:T,onClickMask:j})))))))})),Cr=n(56208),Tr=n.n(Cr),xr=function(e){return e[e.image=0]="image",e[e.video=1]="video",e}(xr||{});var Pr=e=>{let{data:t,bannerRatio:n,style:r,lazy:i,alt:l,index:s,onClickImage:c,galleryIndex:u,videoStatusListRef:m,isRefreshGallery:d,className:g="",setVideoPlay:h,baseTrackingInfo:f,progressInfo:y,detailAdvanceVideo:_,isClone:E}=e;const{t:b}=(0,p.B)("goods",{keyPrefix:"accessibility"}),{isRTL:S}=(0,Aa.Sz)(),v=(0,N.Pj)(),I=(0,a.useRef)(),w=s===u,{goodsId:k,usePrefetchVideo:C}=v,{width:T,height:x,url:P}=t,{videoUrl:R,width:M,height:D}=t.video||{},{videoUrl:B}=_||{},L=R||B,O=P,W=(0,a.useMemo)((()=>{const e={width:"100%",height:"auto"};if(T&&x&&n){x/T-n>.01&&(e.width="auto",e.height="100%")}return e}),[T,x,n]),[z,F]=(0,a.useState)(!1),U=(0,a.useMemo)((()=>{const e={width:"100%",height:"auto"};if(L&&M&&D&&n){D/M-n>.01&&(e.width="auto",e.height="100%")}return e}),[L,M,D,n]),{t:G}=(0,p.B)("goods"),H=(0,a.useMemo)((()=>f?.page_el_sn?{play:{...f,pichead_index:s,pic_type:xr.video,op:"event",sub_op:"video_start"},pause:{...f,pichead_index:s,pic_type:xr.video,op:"event",sub_op:"video_pause"},end:{...f,pichead_index:s,pic_type:xr.video,op:"event",sub_op:"video_end"}}:{}),[f,s]),j=()=>a.createElement(Ln.A,(0,q.A)({role:"img","aria-label":G("main_gallery.goodsImage"),className:Tr().img,style:W,src:O,lazy:i,fetchpriority:"high",draggable:!1,alt:l||b("goodsImage"),wrapperStyle:{paddingBottom:100*n+"%",backgroundPosition:"0 0"},"data-aria-enter":"1",onClick:c},y,xn.be,{tabIndex:w?0:void 0}));return a.createElement(kn.nU,{page_el_sn:E?"":219771,others:{...f,pichead_index:s,pic_type:L?xr.video:xr.image,goods_id:k}},a.createElement("div",{className:o()(o()(Tr().scrollPage,`sp${s}`,g,{[Tr().videoPlayed]:z,[Tr().rtl]:S})),style:r,ref:I,"data-index":s},L?null:j(),L?a.createElement(ur.A,{videoUrl:L,poster:j(),galleryIndex:u,index:s,videoStatusListRef:m,videoTrackingInfo:H,isPlayEndGoBackFirstFrame:!0,logger:A.A,recordVideoPlay:e=>{F(e),h(!0,s)},videoStyle:U,scene:ur.r.GALLERY,usePrefetchVideo:C,disableTabIndex:E||!w}):null))},Rr=n(30406),Mr=n.n(Rr);const Dr=e=>{const{videoStatusListRef:t,size:n,data:r,index:o,isReady:i,isRobot:l,goodsAlt:s,bannerRatio:c,setVideoPlay:u,accessT:m,isRefreshGallery:d,onClickImage:p,galleryIndex:g,video:h,baseTrackingInfo:f,isClone:y}=e,{alt:_}=r||{},E=`${_||s} ${o}`,b=!l&&(i||o<xn.au);return a.createElement(Pr,{isClone:y,key:`${o}.${r.id||0}`,index:o,setVideoPlay:u,bannerRatio:c,detailAdvanceVideo:l&&0===o?h:null,data:r,lazy:0!==o,progressInfo:{progress:b,progressBlurredCompressParams:xn.QH},alt:E||s||m("goodsImage"),style:n,isRefreshGallery:d,onClickImage:p,galleryIndex:g,videoStatusListRef:t,baseTrackingInfo:f,isRobot:l})};var Br=function(e){return e[e.image=0]="image",e[e.video=1]="video",e}(Br||{});const Lr={direction:"ltr"},Or=()=>{};var Wr=(0,Xt.A)((0,In.W4)({name:"Gallery"}),i.PA)((function(){const e=(0,N.Pj)(),{t:t}=(0,p.B)("goods",{keyPrefix:"accessibility"}),{goods:n,concatGallery:r,bannerRatio:i,isSkc:l,webpEnable:s,globalResizeTrigger:c,seoDataPageAlt:u,isRobot:m,video:d,selectedSku:g,optimalSku:h,isSupportTouch:f,grayConfig:y,favStore:_,localInfo:E,updateGalleryRef:b,showNewDomStructure:S}=e,{isRTL:v}=(0,Aa.Sz)(),{goodsName:I,goodsId:w}=n||{},k=r.length,C=k>1,T=(0,a.useRef)(null),x=(0,a.useRef)(null),P=(0,a.useRef)(null),R=(0,a.useRef)(null),{galleryIndex:M,setGalleryIndex:D}=e,B=(0,a.useRef)(M),[L,O]=(0,a.useState)(!1),W=(0,a.useRef)(),{showSmallFavBtnPos:z}=_,F=(0,a.useMemo)((()=>({page_el_sn:219771,pichead_index:M,pic_type:r[M]?.video?.videoUrl?Br.video:Br.image,product_pic:k})),[M,k]),[U,G]=(0,a.useState)(new Array(k).fill(!1)),H=(0,a.useCallback)(((e,t)=>{G(U.map(((n,a)=>a===t?e:n)))}),[U]),[j,V]=(0,a.useState)(!1),[K,$]=(0,a.useState)({}),Q=(0,a.useRef)(new Array(k).fill(0).map((()=>({currentTime:0,playing:!1,muted:!0})))),Y=(0,a.useRef)();(0,a.useEffect)((()=>{Q.current=new Array(r.length).fill(0).map((()=>({currentTime:0,playing:!1,muted:!0}))),V((e=>!e))}),[r]),(0,a.useEffect)((()=>{if(!x.current)return;b(x);const{width:e,height:t}=x.current.getBoundingClientRect();e&&($({width:+e.toFixed(0),height:+t.toFixed(0)}),O(!0))}),[x.current]),(0,a.useEffect)((()=>{const e=T.current;if(!(L&&e&&K.width&&x.current))return Or;const t=()=>{const{width:e,height:t}=x.current?.getBoundingClientRect?.()||{};if(e&&K.width!==e&&e<=654){const n=+e.toFixed(0),a=+t.toFixed(0);$({width:n,height:a}),W.current?.updateCurTranslateX(n),W.current?.setSyncWidthStyle({width:`${n}px`})}};return Y.current=t,window.addEventListener("resize",t,!1),()=>{window.removeEventListener("resize",t,!1)}}),[L,K]),(0,a.useEffect)((()=>{Y.current?.()}),[c]);const J=u||I||"";(0,a.useEffect)((()=>{l&&L&&(D(0),B.current=0)}),[L,r,l]),(0,a.useEffect)((()=>{if(W.current?.slideTo(M,!0),B.current=M,L&&R.current){const e=R.current.parentElement,{height:t}=e?.getBoundingClientRect?.()||{},n=R.current.children[M];if(!n)return;const{height:a}=n.getBoundingClientRect(),r=n.offsetTop,o=n.offsetTop+a;if(e&&e.scrollTop>o)return void(0,Ra.BD)(r,e);e&&e.scrollTop+Number(t)<r&&(0,Ra.BD)(o-Number(t),e)}}),[M,P.current,L]);const X=(0,a.useRef)(),Z=e=>{const t=+e.currentTarget.dataset.index||0;clearTimeout(X.current),X.current=setTimeout((()=>{W.current?.slideTo(t,!0)}),50)},ee=()=>{clearTimeout(X.current)};(0,a.useEffect)((()=>()=>{clearTimeout(X.current)}),[]);const[te,ne]=(0,a.useState)(!1),ae=(e,t)=>{let{videoStatusList:n}=t;D(e),n&&(Q.current=n,V((e=>!e)))},re=(0,Ma.x)((async()=>{const t=(0,vn.A)(a.createElement(Ar,{store:e,onClose:()=>t?.(),index:M,callback:ae,webpEnable:s,videoStatusList:Q.current}),{})}),500);return k?a.createElement("div",{className:Mr().wrap,ref:T},a.createElement("div",{className:Mr().thumb,"aria-label":t("goodsImage"),tabIndex:-1},a.createElement("div",{className:Mr().thumbInner,ref:R},r.map(((e,n)=>{const{id:r,width:i,height:l,url:s="",video:c,alt:u}=e,d=`${u||J} ${n}`,p=c?.videoUrl,g={};i&&l&&(g.paddingBottom=100*l/i+"%");const h=n===M;return a.createElement("div",{key:`${r}_${n}`,onMouseEnter:Z,onMouseLeave:ee,"data-index":n,style:g,className:o()(Mr().spec,{[Mr().active]:h})},a.createElement(Ln.A,(0,q.A)({src:s,alt:d||t("goodsImage"),lazy:!m&&n>=xn.au,fetchpriority:"high"},xn.QH)),p?a.createElement("div",{className:Mr().videoIcon,"aria-hidden":!0},a.createElement(xa.np,{className:Mr().icon})):null)})))),a.createElement("div",{className:Mr().pic,onMouseEnter:S?void 0:()=>{C&&ne(!0)},onMouseLeave:S?void 0:()=>{C&&ne(!1)},style:Lr},a.createElement("div",{ref:x,className:Mr().fixRatio,style:{paddingBottom:100*i+"%"}},a.createElement(Pa.A,{Slider:Dr,list:r,wrapClassName:Mr().slideWrapper,initialIndex:M,ref:W,wrapStyle:K,olClassName:Mr().scrollContent,containerWidth:K?.width,onSlideWillChange:D,customSliderProps:{videoStatusListRef:Q,size:K,isReady:L,isRobot:m,goodsAlt:J,bannerRatio:i,setVideoPlay:H,accessT:t,isRefreshGallery:j,onClickImage:re,galleryIndex:M,video:d,baseTrackingInfo:F}})),a.createElement(Ta.A,{show:S?C:te,leftCls:Mr().arrowLeft,commonArrCls:S?Mr().switchArrow:"",rightCls:Mr().arrowRight,innerCls:Mr().picArrow,onPrev:e=>{e.stopPropagation(),W.current?.slideTo(M-1),(0,A.A)("GalleryClickPrev")},onNext:e=>{e.stopPropagation(),W.current?.slideTo(M+1),(0,A.A)("GalleryClickNext")}}),z===oa.GALLERY?a.createElement(qa,null):null),a.createElement(Ca._I,{hide:U?.[M],data:n?.energyTag,goodsId:g?.goodsId||w,repairData:h?.skuRepairabilityIndex,skuId:h?.skuId,efficiencyCls:h?.skuRepairabilityIndex?Mr().efficiencyCls:""})):null})),zr=n(99759),Fr=n(19618),Ur=n(32167),Gr=n(14171),Hr=n.n(Gr);const jr="https://aimg.kwcdn.com/upload_aimg/web/e0f7e21f-a924-4da4-9cb6-54d4c3893217.png";var Vr=(0,Xt.A)((0,In.W4)({name:"SoldOutPage"}),i.PA)((function(){const e=(0,N.Pj)(),{t:t}=(0,p.B)("goods",{keyPrefix:"soldOutPage"}),{goods:n,crumbOptList:r,switches:i,sku:l,$service:s,control:c,useOptSoldOutImg:u}=e,{hdThumbUrl:m,imageUrl:d,soldOutJumpUrl:g,soldOutSubscribeStatus:h,soldOutContent:f,goodsId:y}=n||{},{soldOutTitleContent:_,soldOutDetailContent:E,soldOutBeforeSubscribeTip:b,soldOutBeforeSubscribeButtonContent:S,soldOutAfterSubscribeTip:v,soldOutAfterSubscribeSubTip:I,soldOutAfterSubscribeButtonContent:w,soldOutDetailContentRich:k}=f||{},C=m||d,T=(0,a.useMemo)((()=>!!c?.findSimilar&&!!(l||[]).find((e=>e.canSubscribe&&e.subscribeStatus===xn.$p.Subscribe))),[c,l]),x=(0,a.useMemo)((()=>!!c?.findSimilar&&!!(l||[]).find((e=>e.canSubscribe&&e.subscribeStatus===xn.$p.UnSubscribe))),[c,l]),P=(0,a.useCallback)((e=>{const t=[];return(l||[]).forEach((n=>{n.canSubscribe&&n.subscribeStatus!==e&&t.push(Number(n.skuId))})),{type:1,goods_id:y,sku_id_list:t}}),[l,y]),R=(0,a.useCallback)((async()=>{const n=P(xn.$p.Subscribe);if(!n?.sku_id_list?.length)return!1;const a=await s.subscribe(n),{success:r,error:o}=a||{};return r?(l.forEach((e=>{n.sku_id_list.includes(Number(e.skuId))&&(e.subscribeStatus=xn.$p.Subscribe)})),e.sku=[...l],a):(40001!==o?.errorCode&&La.A.error(t("store.subscribeFailToast",{ns:"goods"})),!1)}),[l]),M=(0,a.useCallback)((async()=>{const n=P(xn.$p.UnSubscribe);if(!n?.sku_id_list?.length)return!1;const a=await s.unSubscribe(n);a.success?(La.A.success(a?.tips),l.forEach((e=>{n.sku_id_list.includes(Number(e.skuId))&&(e.subscribeStatus=xn.$p.UnSubscribe)})),e.sku=[...l]):40001!==a?.error?.errorCode&&La.A.error(t("store.unsubscribeFailToast",{ns:"goods"}))}),[l]),D=1===h&&(x||T),B=()=>{(0,zr.r)({request:{list_id:(0,dn.A)(6),offline:!0,main_goods_ids:[n.goodsId],main_goods:[n.goodsId],top_goods:[n.goodsId]},config:{pageSn:xn.LM,pageElSn:205397,frontControl:{supportPersonalize:!0}},goods:{goodsId:n.goodsId}})},L=async()=>{if(x){const e=await R(!0);e?.success&&B()}else M(!0)},O=()=>{g&&(0,Zt.MJ)((0,On.LV)(g),{openTarget:"_blank"})},W=(0,a.useMemo)((()=>{const e=v&&I?v+I:t("unSubscribeTips");return D?x?b||t("notifyTips"):a.createElement("span",{className:Hr().unSubscribeTips,onClick:B,role:"button",tabIndex:0},e,a.createElement(xa.hu,{direction:xa.bs.RIGHT,className:Hr().rightArrow})):k?.textRich?.length?a.createElement(tr.l5,{className:Hr().detailRichContent,newRichText:k}):E||t("checkOutSimilar")}),[D,x]);return(0,a.useEffect)((()=>{(0,A.A)("SoldOutPageComp",{fields:{has_snapshot:+(!!i?.showSnapshotEntry&&!!g),has_goods:+!ua()(n),status:n?.status?n.status:0}})}),[]),i?.showSnapshotEntry&&g?a.createElement("div",{className:o()(Hr().wrap,D&&Hr().subscribe,r?.length&&Hr().crumbMargin)},a.createElement("div",{className:o()(Hr().image,{[Hr().goodsImage]:C})},a.createElement(Ln.A,{src:C||jr,resizeWidth:xn.QH.resizeWidth,quality:xn.QH.quality,alt:"",lazy:u,progress:u,progressBlurredCompressParams:Fr.b3})),D?a.createElement(a.Fragment,null,a.createElement(kn.Rp,{page_el_sn:201408},a.createElement("div",{className:o()(Hr().text,Hr().clickable),onClick:O,role:"button",tabIndex:0},_||`${t("soldOut")} ${t("viewMoreDetails")}`,a.createElement(xa.hu,{className:Hr().arrow}))),a.createElement("div",{className:Hr().subText},W),a.createElement(kn.Rp,{page_el_sn:203050,others:{subscribe_type:x?0:1}},a.createElement(Ur.A,{className:o()(Hr().subscribeBtn),type:T?"border":"main",onClick:L},x?a.createElement(a.Fragment,null,a.createElement(xa.J2,{className:Hr().notifyIcon}),S||t("notify")):w||t("unsubscribe")))):a.createElement(a.Fragment,null,a.createElement(kn.Rp,{page_el_sn:201408},a.createElement("div",{className:o()(Hr().text,{[Hr().clickable]:!!g}),onClick:O,role:"button",tabIndex:0},_||`${t("soldOut")} ${t("viewMoreDetails")}`,g?a.createElement(xa.hu,{className:Hr().arrow}):null)))):a.createElement("div",{className:o()(Hr().wrap,D&&Hr().subscribe,r?.length&&Hr().crumbMargin)},a.createElement("div",{className:o()(Hr().image,{[Hr().goodsImage]:C})},a.createElement(Ln.A,{src:C||jr,resizeWidth:xn.QH.resizeWidth,quality:xn.QH.quality,alt:"",lazy:u,progress:u,progressBlurredCompressParams:Fr.b3})),a.createElement("div",{className:Hr().text},_||t("soldOut")),a.createElement("div",{className:Hr().subText},W),D?a.createElement(kn.Rp,{page_el_sn:203050,others:{subscribe_type:x?0:1}},a.createElement(Ur.A,{className:o()(Hr().subscribeBtn),type:T?"border":"main",onClick:L},x?a.createElement(a.Fragment,null,a.createElement(xa.J2,{className:Hr().notifyIcon}),S||t("notify")):w||t("unsubscribe"))):null)})),qr=n(70535),Kr=n.n(qr);var $r=(0,Xt.A)((0,In.W4)({name:"AgeConfirmationPage"}),i.PA)((()=>{const e=(0,N.Pj)(),{addOrderInfoStore:t,isNormalStatus:n,isSEOSoldOut:r,goods:i,triggerGlobalResize:l,webLayoutData:s,moduleMap:c,$axiosHttp:u}=e,{popup:m}=c?.ageConfirmationPopupModule?.data||{},d=(0,a.useRef)(null),p=(0,a.useMemo)((()=>({enableSidebarLayout:!t?.order?.allowPurchase,enableFullSidebar:!0})),[t?.order?.allowPurchase]),h=(0,a.useRef)(S.f.None),f=(0,a.useMemo)((()=>({getContentType:e=>{const t=e?.sidebarWidth;return t!==h.current&&(h.current=t,Promise.resolve().then((()=>{l(),d.current&&(t===S.f.Double?d.current.className=o()(Kr().wrap,"doubleSideCart"):d.current.className=Kr().wrap)}))),t>0}})),[]),y=(0,a.useMemo)((()=>!(!s?.headerData?.cartNum||(0,S.N)(s.headerData.cartNum)!==S.f.Double)),[s?.headerData?.cartNum]);return(0,a.useEffect)((()=>{if(m)if(m?.popupData?.isLogin){(0,A.A)("ShowPassAgeVerifyPopup",{fields:{e:JSON.stringify({data:m})}});const e=()=>{(0,Zt.Qw)(location.href)},t=()=>{(0,Zt.Qw)("/")};(0,Vn.dW)({data:m,successCb:e,failCb:t})}else{(0,A.A)("AgeVerifyPopupToLogin");const e=()=>{(0,Zt.Qw)("/")},t=()=>{(0,Zt.Qw)(location.href)},n=(0,la.Ri)("region");(0,vn.A)(a.createElement(Wt.Ay,{modalVisible:!0,axiosHttp:u,onCloseClick:e,regionId:n,loginScene:220,onSuccess:t}),{})}else(0,A.A)("AgeConfirmationPageDataError")}),[m]),a.createElement(v.y.Provider,{value:p},a.createElement(Na,{enableScale:!0,enableScaleTo768:!0,allInCenterLayout:f,pageSn:xn.LM},a.createElement(sa,null),n||r?a.createElement(a.Fragment,null,a.createElement("div",{className:o()(Kr().wrap,y&&"doubleSideCart"),ref:d,style:{marginTop:43}},a.createElement(I.H1,{"aria-label":i?.goodsName,className:Kr().goodsName},i?.goodsName),a.createElement("div",{className:Kr().left,id:"leftContent"},a.createElement(Wr,null),a.createElement(g.zj,null)))):a.createElement(a.Fragment,null,a.createElement(Vr,null),a.createElement(g.zj,null))))})),Qr=n(72620),Yr=n(84973),Jr=n(9570),Xr=n(23058),Zr=n(25939),eo=n(44350),to=n.n(eo);var no=(0,a.memo)((0,a.forwardRef)(((e,t)=>{let{className:n,activeItemCls:r,onChange:i,value:l={label:"",value:""},showSelectIcon:s=!1,selectItemCls:c="",selectListCls:u="",arrowCls:m,arrowIconCls:d,options:p=[],placeholder:g="",isError:h=!1}=e;const[f,y]=(0,a.useState)(l),[_,E]=(0,a.useState)(!1),[b,S]=(0,a.useState)({}),v=(0,a.useRef)(null),I=(0,a.useRef)(null),w=(0,Zr.F)(p);(0,a.useImperativeHandle)(t,(()=>({hideListPopup:()=>E(!1)}))),(0,a.useEffect)((()=>{const e=I.current;if(!e)return;const t=e.clientWidth;t&&S({width:t})}),[]),(0,a.useEffect)((()=>{const e=window.document,t=()=>{E(!1)};return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}),[]);const k=(0,a.useMemo)((()=>({timer:null,lock:!1})),[]),N=(0,a.useCallback)((()=>{k.timer&&clearTimeout(k.timer),k.lock=!0,k.timer=setTimeout((()=>{k.lock=!1}),30)}),[]),A=a.createElement("div",{className:o()(to().list,u),style:b},a.createElement("div",{className:to().listContent},w.current.map((e=>{const t=f.value===e.value;return a.createElement("div",{className:o()(to().selectItem,c,{[to().selectedItem]:t}),key:e.value,"aria-label":e.value,"data-val":e.value,onMouseDown:N,onClick:t=>((e,t)=>{e?.stopPropagation(),E(!1),y(t),i?.(t)})(t,e),tabIndex:0,role:"button","data-aria-keyboard":!0},a.createElement(a.Fragment,null,a.createElement("div",null,e.label),t&&s?a.createElement(Ft.ib,{path:"M833.3 246.6c25.1-24.9 65.6-24.7 90.5 0.4 22.6 22.8 24.5 58.4 5.9 83.3l-6.3 7.2-496.3 492.2c-22.8 22.6-58.2 24.5-83.2 6l-7.2-6.2-245.5-246.1c-25-25-24.9-65.5 0.1-90.5 22.8-22.7 58.3-24.7 83.4-6.1l7.1 6.2 200.4 200.8 451.1-447.2z","aria-hidden":!0}):null))}))));return a.createElement(Yr.A,{placement:"bottom",innerClassName:to().listInnerCls,visible:_,overlay:A,hideArrow:!0,appendToBody:!0},a.createElement("div",{className:o()(to().wrap,n,{[to().errorWrap]:h}),onClick:()=>{clearTimeout(v.current),E(!_)},tabIndex:0,role:"button","data-aria-keyboard":!0,ref:I,onBlur:e=>{k.lock?k.lock=!1:(clearTimeout(v.current),v.current=setTimeout((()=>{E(!1)}),200))}},a.createElement("div",{"aria-label":f?.label||g,className:o()(to().label,!f?.label&&to().placeholder,r)},f?.label||g),a.createElement("div",{className:o()(to().arrow,m)},a.createElement(Ft.ib,{"aria-hidden":!0,className:o()(to().arrowIcon,d,_?to().activeArrowIcon:""),path:"M915.5 360.6c19.8 19.8 21.8 50.7 5.9 72.6l-5.9 7-362.1 362c-19.8 19.8-50.7 21.8-72.7 6l-6.9-6-362.1-362c-22-22-22-57.7 0-79.6 19.8-19.8 50.7-21.8 72.7-6l7 6 322.2 322.1 322.2-322.1c19.8-19.8 50.7-21.8 72.7-6l7 6z"}))))}))),ao=n(98158),ro=n.n(ao);var oo=(0,In.W4)({name:"ProductGuidesLanuageSelectPopup"})((e=>{let{data:t,onClose:n}=e;const{t:r}=(0,p.B)("global"),{t:o}=(0,p.B)("goods"),{popup:i,guideFileList:l}=t||{},{popUpTitle:s=o("productGuideLangPopup.title"),popUpLangText:c=o("productGuideLangPopup.name")}=i||{},u=(0,a.useMemo)((()=>{let e=-1;const t=l?.length>1?l?.find(((t,n)=>{if(1===t.selected)return e=n,!0})):l?.[0]||{};return t?{...t,label:t.langInPdf.join(", "),value:e,idx:e}:{}}),[l]),[m,d]=(0,a.useState)(u?.idx),g=(0,a.useRef)(),h=(0,a.useMemo)((()=>l.map(((e,t)=>{const{langInPdf:n}=e||{};return{label:n.join(", "),value:t,idx:t,...e}}))),[l]);return a.createElement(Ka.Ay,{onClick:n},a.createElement("div",{className:ro().wrap},s?a.createElement("div",{className:ro().title},s):null,a.createElement("div",{className:ro().content},a.createElement("div",{className:ro().contentTitle},c),a.createElement("div",{className:ro().selectWrap},a.createElement(no,{options:h,className:ro().select,arrowCls:ro().arrow,value:u,showSelectIcon:!0,arrowIconCls:ro().arrowIcon,placeholder:o("productGuideLangPopup.placeholder"),onChange:e=>{d(e?.idx)},isError:!1,selectItemCls:ro().selectItem,activeItemCls:ro().activeItemCls,ref:g}))),a.createElement("div",{className:ro().btnWrap},a.createElement(Ut.A,{size:"lg",className:ro().btn,type:Gt.el.primary,onClick:()=>{const{url:e}=h?.[m]||{};e?(e&&(0,Zt.MJ)(e,{openTarget:"_blank"}),n?.()):Xr.A.customize(o("productGuideToast"))}},r("OK")))))})),io=n(87126),lo=n.n(io);const so={[Xn.IMAGE]:227626,[Xn.VIDEO]:237941,[Xn.PDF]:224256},co=e=>{let{curIndex:t,list:n}=e;const[r,i]=(0,a.useState)(!1),l=(0,a.useRef)();return(0,a.useEffect)((()=>{i(!0),clearTimeout(l.current),l.current=setTimeout((()=>{i(!1)}),3e3)}),[t]),a.createElement("div",{className:o()(lo().pageInfo,{[lo().showPageInfo]:r})},a.createElement("div",null,t+1,"/",n?.length))},uo=e=>{let{store:t}=e;const{webpEnable:n,isSkc:r,$service:o,goodsId:i,query:l,moduleMap:s}=t,{instruction:c}=s?.productDetailExtensionModule?.data||{},{manualTitle:u,guideFile:m,imgInstruction:d}=c||{},{desc:p}=d||m||{},g=e=>{e&&(0,Zt.MJ)(e,{openTarget:"_blank"})},h=(0,Fa.A)((async()=>{const{imgList:e}=await o.queryGuideFileImg({goods_id:i});if(!e?.length)return;const t=(0,vn.A)(a.createElement(Jr.A,{webpEnable:n,isSkc:r,index:0,galleryCls:lo().imgItem,renderFooter:co,list:e,onClose:()=>{t?.()}}),{});(0,A.A)("ProductGuidesPopup")}));(0,a.useEffect)((()=>{const{auto_show_popup:e}=l||{};e===xn.vs.PRODUCT_GUIDES&&p&&u&&h()}),[]);return{onClick:e=>{const{type:t,popUp:n,guideFileList:r}=e||{};if(e.type!==Xn.IMAGE)if(1!==r?.length)if(n?.popUpTitle&&r?.length){const e=(0,vn.A)(a.createElement(oo,{data:{popUp:n,guideFileList:r},onClose:()=>e?.()}),{})}else g(e?.url);else{const e=r?.[0]?.url;e&&g(e)}else h()}}},mo=(0,i.PA)((function(){const e=(0,N.Pj)(),{moduleMap:t}=e,{t:n}=(0,p.B)("goods"),{instruction:r}=t?.productDetailExtensionModule?.data||{},{manualNote:o,manualTitle:i,videoInstruction:l,guideFile:s,imgInstruction:c,guideFileSplit:u}=r||{},m=(0,a.useMemo)((()=>{const e=[];return c?.desc?e.push({...c,type:Xn.IMAGE}):u?.desc?e.push({...u,type:Xn.PDF}):s?.desc&&e.push({...s,type:Xn.PDF}),l?.desc&&e.push({...l,type:Xn.VIDEO}),e}),[l,c,s,u]),{onClick:d}=uo({store:e});return i&&m?.length?a.createElement(kn.Rp,{page_el_sn:224256},a.createElement("div",{className:lo().wrap},a.createElement("div",{className:lo().title,"aria-label":i},i),a.createElement("div",{className:lo().content},m.map(((e,t)=>a.createElement(kn.Rp,{page_el_sn:so[e.type]},a.createElement("div",{className:lo().desc,onClick:()=>d(e),key:t,"aria-label":e.desc,tabIndex:0,role:"button","data-aria-enter":"1"},a.createElement("span",{className:lo().name},a.createElement(Ln.A,{src:e.iconUrl,resizeWidth:100,className:lo().icon,alt:""}),a.createElement("div",{className:lo().nameContent},e.desc)),a.createElement("span",{className:lo().right},n("guide_file.review"),a.createElement(xa.hu,{direction:xa.bs.RIGHT,className:lo().rightArrow,"aria-hidden":!0}))))))),o?a.createElement("div",{className:lo().note,"aria-label":o},a.createElement(Ln.A,{resizeWidth:100,className:lo().noteIcon,alt:"",src:"https://aimg.kwcdn.com/upload_aimg/pho/6fddd410-4a3b-46e2-9091-f3d69332a893.png.slim.png","aria-hidden":!0}),a.createElement("span",{className:lo().noteText},o)):null)):null}));var po=(0,Xt.A)((0,In.W4)({name:"ProductGuides"}),i.PA)((function(){const{moduleMap:e,imgInstruction:t,guideFile:n}=(0,N.Pj)(),{instruction:r}=e?.productDetailExtensionModule?.data||{};if((0,a.useEffect)((()=>{!t&&!n||r||(0,A.A)("ProductGuidesDataInvalid")}),[r,t,n]),r)return a.createElement(mo,null)})),go=n(71400),ho=n.n(go);var fo=(0,In.W4)({name:"AssemblyGuide"})((()=>{const e=(0,N.Pj)(),{moduleMap:t}=e,{instruction:n}=t?.productDetailExtensionModule?.data||{},{manualNote:r,manualTitle:o,videoInstruction:i,guideFile:l,imgInstruction:s,guideFileSplit:c}=n||{},u=(0,a.useMemo)((()=>{const e=[];return s?.desc?e.push({...s,type:Xn.IMAGE}):c?.desc?e.push({...c,type:Xn.PDF}):l?.desc&&e.push({...l,type:Xn.PDF}),i?.desc&&e.push({...i,type:Xn.VIDEO}),e}),[i,s,l,c]),{onClick:m}=uo({store:e});return a.createElement("div",{className:ho().wrap},a.createElement("div",{className:ho().title},a.createElement("div",{className:ho().titleText},o),r?a.createElement(an.d,null,a.createElement(Yr.A,{arrowClassName:ho().explainArrow,placement:"bottomLeft",trigger:["hover"],overlay:a.createElement("div",{className:ho().explain},r)},a.createElement(Qr.A,{className:ho().explainIcon}))):null),a.createElement("div",{className:ho().list},u.map(((e,t)=>{const{desc:n,iconUrl:r}=e||{};return a.createElement(a.Fragment,null,a.createElement("div",{key:t,className:ho().item,onClick:()=>m(e),role:"button",tabIndex:0},a.createElement("div",{className:ho().itemLeft},r?a.createElement(Nn.Ay,{className:ho().itemIcon,src:r,alt:""}):null,a.createElement("div",{className:ho().itemLeftText},n)),a.createElement(an.d,null,a.createElement(wn.A,{className:ho().arrow}))))}))))})),yo=n(56020),_o=n(88126),Eo=n(89919),bo=n.n(Eo);let So;async function vo(){return So||(So=n.e(9161).then(n.bind(n,49983)).then((e=>{let{default:t}=e;return t})).catch((()=>null)),So)}var Io=(0,Xt.A)((0,In.W4)({name:"CompatibleVehicles"}),i.PA)((()=>{const{t:e}=(0,p.B)("goods"),t=(0,N.Pj)(),{moduleMap:n}=t,{data:r}=n?.productDetailExtensionModule||{},{relationName:o}=r?.carPropertyRelationId?.relationIdAndName||{},i=(0,_o.A)((async()=>{const{compatibleVehiclesStore:n}=t,{queryGoodsExtend:r,initParams:o}=n;o();const[i,l]=await Promise.all([r(),vo()]);if(i&&l){const e=(0,vn.A)(a.createElement(l,{onClose:()=>e(),store:t}),{})}else La.A.error(e("goodsDetail.noNetwork")),(0,A.A)("show CompatibleVehiclesPopup fail")}));return o?a.createElement(kn.nU,{page_el_sn:237404},a.createElement("div",{className:bo().wrap},a.createElement("div",{className:bo().relationItem,onClick:()=>i(),tabIndex:0,role:"button","aria-label":o},a.createElement("span",{className:bo().relationName},o),a.createElement(wn.A,{className:bo().relationIcon,alt:""})))):null})),wo=n(84408),ko=n.n(wo);var No=(0,In.W4)({name:"Compatibility"})((0,i.PA)((e=>{let{isSingle:t}=e;const n=(0,N.Pj)(),{moduleMap:r,compatibleVehiclesStore:o}=n,{carPropertyRelationId:i}=r?.productDetailExtensionModule?.data||{},{carPropertyIcon:l,carPropertyTitle:s,carPropertyDesc:c}=i||{},{t:u}=(0,p.B)("goods"),m=(0,Fa.A)((async()=>{const{queryGoodsExtend:e,initParams:t}=o;t();const[r,i]=await Promise.all([e(),vo()]);if(r&&i){const e=(0,vn.A)(a.createElement(i,{onClose:()=>e(),store:n}),{})}else La.A.error(u("goodsDetail.noNetwork")),(0,yo.A)("show CompatibleVehiclesPopup fail")}));return a.createElement("div",{className:ko().wrap},a.createElement("div",{className:ko().title},s),a.createElement("div",{className:ko().list},a.createElement("div",{className:ko().item,onClick:m,role:"button",tabIndex:0},a.createElement("div",{className:ko().itemLeft},l?a.createElement(Ln.A,{className:ko().itemIcon,src:l,alt:""}):null,a.createElement("div",{className:ko().itemLeftText},c)),a.createElement("span",{className:ko().itemRight},t?a.createElement("span",{className:ko().view},u("goodsDetail.view")):null,a.createElement(wn.A,{className:ko().arrow})))))}))),Ao=n(32941),Co=n.n(Ao);var To=(0,In.W4)({name:"AssemblyGuideAndCompatibility"})((0,a.memo)((0,i.PA)((()=>{const{moduleMap:e}=(0,N.Pj)(),{instruction:t,carPropertyRelationId:n}=e?.productDetailExtensionModule?.data||{},r=(0,a.useMemo)((()=>{const e=[];return t&&e.push(fo),n?.carPropertyTitle&&e.push(No),e}),[]),o=1===r?.length;return r?.length?a.createElement("div",{className:Co().wrap},r.map((e=>a.createElement("div",{className:Co().item},a.createElement(e,{isSingle:o,className:Co().wrap}))))):null})))),xo=n(40304),Po=n(20657),Ro=n(76855),Mo=n(20252),Do=n.n(Mo);const Bo=e=>{const{title:t,children:n,expanded:r,onExpandChange:i}=e,[l,s]=(0,a.useState)(r);return(0,a.useEffect)((()=>{i?.()}),[l]),t&&n?a.createElement("div",{className:Do().itemWrap},a.createElement("div",{className:Do().itemTop,onClick:()=>s(!l),role:"button",tabIndex:0},a.createElement("div",null,a.createElement(an.d,null,a.createElement(xo.A,{className:Do().explainIcon})),t),a.createElement(Po.A,{className:o()(Do().arrow,{[Do().expandedArrow]:l})})),a.createElement("div",{className:o()(Do().itemContent,{[Do().expandedContent]:l})},a.createElement("div",{className:Do().itemContentPaddingTop},n))):null};var Lo=(0,In.W4)({name:"CollapseProperty"})((0,i.PA)((()=>{const{goods:e,triggerGlobalResize:t,showProductWarning:n,showGoodsDetailModuleOptimized:r,updateShowContentTransition:o,showContentTransition:i}=(0,N.Pj)(),{t:l}=(0,p.B)("goods"),{complianceInformation:s,productWarning:c,complianceInstructions:u}=e||{},m=(0,a.useMemo)((()=>n&&r&&c?.tips?.filter((e=>e.moveDisplayType&&[ta.bottom,ta.bottomAndExpand].includes(e.moveDisplayType)))||[]),[n,c,r]),d=[ta.bottom,ta.bottomAndExpand].includes(u?.moveDisplayType)&&r,{tips:g}=c||{},h=(0,a.useMemo)((()=>{const e=[],{text:t,moveDisplayType:n}=u||{};if((m?.length||u?.text&&d)&&e.push({title:l("goodsDetail.notes"),content:a.createElement(a.Fragment,null,m?.length?a.createElement(Ro.A,{productWarningList:m}):null,t&&d?a.createElement("span",null,t):null),expanded:g?.some((e=>e.moveDisplayType===ta.bottomAndExpand))||n===ta.bottomAndExpand}),s){const{entrance:t,floatingLayer:n}=s||{},{text:r}=t||{},{paragraphs:o}=n||{};e.push({title:r,content:a.createElement("div",null,o?.map((e=>e.text||null))),expanded:!1})}return e}),[s,g,u,l,d,m]),f=(0,a.useRef)(),y=(0,a.useRef)(),_=(0,a.useCallback)((()=>{!i&&o(!0),clearTimeout(f.current),f.current=setTimeout((()=>{t(),clearTimeout(y.current),y.current=setTimeout((()=>{o(!1)}),110)}),110)}),[i]);return a.createElement("div",{className:Do().wrap},h.map((e=>{const{title:t,content:n,expanded:r}=e||{};return a.createElement(Bo,{title:t,expanded:r,onExpandChange:_},a.createElement("span",null,n))})))}))),Oo=n(60525),Wo=n.n(Oo),zo=(0,Xt.A)((0,In.W4)({name:"ComplianceInformation"}),i.PA)((function(){const{t:e}=(0,p.B)("global"),{goods:t}=(0,N.Pj)(),{entrance:n,floatingLayer:r}=t?.complianceInformation||{},{text:o,iconUrl:i}=n||{};return o?a.createElement(kn.Rp,{page_el_sn:224256},a.createElement("div",{className:Wo().wrap,onClick:t=>{t.stopPropagation();const{title:n,paragraphs:o}=r||{},{text:i}=n||{};if(!o?.length)return;const l=(0,vn.A)(a.createElement(Ka.Ay,{onClick:()=>l()},a.createElement("div",{className:Wo().dialogWrap},a.createElement("div",{className:Wo().dialogTitle},i),a.createElement("div",{className:Wo().content},o?.map(((e,t)=>{const{text:n}=e||{};return n?a.createElement("div",{className:Wo().dialogItem,key:t},n):null}))),a.createElement(Ut.A,{className:Wo().confirm,onClick:()=>l()},e("OK")))),{})},role:"button","aria-label":o,tabIndex:0},i?a.createElement(Ln.A,{src:i,className:Wo().icon,alt:""}):null,a.createElement("span",{className:Wo().title},o),a.createElement(xa.hu,{direction:xa.bs.RIGHT,className:Wo().rightArrow,"aria-hidden":!0}))):null})),Fo=n(32878),Uo=n(33590),Go=n.n(Uo);var Ho=(0,Xt.A)((0,In.W4)({name:"Crumbs"}),i.PA)((function(){const e=(0,N.Pj)(),{crumbOptList:t,goods:n,fromOrderDetail:r,query:o,addOrderInfoStore:i}=e,{isFromAddOrderPage:l,order:s}=i,{t:c}=(0,p.B)("goods"),u=s?.allowPurchase,m=()=>{let e=(0,d.rE)({parent_order_sn:o.parent_order_sn},"/bgt_payment_success.html");r&&(e=(0,d.rE)({parent_order_sn:o.parent_order_sn},"/bgt_order_detail.html")),(0,Zt.Qw)(e,{needForceWeb:!0})};if(u&&l)return a.createElement("div",{className:Go().purchase,onClick:m},a.createElement(Ft.hu,{direction:"left",className:Go().picArrow}),c("crumb.allowPurchase"));if(!t?.length)return a.createElement("div",{className:Go().placeholder});let g=[];g=-100===t[0]?.optId?[...t]:[{title:c("crumb.displayHomeItemTitle"),href:"/"},...t];const h=n.goodsName||"",f=h.length>26?`${h.slice(0,26)}...`:h;return f&&g.push({title:f}),a.createElement("div",{className:Go().crumbs},a.createElement(Fo.A,{list:g,className:Go().breadCrumb}))})),jo=n(9455),Vo=n(35057),qo=n(53938),Ko=n(84135),$o=n(65703),Qo=n(73846),Yo=n.n(Qo);var Jo=(0,In.W4)({name:"DimensionEntry"})((0,i.PA)((e=>{let{className:t}=e;const{moduleMap:n,webpEnable:r}=(0,N.Pj)(),{entrance:i,layerContents:l}=n?.productDetailExtensionModule?.data?.dimensionIllustration||{},{iconUrl:s,text:c}=i||{},u=l?.length,m=(0,a.useMemo)((()=>l?.length?l.filter((e=>e.type===Yn.img&&e.imageUrl)).map((e=>({url:e.imageUrl}))):[]),[l]);return(0,a.useEffect)((()=>{c&&(0,A.A)("DimensionEntry")}),[]),c?a.createElement(kn.nU,{page_el_sn:235715},a.createElement("div",{className:Yo().wrap},a.createElement("div",{className:o()(Yo().content,u&&Yo().clickable,t),onClick:()=>{if(!u)return;const e=(0,vn.A)(a.createElement(Jr.A,{list:m,isSkc:!1,webpEnable:r,index:0,onClose:()=>e?.()}),{})},role:"button",tabIndex:u?0:void 0,"data-aria-enter":u?"1":"0"},s?a.createElement(Ln.A,{src:s,className:Yo().icon,alt:""}):null,c,u?a.createElement(wn.A,{className:Yo().arrow,alt:""}):null))):null}))),Xo=n(40399),Zo=n(76865),ei=n(76252),ti=n(14414),ni=n.n(ti);let ai;async function ri(){return ai||(ai=n.e(2736).then(n.bind(n,48535)).then((e=>{let{default:t}=e;return t})).catch((()=>null)),ai)}var oi=(0,Xt.A)((0,In.W4)({name:"Certification"}),i.PA)((e=>{let{className:t}=e;const{t:n}=(0,p.B)("goods"),r=(0,N.Pj)(),{moduleMap:i}=r,{certificationProperty:l}=i?.productDetailExtensionModule?.data||{},{key:s,showEntrance:c,value:u,certTypes:m,valueRich:d}=l||{},g=(0,_o.A)((async()=>{if(!c)return;const{$service:e,goodsId:t}=r,[o,i]=await Promise.all([e.queryCertification({cert_types:m,goods_id:t}),ri()]),{certificationLayer:l,error:s}=o||{},{certifications:u}=l||{};if(1!==u?.length||1!==u[0]?.certFiles?.length)l&&i?(0,qn.P)({popupNode:a.createElement(i,{certificationLayer:l})}):[ei.DZ.DEFAULT_VERIFY,ei.DZ.LOGIN_VERIFY].includes(s?.errorCode)||(La.A.error(n("goodsDetail.noNetwork")),(0,A.A)("show CertificationPopup fail"));else{const{fileUrl:e}=u[0].certFiles[0];e?(0,Zt.MJ)(e,{openTarget:"_blank"}):(La.A.error(n("goodsDetail.noNetwork")),(0,A.A)("single certification not fileUrl"))}}));return l?a.createElement(kn.nU,{page_el_sn:238335},a.createElement("div",{className:o()(ni().wrap,t)},a.createElement("div",{className:o()(ni().certificationItem,c&&ni().click),onClick:()=>g(),tabIndex:c?0:-1,role:"button","aria-label":s},d?.textRich?.length?a.createElement("span",{className:ni().name},s,": ",a.createElement(tr.l5,{newRichText:d,style:{textAlign:"left"},className:ni().valueRich})):a.createElement("span",{className:ni().name},s,": ",u),c?a.createElement(wn.A,{className:ni().icon,alt:""}):null))):null})),ii=n(52062),li=n.n(ii);var si=(0,a.memo)((0,i.PA)((function(e){let{showGoodsDetailModuleOptimized:t}=e;const{goods:n,moduleMap:r,getMallDetailInfo:o,goodsProperty:i,goodsEnhanceProperty:l}=(0,N.Pj)(),{t:s}=(0,p.B)("goods"),c=i?.length,u=(0,a.useMemo)((()=>t?l?.length?0:3:+n.rows||3),[t,l,n]),{dimensionIllustration:m,certificationProperty:d,goodsPropertyExtendText:g}=r?.productDetailExtensionModule?.data||{},{seeDetails:h,seeDetailsDimensions:f}=g||{},{entrance:y}=m||{},_=!!y?.text,E=!!d,[b,S]=(0,a.useState)(u),[v,I]=(0,a.useState)(!(c>u||t&&(_||E))),w=async()=>{const e=await o();e?.result&&(0,Zo.K)(e.result)},k=t?_?f||s("goodsDetail.descriptionMoreWithDimension"):h||s("goodsDetail.descriptionSeeAll"):s("main_detail.descriptionMore");return i.length?a.createElement(kn.Rp,{page_el_sn:214005,useClick:!1},a.createElement("div",{className:li().wrap},a.createElement("div",{className:li().list},i.slice(0,b).map(((e,t)=>{if(1===e.customProperty)return a.createElement(kn.Rp,{page_el_sn:214008},a.createElement("div",{key:t,className:li().itemWithClick,onClick:w,tabIndex:0,role:"button","aria-label":`${e.key}`,"data-aria-enter":"1"},e.key,a.createElement(Ft.hu,{direction:"right",className:li().arrowRight,"aria-hidden":!0})));if(!e?.values?.length)return null;const n=e.values.join(", "),{url:r,pcWidth:o,pcHeight:i}=e?.iconV2||{};return a.createElement("div",{key:t,className:li().item},e.key,":"," ",r?a.createElement(Ln.A,{src:r,className:li().itemIcon,style:{width:o,height:i},"aria-hidden":!0,alt:"",resizeWidth:40}):null,n,!!e.copyable&&a.createElement(Xo.A,{useButton:!0,page_el_sn:204334,className:li().copyButton,text:n,wrapCls:li().copyWrap}))}))),t&&v?a.createElement(a.Fragment,null,a.createElement(oi,{className:li().certification}),a.createElement(Jo,{className:li().dimensionEntry})):null,!v&&a.createElement(kn.Rp,{page_el_sn:200448},a.createElement("div",{className:li().moreWrap},a.createElement("div",{className:li().more,onClick:()=>{S(void 0),I(!0)},role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement("span",null,k),a.createElement(Ft.hu,{direction:"bottom",className:li().arrow})))))):null}))),ci=n(47101),ui=n.n(ci),mi=(0,a.memo)((function(){const{goodsEnhanceProperty:e}=(0,N.Pj)();return e.length?a.createElement(kn.Rp,{page_el_sn:214005,useClick:!1},a.createElement("div",{className:ui().wrap},a.createElement("div",{className:ui().list},e.map(((e,t)=>{const{values:n,enhanceIcon:r}=e||{};if(!n?.length)return null;const o=n.join(", ");return a.createElement("div",{key:t,className:ui().item,role:"button","aria-haspopup":"dialog","aria-label":`${e.key}: ${o}`},r?a.createElement(Ln.A,{src:r,className:ui().itemIcon,"aria-hidden":!0,resizeWidth:120,alt:""}):null,a.createElement("span",{className:ui().itemKey},e.key),a.createElement("span",{className:ui().itemValue},o))}))))):null})),di=n(35396),pi=n(37437),gi=n.n(pi),hi=(0,a.memo)((0,i.PA)((function(){const{goods:e,getMallDetailInfo:t}=(0,N.Pj)(),n=(0,a.useRef)(null),{propertyList:r}=e?.extraProperty||{},o=()=>(n.current||(n.current=t()),n.current),i=e=>{1==+e?.buttons&&o()},l=(0,a.useRef)(!1),s=async()=>{if(l.current)return;l.current=!0;const e=await o();e?.result&&(0,Zo.K)(e.result),l.current=!1,n.current=null};return r?.length?a.createElement("div",{className:gi().wrap},r.map(((e,t)=>{const{richText:n}=e||{};return n?a.createElement(tr.l5,{newRichText:n,key:t,className:gi().textRich,onMouseDown:i,showPopup:s,showPopupWhiteList:[di.E.sellerInfoPop]}):null}))):null}))),fi=n(40639),yi=n(34678),_i=n(81119),Ei=n.n(_i);function bi(e){let{title:t,benefits:n}=e;return n?.length?a.createElement(yi.A,{title:t,onClose:qn.L},a.createElement("div",{className:Ei().popupWrap},n.map(((e,t)=>a.createElement("div",{className:Ei().popupItem,key:t},a.createElement("div",{className:Ei().popupTitleBlock},e.iconUrl?a.createElement(Ln.A,{className:Ei().popupItemIcon,src:e.iconUrl,resizeWidth:100}):null,a.createElement("div",{className:Ei().popupTitle},e.title)),a.createElement("div",{className:Ei().popupDesc},e.desc)))))):null}function Si(e){let{item:t,style:n}=e;return a.createElement("div",{className:Ei().listItem,style:n},a.createElement(fi.A,{className:Ei().subTitleIcon,alt:""}),a.createElement("span",{className:Ei().subTitle},t.title))}var vi=(0,In.W4)({name:"RefurbishedInfo"})((0,i.PA)((()=>{const{goods:e}=(0,N.Pj)(),{title:t,benefits:n}=e?.refurbishmentInfo||{},[r,o]=(0,a.useState)(),i=(0,a.useRef)(null);(0,Ya.A)("resize",(()=>{if(i.current?.clientWidth){const{clientWidth:e}=i.current;o((e-28-24)/2)}}),Qa.z,{immediate:!0});return n?.length?a.createElement(kn.nU,{page_el_sn:237420},a.createElement("div",{className:Ei().wrap,ref:i,onClick:()=>{(0,qn.P)({popupNode:a.createElement(bi,{title:t,benefits:n})})},tabIndex:0,role:"button","aria-haspopup":"dialog","aria-label":t},t?a.createElement("div",{className:Ei().title},t,a.createElement(wn.A,{className:Ei().titleIcon})):null,n.length>0?a.createElement("div",{className:Ei().listWrap},n.map(((e,t)=>a.createElement(Si,{key:t,item:e,style:{maxWidth:r}})))):null)):null}))),Ii=n(65913),wi=n.n(Ii);const ki={center:"center",left:"right",right:"left"},Ni={submitReport:220316,phoneInput:229569,submitPhone:229569,supportBtn:230021,ipBtn:220317},Ai=e=>{let{data:t,alt:n="",onClickImage:r,imgCls:i="",videoStatusList:l,isRefresh:s,lazyImgParams:c,processInfo:u}=e;const{width:m,height:g,url:h,index:f}=t,y=g/m,{videoUrl:_,width:E,height:b}=t.video||{},S={width:"100%",height:"auto"};if(m&&g&&y){g/m-y>.01&&(S.width="auto",S.height="100%")}const v={width:"100%",height:"auto"};if(_&&E&&b&&y){b/E-y>.01&&(v.width="auto",v.height="100%")}const{t:I}=(0,p.B)("goods"),w=(0,a.useRef)(null),[k,N]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=w.current,t=l.current[f];t&&(t.playing?e?(e.currentTime=t.currentTime,(0,za.R5)(e,!0)):(N(!0),setTimeout((()=>{const e=w.current;e&&(e.currentTime=t.currentTime,(0,za.R5)(e,!0))}),50)):t.currentTime>0&&(N(!0),setTimeout((()=>{const e=w.current;e&&(e.currentTime=t.currentTime,(0,za.R5)(e,!1))}),50)))}),[s]),(0,a.useEffect)((()=>{const e=l.current?.[f];w.current&&e&&(e.stop=()=>{const t=!w.current?.paused;(0,za.R5)(w.current,!1),e.playing=t},e.recover=()=>{e.playing&&(0,za.R5)(w.current,!0);const{paused:t,currentTime:n}=w.current||{};t&&(e.playing=!1),"number"==typeof n&&w.current&&(w.current.currentTime=n)})}),[w.current,k]);const A=(0,$o.A)();(0,a.useEffect)((()=>{const e=w.current,t=l.current[f];e&&k&&t&&(A&&t.playing?((0,za.R5)(e,!0),t.playing=!0):(t.playing=!e.paused,(0,za.R5)(e,!1)))}),[k,A]),(0,Ko.A)({ref:w,options:{threshold:.8},onEnter:()=>{const e=w.current,t=l.current?.[f];e&&k&&t.playing&&((0,za.R5)(e,!0),e.currentTime=t.currentTime)},onLeave:()=>{const e=w.current,t=l.current?.[f];e&&k&&t&&(t.playing=!e.paused,t.currentTime=e.currentTime,(0,za.R5)(w.current,!1))},deps:[k]});return a.createElement("div",{className:o()(wi().videoItem,{[wi().videoPlayed]:k}),style:{paddingBottom:100*g/m+"%"}},!k&&a.createElement(Ln.A,(0,q.A)({role:"img","aria-label":I("main_gallery.goodsImage"),className:o()(wi().img,i),style:S,src:h,draggable:!1,alt:n,onClick:r},u,c)),!k&&_?a.createElement("div",{className:o()(wi().videoIcon,wi().largeIcon),onClick:e=>{e.stopPropagation(),N(!0),setTimeout((()=>{(0,za.R5)(w.current,!0)}),50)},role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement(xa.np,{className:wi().icon})):null,k&&_?a.createElement("video",{ref:w,preload:"auto",className:wi().video,src:(0,d.VG)(_),onTimeUpdate:()=>{const e=l.current[f];e&&(e.currentTime=w?.current?.currentTime||0)},style:v,onVolumeChange:()=>{const e=w.current,t=l.current?.[f];t&&(t.muted=e?.muted)},muted:l.current?.[f]?.muted,controls:!0,controlsList:"nodownload noremoteplayback",disablePictureInPicture:!0,disableRemotePlayback:!0,"x-webkit-airplay":"deny"}):null)},Ci=e=>{let{items:t,list:n,showBigPicture:r,videoStatusList:o,alt:i,isRefresh:l,style:s,lazyImgParams:c,processInfo:u}=e;const{t:m}=(0,p.B)("goods"),{marginBottom:d}=s||{},g=e=>{r(n,+e)};return a.createElement("div",{className:wi().imgWrap,style:{marginBottom:d}},(t||[]).map(((e,t)=>{const{video:n,index:r}=e||{},s=`${i} ${r}`;return n?a.createElement(Ai,{data:e,isRefresh:l,alt:s,imgCls:wi().videoImg,onClickImage:()=>g(r),videoStatusList:o,processInfo:u,lazyImgParams:c}):e?.url?a.createElement("div",{key:t,className:wi().imgBox,onClick:()=>g(r),"data-index":r,role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement(Ln.A,(0,q.A)({key:e.url,src:e.url,className:wi().img,"data-index":e.index,role:"img","aria-label":m("main_gallery.goodsImage"),alt:s},u,c))):null})))},Ti=(0,i.PA)((function(e){let{item:t,style:n}=e;const{isRTL:r}=(0,Aa.Sz)(),{paddingTop:o,paddingBottom:i,marginBottom:l,align:s,backgroundColor:c}=n||{};return a.createElement("div",{className:wi().textDetail,style:{paddingTop:o,paddingBottom:i,marginBottom:l,backgroundColor:c,textAlign:r?ki[s]:s}},t?.map(((e,t)=>{const{text:n,textFormat:r}=e||{},{fontSize:o=12,fontColor:i="#777",fontWeight:l=400}=r||{};return a.createElement("div",{key:t,style:{fontSize:o,color:i,fontWeight:l}},n)})))}));var xi=(0,In.W4)({name:"GoodsDetailV2"})((0,i.PA)((()=>{const e=(0,N.Pj)(),{isSkc:t,webpEnable:n,goods:r,productDetail:i,productDetailFlatList:l,seoDataPageAlt:s,goodsProperty:c,goodsEnhanceProperty:u,isShowReport:m,favStore:d,showProductWarning:g,popLogin:h,description:f,moduleMap:y,isSEOSoldOut:_,isNormalStatus:E,showGoodsDetailModuleOptimized:b,goodsId:S,control:v}=e,{showSmallFavBtnPos:w}=d||{},{t:k}=(0,p.B)("goods"),{collapseProductDetails:C}=v?.detailSupportExperimentControl||{},T=(0,qo.d)(),[x,P]=(0,a.useState)(!1),[R,M]=(0,a.useState)(!1),[D,B]=(0,a.useState)(!1),L=(0,a.useRef)(null),O=`${s||r.goodsName||""} ${k("goodsDetail.altDetails")}`,{certificationProperty:W}=y?.productDetailExtensionModule?.data||{},z=(0,a.useRef)(new Array(l?.length||0).fill(0).map((()=>({currentTime:0,playing:!1,muted:!0,recover:za.lQ,stop:za.lQ})))),{onReportClick:F,prefetchReportData:U}=(0,jo.K)({goodsId:S,popLogin:h,logger:A.A,trackingInfo:Ni});(0,Ko.A)({ref:L,options:{threshold:.8},onEnter:()=>{!D&&B(!0)},onLeave:()=>{},deps:[]}),(0,a.useEffect)((()=>{if(D&&R){const e=document.getElementById("rightContent");"absolute"===e?.style?.position&&(0,en.L)((0,en.x)()+1)}}),[R]);const G=(e,t)=>{let{videoStatusList:n}=t;n&&(z.current=n,P(!x),z.current?.forEach((e=>{e.recover?.()})))},H=(0,a.useCallback)(((e,r)=>{z.current?.forEach((e=>{e.stop?.()}));const o=(0,vn.A)(a.createElement(a.Fragment,null,a.createElement(Jr.A,{webpEnable:n,isSkc:t,list:e,index:r,videoStatusList:z.current,callback:G,onClose:()=>{o?.()}}),a.createElement(Vo.A,{close:()=>o?.(),isActive:!0})),{})}),[]),j=(0,a.useMemo)((()=>i?.floorList?.length||c?.length||u?.length||g||y?.productDetailExtensionModule?.data?.dimensionIllustration?.entrance?.text||W),[i,c,f,g,y,W]);(0,a.useEffect)((()=>{!E||_||j||(0,A.A)("emptyGoodDetailV2",{fields:{imgLen:i?.floorList?.length||0,hasDetail:!(!c?.length&&!u?.length),hasNotice:!!g}})}),[]);const{productWarning:V,complianceInstructions:q}=r||{},K=g&&V?.tips?.filter((e=>!b||(!e.moveDisplayType||![ta.bottom,ta.bottomAndExpand].includes(e.moveDisplayType)))),$=[ta.bottom,ta.bottomAndExpand].includes(q?.moveDisplayType)&&b;return j?a.createElement("div",{className:o()(wi().goodsDetail)},(()=>{const e=w===oa.DETAIL;return m||e?a.createElement("div",{className:wi().titleWrap},a.createElement(I.H2,{className:wi().titleV2},k("goodsDetail.goodsDetailTitle")),a.createElement("div",{className:wi().favAndReportWrap},e?a.createElement(qa,null):null,!!m&&!!e&&a.createElement("div",{className:wi().divider}),!!m&&a.createElement(kn.Rp,{page_el_sn:220305},a.createElement("div",{className:wi().report,onClick:F,onMouseDown:U,tabIndex:0,role:"button","aria-haspopup":"dialog","aria-label":k("report.reportItem"),"data-aria-enter":"1"},a.createElement("span",{className:wi().reportItem},k("report.reportItem")),a.createElement(wn.A,{className:wi().arrow,alt:""}))))):a.createElement(I.H2,{className:wi().title},k("goodsDetail.goodsDetailTitle"))})(),r?.complianceInstructions?.text&&!$?a.createElement("div",{className:wi().complianceInstructions},r.complianceInstructions.text):null,u?.length?a.createElement(mi,null):null,c?.length?a.createElement(si,{showGoodsDetailModuleOptimized:b}):null,a.createElement(hi,null),b?null:a.createElement(a.Fragment,null,a.createElement(oi,null),a.createElement(Jo,null)),K?a.createElement(Ro.A,{productWarningList:K}):null,b?null:a.createElement(Io,null),a.createElement(vi,null),i?.floorList?.length?a.createElement(a.Fragment,null,a.createElement("div",{className:o()(wi().container,{[wi().containerShowAllPic]:R,[wi().containerHideAllPic]:1!==C&&!R,[wi().containerHideAllPic2]:1===C&&!R})},a.createElement("div",{className:wi().imgList},i?.floorList?.map(((e,t)=>{let{items:n,type:r,style:o}=e;return r===ea.text?a.createElement(Ti,{item:n,key:t,style:o}):a.createElement(Ci,{key:t,items:n,isRefresh:x,alt:O,style:o,videoStatusList:z,list:l,showBigPicture:H,lazyImgParams:T,processInfo:{progressWithImg:!0,progressBlurredCompressParams:xn.QH}})})))),a.createElement("div",{className:o()({[wi().sentinel]:1!==C,[wi().sentinel2]:1===C}),ref:L}),D&&!R?a.createElement("div",{className:wi().seeMoreContainer},a.createElement("div",{className:wi().seeMoreMask}),a.createElement(kn.Rp,{page_el_sn:221724},a.createElement("div",{className:wi().seeMoreWrap},a.createElement("div",{className:wi().seeMore,role:"button",tabIndex:0,onClick:()=>{M(!0)},"data-aria-enter":"1"},a.createElement("span",null,k("main_detail.seeMore")),a.createElement(xa._H,{className:wi().downArrow}))))):null):null):null}))),Pi=n(55085),Ri=n(42218),Mi=n(55350),Di=n(82304),Bi=n(65014),Li=n(70941),Oi=n.n(Li);var Wi=(0,Xt.A)((0,In.W4)({name:"ModuleAfterSale"}),i.PA)((()=>{const{t:e}=(0,p.B)("goods"),{moduleAfterSale:t}=(0,N.Pj)(),{servicePromiseTitle:n,iconUrl:r,servicePromiseDialogTitle:o,servicePromiseItemList:i}=t||{},{textRich:l}=n||{};if(!l?.length)return null;const s=l[l.length-1]?.fontColor||"#222222",c=l.map((e=>e?.type===di.aV.text?{...e,fontSize:16}:e));return a.createElement(kn.Rp,{page_el_sn:200359},a.createElement("div",{className:Oi().wrap,"aria-hidden":!0,onClick:()=>{i?.length&&((0,qn.P)({popupNode:a.createElement(yi.A,{title:o,onClose:qn.L},a.createElement("div",null,i?.map((e=>{const{icon:t,contentList:n,itemTitle:r,linkText:o,linkUrl:i}=e||{};return a.createElement("div",{className:Oi().part},a.createElement("div",{className:Oi().title},a.createElement(Ln.A,{className:Oi().titleIcon,src:t,alt:""}),a.createElement("span",{className:Oi().text},r)),a.createElement("div",{className:Oi().contentList},n?.map((e=>a.createElement("div",{className:Oi().listItem},e)))),o?a.createElement("div",{className:Oi().learnMore,onClick:()=>{i&&(0,Zt.MJ)(i)},role:"button",tabIndex:0,"data-aria-enter":"1"},o,a.createElement(wn.A,{className:Oi().rightIcon})):null)}))))}),(0,A.A)("ModuleAfterSalePopup"))},tabIndex:0,"data-aria-enter":"1","aria-label":e("accessibility.freeReturnPopup"),role:"button","aria-haspopup":"dialog"},!!r&&a.createElement(Ln.A,{src:r,className:Oi().icon,"aria-hidden":!0,alt:""}),a.createElement(I.H2,{className:Oi().richTextWrap},a.createElement(tr.l5,{newRichText:{...n,textRich:c},className:Oi().richText,style:{textAlign:"left",...s?{color:s}:{}}})),a.createElement(wn.A,{className:Oi().arrow,"aria-hidden":!0,style:s?{fill:s}:{}})))}));var zi=(0,Xt.A)((0,In.W4)({name:"AfterSale"}),i.PA)((()=>{const e=(0,N.Pj)(),{moduleAfterSale:t}=e;return t?.servicePromiseTitle?a.createElement(Wi,null):null})),Fi=n(71651),Ui=n.n(Fi);var Gi=(0,Xt.A)((0,In.W4)({name:"CodBenefit"}),i.PA)((()=>{const{t:e}=(0,p.B)("global"),{moduleMap:t}=(0,N.Pj)(),{codBenefit:n}=t?.codModule?.data||{},{title:r,desc:o,dialog:i}=n||{},{textRich:l}=r||{};if(!l?.length)return null;const s=l?.find((e=>e?.type===di.aV.text)),c=s?.fontColor||"#222222";return a.createElement(kn.nU,{page_el_sn:244037},a.createElement("div",{className:Ui().wrap,"aria-hidden":!0,onClick:()=>{const{title:t,content:n}=i||{};n?.length&&((0,qn.P)({popupNode:a.createElement(yi.A,{size:"md",onClose:qn.L,title:t,confirmButtonLabel:a.createElement(kn.nU,{page_el_sn:244038},a.createElement("div",null,e("OK"))),onConfirm:qn.L},a.createElement("div",{className:Ui().content},n.map(((e,t)=>a.createElement("div",{key:t,className:Ui().itemWrap},a.createElement("div",{className:Ui().dot}),a.createElement("div",{className:Ui().item},e))))))}),(0,A.A)("CodBenefitDialog"))},tabIndex:0,role:"button","aria-haspopup":"dialog","data-aria-enter":"1"},a.createElement("div",{className:Ui().title},a.createElement(I.H2,{className:Ui().richTextWrap},a.createElement(tr.l5,{newRichText:r,className:Ui().richText,style:{textAlign:"left",...c?{color:c}:{}}})),a.createElement(wn.A,{className:Ui().arrow,"aria-hidden":!0,style:c?{fill:c}:{}})),o?.textRich?.length?a.createElement(tr.l5,{className:Ui().contentWrap,newRichText:o,style:{textAlign:"left"}}):null))})),Hi=n(83288),ji=n(24478),Vi=n(22284);const qi=e=>{const{scene:t,url:n,grayConfig:r,prefetchConfig:o,pageName:i}=e,l={pageName:i,...o},s=(0,a.useMemo)((()=>(0,d.rE)({click_scene:t},n)),[n,t]),{prerender:c=0,delay:u=4e3}=r||{},m=(0,a.useMemo)((()=>({timestamp:!0,delay:u,callback:e=>(e=>{let{countCreatePrerenderUrl:t,pageName:n}=e;(0,Vi.A)({event:`prerender_link_append_4_${n}`,scene:11,errorCode:t<=1?1:0,indexValue:[t]})})({...e,pageName:i})})),[u]),{appendPrefetch:p}=(0,Hi.B)(l),g=(0,a.useCallback)((()=>{c&&l?.assetsApi&&p()}),[p,c]),{appendPrerender:h,onNavigate:f}=(0,ji.vN)({url:s,open:!!c,createPrerenderUrlPayload:m}),y=(0,a.useCallback)((e=>{1==+e?.buttons&&h()}),[h]),_=(0,a.useCallback)((()=>{if(!s)return null;f((e=>{let{url:n,countCreatePrerenderUrl:a}=e;(0,Vi.A)({scene:t,event:`goto${i}`,errorCode:t,extra:{url:n,gray:r},indexValue:[a]})}),{uniformForwardParams:{openTarget:"_blank"}})}),[r,f,t]);return{onMouseEnter:g,onMouseDown:y,onClick:_}},Ki=(e,t)=>{const{className:n,children:r,grayConfig:o,prefetchConfig:i,url:l,pageName:s,trackingInfo:c,...u}=e,{prerender:m=0}=o||{},d=(0,a.useRef)(!1),{onMouseEnter:p,onMouseDown:g,onClick:h}=qi({scene:11,grayConfig:o,prefetchConfig:i,url:l,pageName:s});return a.createElement("div",(0,q.A)({ref:t,role:"link",tabIndex:0,className:n,onMouseEnter:p,onMouseDown:e=>{d.current=!0,g(e)},onMouseUp:e=>{d.current=!1},onClick:e=>{c?.page_el_sn&&(0,ge.E0)(c),h()},onMouseLeave:e=>{m&&d.current&&(c?.page_el_sn&&(0,ge.E0)(c),h()),d.current=!1}},u),r)};var $i=(0,a.forwardRef)(Ki),Qi=n(83427),Yi=n.n(Qi);var Ji=(0,In.W4)({name:"TitleWithIcon"})((e=>{let{icon:t,iconProps:n={},title:r,color:i,hideArrow:l=!1,hideClickStyle:s=!0,style:c,className:u,arrowStyle:m,iconColor:d,...p}=e;return a.createElement("div",(0,q.A)({},p,{className:o()(Yi().leftTitle,u,!l&&s&&Yi().clickable),style:{...c,color:i}}),a.createElement(t,{className:o()(Yi().titleIcon,n.className),style:{fill:d||i},"aria-hidden":!0}),a.createElement(I.H2,{className:Yi().itemTitle,style:{color:i},"aria-hidden":!0},r),l?null:a.createElement(xa.hu,{"aria-hidden":!0,className:Yi().arrow,style:{fill:i,...m}}))})),Xi=n(60995),Zi=n.n(Xi);const el="confidence";var tl=function(e){return e[e.security=0]="security",e[e.delivery=1]="delivery",e}(tl||{});const nl=(0,i.PA)((function(e){let{data:t,grayConfig:n,url:r,trackingInfo:i}=e;const{title:l,titleColor:s,contentList:c}=t,{leftList:u,rightList:m}=(0,a.useMemo)((()=>{const e=[],t=[];return c.length<3?{leftList:c,rightList:t}:(c.forEach(((n,a)=>{a%2!=0?t.push(n):e.push(n)})),{leftList:e,rightList:t})}),[c]);return l?a.createElement(Cn.Nn,{className:Zi().infoItem},a.createElement($i,{url:r,pageName:el,grayConfig:n?.cp149563||{},"aria-label":l,trackingInfo:i},a.createElement("h3",{className:Zi().infoTitle,style:{color:s}},l),a.createElement("div",{className:Zi().list},a.createElement("div",{className:o()(m?.length?Zi().halfLeft:Zi().left)},u.map(((e,t)=>{let{text:n}=e;return a.createElement("div",{key:t,className:Zi().item,"aria-label":n},a.createElement(fi.A,{className:Zi().titleIcon,alt:""}),n)}))),!!m?.length&&a.createElement("div",{className:Zi().right},m.map(((e,t)=>{let{text:n}=e;return a.createElement("div",{key:t,className:Zi().item,"aria-label":n},a.createElement(fi.A,{className:Zi().titleIcon,alt:""}),n)})))))):null}));var al=(0,Xt.A)((0,In.W4)({name:"Commitment"}),i.PA)((()=>{const e=(0,N.Pj)(),{commitment:t,grayConfig:n}=e,{title:r,titleColor:i,subCommitmentList:l,landingUrl:s,iconUrl:c,subCommitmentLandingUrl:u}=t||{},[m,p]=(0,a.useState)(!0),g=(0,a.useRef)();(0,a.useEffect)((()=>{const e=()=>{const{splideRef:e}=g.current||{},t=e?.current?.splide;if(!t)return;const n=t.Components.Slides.get(),a=n.filter((e=>(0,An.Jj)(t.root,e.slide)))?.length;p(a<n.length)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const h=e=>{const{splideRef:t}=g.current||{},n=t.current?.splide;if(!n)return;const a=n.index,r=n.Components.Slides.get(),o=r.filter((e=>(0,An.Jj)(n.root,e.slide)))?.length,i="next"===e?a+o:a-o;n.go(Math.max(r?.[0].index,Math.min(i,r?.[r?.length-1].index)))};return r?a.createElement(kn.Rp,{page_el_sn:227190,useClick:!1},a.createElement("div",{className:Zi().wrap},a.createElement(kn.Rp,{page_el_sn:227191},a.createElement($i,{url:s,pageName:el,grayConfig:n?.cp149563||{},"aria-label":r},a.createElement(Ji,{icon:e=>{let{className:t}=e;return c?a.createElement(Ln.A,{src:c,className:t,"aria-hidden":!0,resizeWidth:40,alt:""}):null},title:r,color:i}))),!!l?.length&&a.createElement(kn.Rp,{page_el_sn:227192,useClick:!1},a.createElement("div",{className:o()(Zi().contentItem,{[Zi().arrowSpace]:m})},a.createElement(An.pM,{ref:g,customArrows:a.createElement("div",{className:o()("splide__arrows",Zi().arrowMask)},a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--prev",Zi().leftArrow,Zi().arrow),role:"button"},a.createElement($a.A,{direction:"left",className:Zi().baseArrowBtn,innerArrowClassName:Zi().innerArrowIcon,onClick:()=>h("prev")})),a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--next",Zi().rightArrow,Zi().arrow),role:"button"},a.createElement($a.A,{direction:"right",className:Zi().baseArrowBtn,innerArrowClassName:Zi().innerArrowIcon,onClick:()=>h("next")}))),onMoved:(e,t,n)=>{(0,ge.OS)({page_el_sn:227192,op:t>n?"right_slide":"left_slide"})},trackClassName:Zi().trackClassName},l.map(((e,t)=>a.createElement(nl,{data:e,key:t,grayConfig:n,url:u?.[t]||(s?(0,d.rE)({target:tl[t]},s):""),trackingInfo:{page_el_sn:227192,content_type:t}})))))))):null})),rl=n(86080),ol=n(79481),il=n(12377),ll=n.n(il);const sl=e=>{let{richText:t=[],ignoreFontSize:n,basicStyleConfig:r,DialogComponent:i,isSingleShipping:l,hideDeliveryCompany:s,etc:c,maxDisplayProvider:u}=e;const{t:m}=(0,p.B)("goods"),d=(0,a.useRef)(null),g=(0,a.useRef)(null),{image:h,delimeter:f}=r||{},{marginRight:y}=h||{},_=(0,a.useMemo)((()=>{if(u){let e=0;return t?.filter((t=>{const{type:n,image:a}=t||{};return 1===n&&a?.url&&(e+=1),e<=u}))}return t}),[t,u]),E=_?.length<t?.length,[b,S]=(0,a.useState)(_||[]),[v,I]=(0,a.useState)(!1),w={type:101,text:c||m("deliveryEtc"),etc:!0,style:{color:"#222"}},k={type:2,text:"",customType:1,etc:!0};return(0,a.useEffect)((()=>{if(!d.current||!_?.length)return void I(!0);const e=d.current.children,t=d.current.parentElement,n=(t?.clientWidth??320)-24-(g.current?.clientWidth||24);let a=0;const r=[];let o=0;for(let t=0;t<e.length;++t){const r=e[t],{width:i}=r?.getBoundingClientRect?.()||{},{type:l,etc:s}=r?.dataset||{};if(s||(a+=i),"1"===l){if(a>n)break;o++}}if(a<n){I(!0);const e=b[b?.length-1]?.etc;return void(s&&!e?S((e=>[...e,k,w])):E&&S((()=>[..._,w])))}if(0===o)return S(_.slice(0,3)),void I(!0);for(let e=0;e<_.length&&(r.push(_[e]),1===_[e]?.customType&&o--,!(o<=0));++e);const i=_.filter((e=>1===e.type))?.length,l=r.filter((e=>1===e.type))?.length;(i-l>0||E)&&r.push(w),S(r),I(!0)}),[_]),a.createElement("div",{className:o()(ll().wrap,{[ll().multipleText]:!l,[ll().singleText]:l,[ll().nowrap]:l&&!v}),ref:d,style:{visibility:v?"visible":"hidden"}},b.map(((e,t)=>{const{type:r=0}=e||{};switch(r){case 1:return a.createElement("div",{className:ll().subText,key:t},a.createElement(ol._V,{item:e,imageMarginRight:y,resizeWidth:100,alt:""}));case 2:case 4:return a.createElement("div",{className:ll().subText,"data-type":e.customType,key:t,"data-etc":e.etc},1===e.customType?a.createElement("span",{key:t,className:ll().dot}):a.createElement(ol.er,{item:e,delimeterConfig:f}));case 101:return a.createElement("div",{className:ll().subText,key:t,"data-etc":e.etc},a.createElement("span",{"aria-label":e.text,style:e.style},e.text));default:return a.createElement("div",{className:o()(ll().subText,ll().firstText),key:t},a.createElement(ol.EY,{item:e,ignoreFontSize:n,DialogComponent:i,type:r}))}})),a.createElement("div",{className:ll().etcWrap,ref:g},a.createElement("span",{"aria-label":w.text,style:w.style},w.text)))};var cl=(0,In.W4)({name:"CompanyDisplay"})((0,a.memo)(sl)),ul=n(44101),ml=n(32495),dl=n(18972),pl=n.n(dl);const gl=e=>{let{popText:t,logoUrl:n,btnText:r}=e;const o=e=>{(0,ge.E0)({page_el_sn:e}),(0,qn.L)({})};return a.createElement(yi.A,{onClose:()=>o(231771),onConfirm:()=>o(231772),confirmButtonLabel:r},a.createElement(kn.nU,{page_el_sn:231770,useClick:!1},a.createElement("div",{className:pl().wrap},n?a.createElement(Ln.A,{src:n,resizeWidth:500,className:pl().img}):null,a.createElement("div",{className:pl().text},t))))};(0,In.W4)({name:"CooperateInfoPopup"})(gl);var hl=n(63622),fl=n.n(hl);const yl=e=>{let{onClose:t,title:n,list:r}=e;return a.createElement(Ka.Ay,{onClick:t},a.createElement("div",{className:fl().wrap},a.createElement("div",{className:fl().title},n),a.createElement("div",{className:fl().content},r.map(((e,t)=>{const{title:n,desc:r}=e;return a.createElement("div",{className:fl().part,key:t},a.createElement("div",{className:fl().index},t+1),a.createElement("div",{className:fl().subTitle},n),a.createElement("div",{className:fl().desc},r))})))))};var _l=n(12449),El=n.n(_l);const bl=e=>{let{percent:t,processCls:n=""}=e;const r=(0,a.useMemo)((()=>{const e={width:`${t}%`};return 0===t?{...e,minWidth:0}:e}),[t]);return a.createElement("span",{className:o()(El().progress,n)},a.createElement("i",{className:El().progressBar,style:r}))};var Sl=(0,a.memo)(bl),vl=n(50544),Il=n.n(vl);const wl=5,kl=e=>{let{data:t,className:n,labelCls:r="",processCls:i="",numCls:l="",isFold:s,showNum:c=wl,useMaxProcessForBenchmark:u}=e;const{t:m}=(0,p.B)("goods"),d=s&&t?.length>c,[g,h]=(0,a.useState)(d),[f,y]=(0,a.useState)((()=>d?t.slice(0,c):t)),_=(0,a.useMemo)((()=>Math.max(...t?.map?.((e=>e.percentage))||[])),[t]);return f?.length?a.createElement("div",{className:o()(Il().timeDistributed,n)},a.createElement("div",{className:Il().timeList},f.map((e=>{const t=u&&_>0?e.percentage/_*100:e.percentage/100;return a.createElement(a.Fragment,null,a.createElement("div",{key:e.name,className:o()(Il().label,r,e.highlight&&Il().highlight)},e.name),a.createElement("div",{key:e.percentage,className:Il().processWrap},a.createElement(Sl,{processCls:o()(Il().process,i),percent:t})),a.createElement("div",{key:e.percentageStr,className:o()(Il().num,l)},e.percentageStr||e.percentage/100+"%"))}))),g?a.createElement("div",{className:Il().seeMore,onClick:()=>{y(t),h(!1)}},a.createElement("span",{className:Il().seeMoreText},m("main_detail.seeMore")),a.createElement(Po.A,{className:Il().arrow})):null):null};var Nl=(0,a.memo)(kl),Al=n(80932),Cl=n.n(Al);const Tl=e=>{let{activePopupInfo:t,curIndex:n,activeIndex:r,uploadContainerRef:i,etc:l,webpEnable:s,timeDistributedGrayData:c}=e;const{t:u}=(0,p.B)("goods"),{content:m,deliveryType:d,pickUp:g,environmentInfo:h,extInfoV2:f,airChangeToSeaExplain:y,extInfoRich:_}=t||{},{clickToGuide:E,explanationList:b,explanationTitle:S}=g||{},v=t.table||{},I=(0,a.useMemo)((()=>t.timeDistributed||[]),[t.timeDistributed]),{deliveryTimelinessStyle:w,deliveryTimelinessMaxNum:k}=c||{},N=t?.extInfo||"",{costsTitle:A,costsValue:C,deliveryCompanyTitle:T,deliveryCompanyValue:x,deliveryTimeTitle:P,deliveryTimeValue:R,creditCompensationTitle:M,creditCompensationValue:D,gradientCostValue:B,gradientCostTitle:L,gradientOrderAmountTitle:O,gradientOrderAmountValue:W,hideDeliveryCompany:z}=v||{},[F,U]=(0,a.useState)(!0),[G,H]=(0,a.useState)(!1),j=(0,a.useRef)(null),V=(0,a.useRef)(null),q=(0,a.useMemo)((()=>[{key:O,val:W},{key:L,val:B},{key:M,val:D}].filter((e=>!ua()(e.key?.[0])&&!ua()(e.val?.[0])))),[M,D,L,B,O,W]),K=q?.reduce(((e,t)=>Math.max(t?.val?.length||0,e)),1),$=(0,a.useRef)(null);(0,a.useEffect)((()=>{i($)}),[]);let Q={visibility:"hidden",position:"fixed",zIndex:-1e3};r===n&&(Q={visibility:"visible",position:"static",zIndex:0}),(0,a.useEffect)((()=>{if(V.current&&j.current){if(H(!0),V.current?.offsetHeight>j.current?.offsetHeight)return U(!1);U(!0)}}),[j.current,V.current]);const Y=()=>{const e=(0,vn.A)(a.createElement(yl,{title:S,list:b,onClose:()=>e()}),{})},J=()=>{U(!0)},X=C?.length>1,Z=e=>{let{popText:t,coLogo3:n}=e;t&&n?.logoUrl&&(e=>{let{popText:t,logoUrl:n,btnText:r}=e;(0,qn.P)({popupNode:a.createElement(gl,{logoUrl:n,popText:t,btnText:r})})})({popText:t,logoUrl:n.logoUrl,btnText:u("cooperateInfoPopup.btnText")})};return a.createElement("div",{className:o()(Cl().container,`deliveryPopupContent${n}`),style:Q,ref:$},(()=>{const{coLogo2:e,coLogo3:n,logoText:r,popText:o,wordColor:i,backColor:l}=t?.cooperateInfo||{};return a.createElement(a.Fragment,null,e?.logoUrl&&r?a.createElement(kn.nU,{page_el_sn:231788,useClick:!1},a.createElement("div",{className:Cl().cooperateInfo,onClick:()=>Z(t?.cooperateInfo),style:{...l?{backgroundColor:l}:{}},"aria-hidden":!0},a.createElement(Nn.Ay,{className:Cl().cooperateInfoImg,src:e.logoUrl,resizeWidth:700,alt:""}),a.createElement("div",{className:Cl().cooperateInfoRight},a.createElement("span",{className:Cl().cooperateInfoText,style:{...i?{color:i}:{}}},r),o&&n?.logoUrl?a.createElement(Ft.hu,{className:Cl().cooperateInfoArrow,style:{...i?{fill:i}:{}}}):null))):null)})(),a.createElement("div",{className:Cl().tableContainer},a.createElement("div",{className:Cl().tabContent},(()=>{const e=e=>a.createElement("div",{className:Cl().rowLeftText},a.createElement(ml.sD,{richText:e})),t=e=>a.createElement(ml.sD,{richText:e});return a.createElement("table",{className:Cl().newTable,cellSpacing:0,cellPadding:0},a.createElement("tbody",null,T&&x?a.createElement("tr",null,a.createElement("td",{className:o()(Cl().rowLeft,Cl().cell)},e(T)),a.createElement("td",{className:o()(Cl().rowRight,Cl().cell,Cl().companyCell),colSpan:K},z?a.createElement("div",{className:Cl().companyContent},x?.map((e=>{const{logoUrl:t,name:n}=e||{};return a.createElement("span",{className:Cl().company},a.createElement(Nn.Ay,{src:t,resizeWidth:100,webpEnable:s,className:Cl().companyIcon,alt:""}),n)})),a.createElement("span",{className:Cl().etc},l)):a.createElement("div",{className:Cl().companyWrap,ref:j,style:G&&F?{maxHeight:"unset"}:{}},a.createElement("div",{className:Cl().companyContent,ref:V},x?.map((e=>{const{logoUrl:t,name:n}=e||{};return a.createElement("span",{className:Cl().company},a.createElement(Nn.Ay,{src:t,resizeWidth:100,webpEnable:s,className:Cl().companyIcon,alt:""}),n)}))),!F&&G?a.createElement("div",{className:Cl().arrowWrap},a.createElement("div",{className:Cl().mask}),a.createElement(Ft.hu,{direction:"bottom",className:Cl().downArrow,onClick:J})):null))):null,P&&R?a.createElement("tr",null,a.createElement("td",{className:o()(Cl().rowLeft,Cl().cell)},e(P)),a.createElement("td",{className:o()(Cl().rowRight,Cl().cell),colSpan:K},t(R))):null,A&&C?a.createElement("tr",null,a.createElement("td",{className:o()(Cl().rowLeft,Cl().cell)},e(A)),a.createElement("td",{className:o()(Cl().rowRight,Cl().cell),colSpan:K},C?.map((e=>a.createElement("div",null,e.ladderContent?.map((e=>a.createElement(a.Fragment,null,X?a.createElement("span",{className:Cl().costValueDot},""):null,a.createElement("span",null,e.text))))))))):null,q.map((n=>(n=>{let{key:r=[{text:12345}],val:i=[[{text:6789}],[{text:6789}]]}=n;return a.createElement("tr",null,a.createElement("td",{className:o()(Cl().rowLeft,Cl().cell)},e(r)),i?.map((e=>a.createElement("td",{className:o()(Cl().rowRight,Cl().cell)},t(e)))))})(n)))))})()),_?.length?a.createElement(a.Fragment,null,_.map(((e,t)=>a.createElement(tr.l5,{newRichText:e,style:{textAlign:"left"},className:Cl().seaExplain,key:t})))):null,!!N&&a.createElement("div",{className:Cl().extInfo},a.createElement("div",{className:Cl().extBox},a.createElement(xa.JE,{className:Cl().extIcon}),a.createElement("span",{className:Cl().extHide},"!")),a.createElement("span",{className:Cl().extText},N)),4===d&&E?a.createElement("div",{className:Cl().howClickWorks,onClick:Y,"aria-hidden":!0},E,a.createElement(wn.A,{className:Cl().rightArrow})):null,(()=>{const{title:e,detail:t}=f||{};return e||t?a.createElement("div",{className:Cl().extraInfoV2},e?a.createElement("div",{className:Cl().extraInfoV2Title},e):null,t?a.createElement("div",{className:Cl().extraInfoV2Detail},a.createElement(an.d,null,a.createElement(xa.JE,{className:Cl().informationIcon})),a.createElement("span",null,t)):null):null})(),y?.textRich?.length?a.createElement(tr.l5,{newRichText:y,style:{textAlign:"left"},className:Cl().seaExplain}):null),m?a.createElement("div",{className:Cl().content},m):null,a.createElement(Nl,{className:o()({[Cl().timeTop]:I.length&&m,[Cl().timeTopNoContent]:I.length&&!m}),data:I,isFold:[ra.Fold,ra.All].includes(w),useMaxProcessForBenchmark:[ra.UseMaxProcessForBenchmark,ra.All].includes(w),showNum:k}),(()=>{const{title:e,desc:t}=h||{};return e?a.createElement("div",{className:Cl().environment},a.createElement("div",{className:Cl().environmentTitle},a.createElement(ul.A,{className:Cl().environmentIcon}),a.createElement("span",{className:Cl().environmentText},e)),a.createElement("div",{className:Cl().environmentDesc},t)):null})())};var xl=(0,a.memo)((function(e){let{closePopup:t,popupInfo:n,index:r,etc:i,webpEnable:l,shippingDetailTitle:s,timeDistributedGrayData:c}=e;const{t:u}=(0,p.B)("goods"),m=n||[],[d,g]=(0,a.useState)(+r||0),h=[],[f,y]=(0,a.useState)("auto"),_=(0,a.useRef)(null),E=!!s,b=(0,a.useCallback)((e=>{h.push(e)}),[]);(0,a.useEffect)((()=>{const e=(0,za.nF)((()=>{let e=0;h.forEach((t=>{const n=t.current;if(!n)return;const a=n.clientHeight;e=Math.max(e,a)}));const t=Math.floor(.8*window.innerHeight-127-10);y(`${Math.min(t,e)}px`)}));return e(),window.addEventListener("resize",e),(0,A.A)("DeliveryPopup"),()=>window.removeEventListener("resize",e)}),[]),(0,a.useEffect)((()=>{_.current&&(_.current.scrollTop=0)}),[d]);const S=()=>a.createElement("div",{className:Cl().containerWrap,style:{height:f},ref:_},(m||[]).map(((e,t)=>a.createElement(Tl,{key:`${n[t]?.name}${t}`,activePopupInfo:e,curIndex:t,activeIndex:d,uploadContainerRef:b,etc:i||u("deliveryEtc"),webpEnable:l,timeDistributedGrayData:c}))));return a.createElement(Ka.Ay,{onClick:t,useSplitBg:!0},a.createElement(kn.nU,{page_el_sn:203753,useClick:!1},a.createElement("div",{className:o()(E?Cl().localWrap:Cl().wrap)},n?.length?E?a.createElement("div",{className:Cl().headWrap},a.createElement("div",{className:Cl().localTitle},s),n?.length>1?a.createElement("div",{className:Cl().localHead},n.map(((e,t)=>{const n=d===t;return a.createElement("div",{className:o()(Cl().localTabTitle,{[Cl().active]:n}),key:t,onClick:()=>{g(t)},"aria-hidden":!0},e.name,n?a.createElement("span",{className:Cl().bar}):null)}))):null):1===n?.length?a.createElement("div",{className:Cl().head},a.createElement("div",{className:o()(Cl().title,Cl().active,Cl().single)},n[0]?.name)):a.createElement("div",{className:Cl().head},n.map(((e,t)=>{const n=d===t;return a.createElement("div",{className:o()(Cl().title,{[Cl().active]:n}),key:t,onClick:()=>{g(t)},"aria-hidden":!0},e.name,n?a.createElement("span",{className:Cl().bar}):null)}))):null,E?a.createElement("div",{className:Cl().detailContent},S()):S())))})),Pl=n(55095),Rl=n(62605),Ml=n.n(Rl);function Dl(e){let{content:t}=e;const n=(0,a.useRef)(null),[r,i]=(0,a.useState)(!1),[l,s]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(n.current){n.current.scrollHeight>38&&i(!0)}}),[]),a.createElement("div",{className:o()(Ml().threshold,r&&Ml().clickable),onClick:()=>{l||(i(!1),s(!0))},role:"button",tabIndex:r?0:-1},a.createElement("div",{className:o()(Ml().thresholdContent,l&&Ml().thresholdContentShowAll)},a.createElement("div",{className:Ml().thresholdRich,ref:n},t)),a.createElement(xa.Uj,{className:Ml().bubbleArrow}),r?a.createElement("div",{className:Ml().arrowWrap},a.createElement(Po.A,{className:Ml().arrow})):null)}const Bl=e=>{let{shippingFloatingLayer:t,timeDistributedGrayData:n}=e;const{title:r,shippingMethodInfo:i,explainInfo:l,explainInfoExt:s,timeDistributed:c,content:u,timeDistributedExplain:m,timeDistributedTitle:d,deliveryTag:p,deliveryTagExplain:g,extInfoRich:h}=t||{},{deliveryTimelinessStyle:f,deliveryTimelinessMaxNum:y}=n||{};return a.createElement(yi.A,{title:a.createElement("div",{className:Ml().titleBlock},a.createElement(tr.l5,{newRichText:r,className:Ml().title}),p?a.createElement(tr.l5,{newRichText:p,className:Ml().deliveryTag}):null),size:"l",onClose:qn.L},a.createElement(a.Fragment,null,i?.length?a.createElement("div",{className:Ml().content},i.map(((e,t)=>a.createElement("div",{className:Ml().infoItem,key:t},e?.map(((e,t)=>e?.action?.type===di.E.localShippingStyle?a.createElement(Dl,{content:a.createElement(tr.l5,{newRichText:e,style:{textAlign:"left"}}),key:t}):a.createElement(tr.l5,{newRichText:e,key:t,style:{textAlign:"left"}}))))))):null,h?.length?a.createElement("div",{className:Ml().extInfoRich},h.map(((e,t)=>a.createElement(tr.l5,{newRichText:e,style:{textAlign:"left"},className:Ml().extInfoRichItem,key:t})))):null,l?a.createElement(tr.l5,{newRichText:l,className:o()(Ml().explainInfo,h?.length&&Ml().hasRichExplain),style:{textAlign:"left"}}):null,s?a.createElement(tr.l5,{newRichText:s,className:Ml().explainInfo,style:{textAlign:"left"}}):null,d?a.createElement("div",{className:Ml().timeDistributedTitle},d):null,u?a.createElement("div",{className:Ml().contentText},u):null,g?a.createElement(tr.l5,{newRichText:g,className:Ml().deliveryTagExplain,style:{textAlign:"left"}}):null,c?.length?a.createElement(Nl,{data:c,isFold:[ra.Fold,ra.All].includes(f),useMaxProcessForBenchmark:[ra.UseMaxProcessForBenchmark,ra.All].includes(f),showNum:y}):null,m?a.createElement(Pl.Fc,{classConfig:{text:Ml().timeDistributedExplain},message:m,type:Pl.SK.text,status:Pl.WH.grayText}):null))};var Ll=n(77211),Ol=n.n(Ll);var Wl=(0,Xt.A)((0,In.W4)({name:"OrderThresholdTips"}),i.PA)((()=>{const e=(0,N.Pj)(),{moduleMap:t}=e,{tipRich:n}=t?.orderThresholdTips?.data||{},r=e=>{e?.type===di.E.tips&&e?.content?.content&&(e=>{const{title:t,content:n,confirmText:r}=e||{};(0,qn.P)({popupNode:a.createElement(yi.A,{title:t,onClose:qn.L,confirmButtonLabel:r,onConfirm:qn.L},a.createElement("div",{className:Ol().popContent},n))}),(0,A.A)("showOrderThresholdPopup")})(e.content)};if(n?.textRich?.length){const{textRich:e,action:t}=n;return a.createElement("div",{className:Ol().wrap},a.createElement(tr.l5,{newRichText:n,style:{textAlign:"left",color:e?.[1]?.fontColor},showPopup:r,showPopupWhiteList:[di.E.tips],className:Ol().richText}),a.createElement(wn.A,{className:Ol().arrow,onClick:()=>r(t)}))}return null})),zl=n(70408),Fl=n.n(zl);const Ul=e=>{let{data:t,labelCls:n="",processCls:r="",numCls:i=""}=e;const l=(0,a.useMemo)((()=>{const e=[],n=[],a=[];return t?.forEach((t=>{e.push({highlight:t.highlight,name:t.name}),n.push(t.percentage),a.push(t.percentageStr||t.percentage/100+"%")})),{timeDistributedNameList:e,timeDistributedProgressList:n,timeDistributedPercentageList:a}}),[t]);return t?.length?a.createElement("div",{className:Fl().timeList},a.createElement("div",{className:Fl().timeNameList},l.timeDistributedNameList.map(((e,t)=>a.createElement("div",{key:t,className:o()(Fl().label,e.highlight&&Fl().highlight,Fl().timeRawItem,n)},e.name)))),a.createElement("div",{className:Fl().timeBarList},l.timeDistributedProgressList.map(((e,t)=>a.createElement("div",{className:Fl().timeRawItem},a.createElement(Sl,{processCls:r,key:t,percent:e/100}))))),a.createElement("div",{className:Fl().percentageList},l.timeDistributedPercentageList.map(((e,t)=>a.createElement("div",{key:t,className:o()(Fl().num,Fl().timeRawItem,i)},e))))):null};var Gl=(0,a.memo)(Ul),Hl=n(73055),jl=n.n(Hl);const Vl=e=>{let{data:t,titleHideDialog:n}=e;const{name:r,content:o,type:i,timeDistributed:l}=t||{};return 2===i&&n?a.createElement("div",{className:jl().expressTableWrap},o?a.createElement("div",{className:jl().content},o):null,a.createElement("div",{className:jl().timeList},a.createElement(Gl,{data:l,processCls:jl().processCls}))):a.createElement("div",{className:jl().bubble},r?a.createElement("div",{className:jl().bubbleTitle},r):null,a.createElement("div",{className:jl().bubbleContent},o))},ql=e=>{let{overlay:t,placement:n,questionIconClass:r,onVisibleChange:i}=e;return a.createElement(Yr.A,{appendToBody:!0,adapted:!0,overlay:t,placement:n||"bottom",onPopoverVisibleChange:i},a.createElement(Qr.A,{className:o()(r,jl().questionIcon)}))},Kl=e=>{let{dialog:t}=e;return a.createElement(ql,{overlay:a.createElement(Vl,{data:t,titleHideDialog:!1})})},$l=e=>{let{cooperateInfo:t}=e;if(!t?.coLogo1?.logoUrl||!t?.logoText)return null;const{wordColor:n,backColor:r}=t||{};return a.createElement(kn.nU,{page_el_sn:231786,useClick:!1},a.createElement("div",{className:jl().cooperateInfo,style:{...r?{backgroundColor:r}:{}}},a.createElement(Ln.A,{className:jl().cooperateInfoImg,src:t.coLogo1.logoUrl,resizeWidth:500,alt:""}),a.createElement("span",{className:jl().cooperateInfoText,style:{...n?{color:n}:{}}},t.logoText)))},Ql=e=>{let{expectShippingInfo:t}=e;if(!t?.estShipText)return null;const{estShipText:n,expectShippingWindow:r}=t||{};return a.createElement(kn.nU,{page_el_sn:234545,useClick:!1},a.createElement("div",{className:jl().estShipWrap},a.createElement("span",{className:jl().estShipText},n),r?a.createElement(Yr.A,{appendToBody:!0,adapted:!0,overlay:(()=>{const{windowTitle:e,windowUpperText:t,windowLowerText:n}=r||{};return a.createElement(kn.nU,{page_el_sn:234546,useClick:!1},a.createElement("div",{className:jl().expectShippingPopup},a.createElement("div",{className:jl().expectShippingTitle},e),a.createElement("div",{className:jl().expectShippingTextInterval},t),a.createElement("div",{className:jl().expectShippingTextInterval},n)))})()},a.createElement(Qr.A,{className:jl().estShipIcon})):null))},Yl=(0,i.PA)((function(e){let{data:t,onClick:n,basicStyleConfig:r,etc:i,maxDisplayProvider:l}=e;const s=t?.some((e=>!!e?.textRichList?.length)),[c,u]=(0,a.useState)(s>1),{t:m}=(0,p.B)("goods"),d=(0,a.useRef)();(0,a.useEffect)((()=>{const e=()=>{const{splideRef:e}=d.current||{},t=e.current?.splide;if(!t)return;const n=t.Components.Slides.get(),a=n.filter((e=>(0,An.Jj)(t.root,e.slide)))?.length;u(a<n.length)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const g=e=>{let{deliveryType:t}=e;return e=>{t&&(0,ge.OS)({op:"click",page_el_sn:1===t?203757:203755}),n(e)}};if(!s)return null;const h=e=>{(0,Tn.ev)(e,d,5)};return a.createElement("div",{className:o()(jl().contentItem,{[jl().arrowSpace]:c})},a.createElement(An.pM,{ref:d,customArrows:a.createElement("div",{className:o()("splide__arrows",jl().arrowMask)},a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--prev",jl().leftArrow,jl().arrow),role:"button"},a.createElement($a.A,{direction:"left",className:jl().baseArrowBtn,tabIndex:0,"data-aria-enter":"1",innerArrowClassName:jl().innerArrowIcon,onClick:()=>h("prev")})),a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--next",jl().rightArrow,jl().arrow),role:"button"},a.createElement($a.A,{direction:"right",tabIndex:0,"data-aria-enter":"1",className:jl().baseArrowBtn,innerArrowClassName:jl().innerArrowIcon,onClick:()=>h("next")}))),trackClassName:jl().trackClassName},t.map(((e,n)=>{let{textRichList:o,shippingDetailIndex:s,cooperateInfo:c}=e;return o?.length?a.createElement(Cn.Nn,{key:n,className:jl().infoItem,"data-index":s,onClick:g(t[n]),role:"button",tabIndex:0,"data-aria-enter":"1","aria-label":m("accessibility.shipDetail")},o.map(((e,n)=>(e||[]).filter((e=>1===e.customType)).length>0?a.createElement(cl,{richText:e,key:n,maxDisplayProvider:l,basicStyleConfig:r,ignoreFontSize:!0,DialogComponent:Kl,etc:i,hideDeliveryCompany:t?.hideDeliveryCompany}):a.createElement(ol.Ay,{key:n,className:jl().infoText,richText:e,ignoreFontSize:!0,DialogComponent:Kl,basicStyleConfig:r}))),a.createElement($l,{cooperateInfo:c})):null}))))}));var Jl=(0,Xt.A)((0,In.W4)({name:"Delivery"}),i.PA)((e=>{let{isScrolling:t}=e;const{t:n}=(0,p.B)("goods"),r=(0,N.Pj)(),{delivery:i,optimalSku:l,webpEnable:s,querySkuInfo:c,skuInfoMap:u,control:m,goods:d}=r,{isLocalGoods:g}=d,{skuId:h}=l||{},f=u[h]?.delivery,[y,_]=(0,a.useState)(i||{}),{title:E,titleColor:b,descList:S,shippingDetail:v,titleHideDialog:I,etc:w,titleRich:k,shippingFloatingLayer:A,shippingDetailTitle:C,subtitleRich:T,maxDisplayProvider:x}=y||{},P=!!k?.textRich?.length,R=(0,a.useMemo)((()=>{const{textRich:e}=k||{};return e?.length?e?.slice()?.reverse()?.find((e=>e.type===di.aV.text&&e.fontColor))?.fontColor:""}),[k]),M=Object.keys(i).length>0,D=(0,a.useMemo)((()=>({image:{marginRight:"3px"},delimeter:{margin:"0 5px",color:"#CDCDCD",opacity:1}})),[]),B=(0,a.useCallback)((e=>{if(g&&A)return void(e=>{let{shippingFloatingLayer:t,timeDistributedGrayData:n={}}=e;(0,qn.P)({popupNode:a.createElement(Bl,{shippingFloatingLayer:t,timeDistributedGrayData:n})})})({shippingFloatingLayer:A});if(!v?.length)return;const t=e.currentTarget.dataset?.index,n=(0,vn.A)(a.createElement(a.Fragment,null,a.createElement(xl,{popupInfo:v,shippingDetailTitle:C,index:t,etc:w,webpEnable:s,closePopup:()=>{n?.()}}),a.createElement(Vo.A,{close:()=>n?.(),isActive:!0})),{})}),[w,g,v,C,s]);(0,a.useEffect)((()=>{h&&f&&_(f)}),[f,h]),(0,a.useEffect)((()=>{m?.defaultSkuId||M||c()}),[]);const L=(0,a.useCallback)((e=>t=>{const{type:n}=e||{};t&&2===n&&(0,ge.OS)({op:"impr",page_el_sn:203753})}),[]),O=(0,a.useMemo)((()=>({className:jl().icon})),[]),W=(0,a.useMemo)((()=>k?.textRich?.find((e=>e.pcExtra?.arrowColor))?.pcExtra?.arrowColor),[k]),z=(0,a.useMemo)((()=>({...W?{fill:W}:void 0,...P?{marginTop:5}:void 0})),[W,P]);return E||P?a.createElement("div",{className:jl().item},a.createElement(Ji,{onClick:B,role:"button","aria-label":n("accessibility.deliveryEntry"),tabIndex:0,"data-aria-enter":"1",iconProps:O,icon:rl.A,title:P?a.createElement(tr.l5,{style:{color:R},newRichText:k,className:jl().richTitle}):E,color:P&&R||b,iconColor:b,className:o()(g&&jl().localTitle,{[jl().richTitleWrap]:P}),arrowStyle:z,hideClickStyle:!P}),T?.textRich?.length?a.createElement("div",{className:jl().subTitle,onClick:B,role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement(tr.l5,{newRichText:T,style:{textAlign:"left",lineHeight:"19px"}})):null,a.createElement("div",{className:jl().contentWrapper},(S||[]).map(((e,n)=>{const{type:r,textRich:o,dialog:i,descInfoList:l,hideDeliveryCompany:s,cooperateInfo:c,expectShippingInfo:u,newTextRich:m}=e;if(r===aa.Cart)return a.createElement(Yl,{key:n,maxDisplayProvider:x,data:l,onClick:B,basicStyleConfig:D,etc:w});if(r===aa.CooperateInfo&&c)return a.createElement("div",{className:jl().contentItem,key:n,onClick:B,role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement($l,{cooperateInfo:c}));if(r===aa.ExpectShippingInfo&&u)return a.createElement("div",{className:jl().contentItem,key:n,onClick:B,role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement(Ql,{expectShippingInfo:u}));if(m?.textRich?.length)return a.createElement("div",{className:jl().newContentItem,key:n,tabIndex:0,"data-aria-enter":"1",role:"link",onClick:B,"data-index":0},a.createElement(tr.l5,{newRichText:m,style:{textAlign:"left"}}));const d=(o||[]).filter((e=>1===e.customType)).length>0;return a.createElement("div",{className:jl().contentItem,key:n,"aria-label":(0,za.ft)(o),tabIndex:0,role:"link",onClick:B,"data-aria-enter":"1","data-index":0},d?a.createElement(cl,{richText:o,maxDisplayProvider:x,basicStyleConfig:D,ignoreFontSize:!0,DialogComponent:Kl,isSingleShipping:!0,etc:w,hideDeliveryCompany:s}):a.createElement(ol.Ay,{richText:o,ignoreFontSize:!0,className:jl().richFlex,renderExtraContent:()=>(e=>e?.content?a.createElement(ql,{"aria-hidden":!0,overlay:!t&&a.createElement(Vl,{data:e,titleHideDialog:I}),onVisibleChange:L(e)}):null)(i)}))})),a.createElement(Wl,null))):null})),Xl=n(67952);var Zl=(0,Xt.A)((0,In.W4)({name:"Environment"}),i.PA)((e=>{let{className:t}=e;const n=(0,N.Pj)(),{environment:r,grayConfig:o}=n,{text:i,sideText:l,iconUrl:s,textColor:c}=r||{};if(!i)return null;const u=l?`${i} (${l})`:i;return a.createElement(kn.Rp,{page_el_sn:222596},a.createElement($i,{className:t,url:"/tree-landing.html",pageName:"tree_landing",grayConfig:o?.cp149563||{},"aria-label":u},a.createElement(Ji,{icon:s?e=>{let{className:t}=e;return a.createElement(Ln.A,{src:s,className:t,"aria-hidden":!0,resizeWidth:40,alt:""})}:Xl.A,title:u,color:c||"#0A8800"})))})),es=n(25418),ts=n.n(es);const ns=e=>{let{data:t}=e;const{orderGuaranteeFloating:n,title:r}=t||{},{guaranteeItems:i}=n||{},l=e=>{e&&(0,Zt.MJ)(e,{openTarget:"_blank"})};return i?.length?a.createElement(yi.A,{title:r,size:"l",onClose:qn.L},a.createElement("div",{className:ts().content},i.map(((e,t)=>{const{title:n,benefits:r,jumpText:i,jumpUrl:s,content:c}=e||{};if(c){const{desc:e,sections:r,instructions:i}=c||{};return a.createElement("div",{key:t,className:ts().item},a.createElement("div",{className:ts().title},a.createElement("div",{className:ts().titleIndex},t+1),a.createElement("div",{className:ts().titleText},n)),e?a.createElement("div",{className:ts().desc},e):null,r?.length?a.createElement("div",null,r.map(((e,t)=>{const{subTitle:n,contentList:r,jumpTitle:i,jumpUrl:s}=e||{};return a.createElement("div",{className:ts().section,key:t},n?a.createElement("div",{className:ts().newBenefit},a.createElement("span",{className:ts().dot}),a.createElement("span",{className:ts().subtitle},n)):null,r?.length?a.createElement("div",{className:ts().contentWrap},r.map(((e,t)=>a.createElement("div",{key:t},e)))):null,i?a.createElement("div",{className:o()(ts().more,ts().newMore),onClick:()=>l(s),"aria-hidden":!0},a.createElement("span",{className:ts().jumpText},i),a.createElement(an.d,null,a.createElement(wn.A,{className:ts().arrow,"aria-hidden":!0}))):null)}))):null,i?a.createElement("div",{className:ts().instructions},i):null)}return a.createElement("div",{className:ts().item,key:t},a.createElement("div",{className:ts().title},a.createElement("div",{className:ts().titleIndex},t+1),a.createElement("div",{className:ts().titleText},n)),a.createElement("div",{className:ts().itemContent},r?.map(((e,t)=>a.createElement("div",{className:ts().benefit,key:t},r?.length>1?a.createElement("span",{className:ts().dot}):null,a.createElement("span",{className:ts().benefitText},e))))),i?a.createElement("div",{className:ts().more,onClick:()=>l(s),"aria-hidden":!0},a.createElement("span",{className:ts().jumpText},i),a.createElement(an.d,null,a.createElement(wn.A,{className:ts().arrow,"aria-hidden":!0}))):null)})))):null};var as=n(67114),rs=n.n(as);var os=(0,Xt.A)((0,In.W4)({name:"OrderGuarantee"}),i.PA)((()=>{const{moduleMap:e}=(0,N.Pj)(),t=(0,a.useRef)(),{orderGuarantee:n,orderGuaranteeFloating:r}=e?.guaranteeModule?.data||{},{benefits:i,linkUrl:l,iconUrl:s,titleColor:c,title:u}=n||{};if(!u)return null;const m=()=>{var e;r&&(e={orderGuaranteeFloating:r,title:u},(0,qn.P)({popupNode:a.createElement(ns,{data:e})}))};return a.createElement("div",{className:rs().wrap},a.createElement("div",{className:o()(rs().titleWrap,l&&rs().clickable),onClick:m,tabIndex:0,"data-aria-enter":"1","aria-label":u,role:"link",style:c?{color:c}:{}},!!s&&a.createElement(Ln.A,{src:s,className:rs().icon,"aria-hidden":!0,alt:""}),a.createElement(I.H2,{className:rs().title},u),a.createElement(wn.A,{className:rs().arrow,"aria-hidden":!0,style:c?{fill:c}:{}})),i?.length?a.createElement("div",{className:rs().benefits},a.createElement(An.pM,{pageSize:1,ref:t,options:{focus:""},className:rs().splideContainer,trackClassName:rs().trackClassName,customArrows:a.createElement(Tn.Ay,{onArrowClick:e=>{(0,Tn.ev)(e,t)},baseArrowBtn:rs().baseArrowBtn,leftArrow:rs().leftArrow,rightArrow:rs().rightArrow,arrowMask:rs().arrowMask,innerArrowCls:rs().innerArrow}),onClick:m,onMoved:Tn.o2},i.map(((e,t)=>a.createElement(Cn.Nn,{className:o()(rs().item),key:t,tabIndex:-1,style:{"--benefit-title-color":c}},e))))):null)})),is=n(41606),ls=n.n(is);var ss=(0,Xt.A)((0,In.W4)({name:"PaymentPrivacyGuarantee"}),i.PA)((()=>{const{moduleMap:e}=(0,N.Pj)(),{paymentPrivacyGuarantee:t}=e?.guaranteeModule?.data||{},{benefits:n,linkUrl:r,iconUrl:i,titleColor:l}=t||{};if(!n?.length)return null;return a.createElement("div",{className:o()(ls().wrap,r&&ls().clickable),onClick:()=>{r&&(0,Zt.MJ)(r,{openTarget:"_blank"})},tabIndex:0,"aria-label":n.join(" "),"data-aria-enter":"1",role:"link",style:l?{color:l}:{}},i?a.createElement(Ln.A,{src:i,className:ls().icon,"aria-hidden":!0,alt:""}):null,a.createElement(I.H2,{className:ls().richTextWrap},n.map(((e,t)=>a.createElement("span",{key:t,className:ls().benefit,style:{"--benefit-title-color":l}},e)))),a.createElement(wn.A,{className:ls().arrow,"aria-hidden":!0,style:l?{fill:l}:{}}))})),cs=n(2526),us=n(59769),ms=n(83836),ds=n(16270);var ps=n(38869),gs=n(8882),hs=n(71705),fs=n.n(hs);var ys=function(e){const{title:t,children:n}=e,[r,i]=(0,a.useState)(!0),l=(0,a.useId)(),s=(0,a.useCallback)((()=>{i((e=>!e))}),[]);return a.createElement("div",{className:fs().collapse},a.createElement(ps.n,{className:fs().header,onClick:s,"aria-expanded":!r,"aria-controls":l},a.createElement("div",{className:fs().title},t),a.createElement(gs.A,{className:o()(fs().arrow,r&&fs().collapsed),fill:"#777"})),!r&&a.createElement("div",{id:l},n))},_s=n(27136),Es=n(64727),bs=n.n(Es);function Ss(e){const{data:t,onClose:n,scene:r}=e,{taxCustomTitle:o,taxVo:i,customVo:l,exceedLimitWarnText:s}=t||{},{title:c,detailText:u,seeMoreText:m,seeMoreDetailVo:d}=i||{},{lawVolist:p}=d||{},{title:g,detailTableVo:h}=l||{},f=(0,a.useMemo)((()=>{const{trVolist:e}=h||{};return e?.map((e=>{const{tdVolist:t}=e||{};return t?.map(((e,t)=>{const{paragraphVolist:n}=e||{};return a.createElement("div",{key:t},n?.map(((e,t)=>{const{text:n,fontColor:r,promptText:o}=e||{};return a.createElement("div",{key:t,className:bs().tableText,style:{color:r}},n,o?a.createElement(Yr.A,{overlay:a.createElement("div",{className:bs().tip},o),placement:"bottom",zIndex:999},a.createElement(Qr.A,{"aria-hidden":!0,className:bs().tableIcon,fill:"#cdcdcd"})):null)})))}))}),[])}),[h]),y=(0,a.useCallback)((()=>{(0,qn.L)(),n?.()}),[n]);return a.createElement(yi.A,{size:"l",onClose:y,title:a.createElement("div",{className:bs().header},o)},a.createElement(kn.nU,{useClick:!1,page_el_sn:238838,others:{entrance_type:r}},a.createElement("div",null,a.createElement("div",{className:bs().title},c),a.createElement("div",{className:bs().paragraph},u),a.createElement(ys,{title:m},p?.map(((e,t)=>{const{text:n,url:r}=e||{};return a.createElement("div",{className:bs().link,key:t},a.createElement(cs.N_,{url:r},n))}))),a.createElement("div",{className:bs().title},g),a.createElement(_s.A,{className:bs().table,content:f}),a.createElement("div",{className:bs().info},a.createElement(xo.A,{"aria-hidden":!0,className:bs().infoIcon,fill:"#888"}),s))))}var vs=function(e){const{scene:t,onOpen:n,onClose:r}=e;return(0,a.useEffect)((()=>{!async function(){try{us.H.show();const{result:e}=await function(e){return(0,ds.$)().post("/api/bg-barbera-api/tax/custom/floating/layer/query",{scene:e}).then((e=>(0,ms.Cb)(e)))}(t);if(!e)return void r?.();(0,qn.P)({popupNode:a.createElement(Ss,{data:e,scene:t,onClose:r})}),n?.()}catch(e){r?.()}finally{us.H.hide()}}()}),[]),null},Is=n(89383),ws=n.n(Is);var ks=(0,Xt.A)((0,In.W4)({name:"TaxPolicy"}),i.PA)((()=>{const{moduleTaxPolicy:e}=(0,N.Pj)(),{title:t,desc:n}=e||{},{textRich:r}=t||{};if(!r?.length)return null;const o=r?.find((e=>e?.type===di.aV.text)),i=o?.fontColor||"#222222";return a.createElement(kn.nU,{page_el_sn:200359},a.createElement("div",{className:ws().wrap,"aria-hidden":!0,onClick:()=>{const e=(0,vn.A)(a.createElement(a.Fragment,null,a.createElement(vs,{scene:20,onClose:()=>{e?.()}}),a.createElement(Vo.A,{close:()=>e?.(),isActive:!0})),{});(0,A.A)("TaxPolicyDialog")},tabIndex:0,role:"button","aria-haspopup":"dialog","data-aria-enter":"1"},a.createElement("div",{className:ws().title},a.createElement(I.H2,{className:ws().richTextWrap},a.createElement(tr.l5,{newRichText:t,className:ws().richText,style:{textAlign:"left",...i?{color:i}:{}}})),a.createElement(wn.A,{className:ws().arrow,"aria-hidden":!0,style:i?{fill:i}:{}})),n?.textRich?.length?a.createElement(tr.l5,{className:ws().contentWrap,newRichText:n,style:{textAlign:"left"}}):null))})),Ns=n(43071),As=n.n(Ns);var Cs=(0,Xt.A)((0,In.W4)({name:"DeliverInfo"}),i.PA)((e=>{let{isScrolling:t}=e;const n=(0,N.Pj)(),{commitment:r,moduleMap:o}=n,{orderGuarantee:i}=o?.guaranteeModule?.data||{};return a.createElement("div",{className:As().deliverInfo,"data-id":"module"},a.createElement(Gi,null),a.createElement(ks,null),a.createElement(Jl,{isScrolling:t}),r&&!i?.title?a.createElement(al,null):null,a.createElement(zi,null),a.createElement(ss,null),a.createElement(os,null),i?.title?null:a.createElement(Zl,{className:As().item}))})),Ts=n(7350),xs=n.n(Ts),Ps=n(45727);var Rs=n(39392);function Ms(e){let{firstShakingElementSelector:t,fixedActionWrapRef:n,contentRef:r,ifTriggerShaking:o,setIfTriggerShaking:i,skuId:l}=e;const[s,c]=(0,Rs.e)();return(0,a.useEffect)((()=>{o&&(!l&&(()=>{if(!s){c();const e=document.querySelector(t);if(e){const{top:t}=e.getBoundingClientRect();let a=0,o=!1;const i=document.getElementById("mainHeader")?.firstElementChild;if(i){const{height:e,bottom:t}=i.getBoundingClientRect();t>0&&(o=!0,a=e)}if((t<a||t>window.innerHeight-(n.current?.getBoundingClientRect()?.height||0))&&(e.scrollIntoView(),o)){const e=r.current;e&&(e.scrollTop-=a)}}setTimeout((()=>{c()}),1e3)}})(),i(!1))}),[o]),{isShaking:s}}var Ds=n(7727),Bs=n(50383),Ls=n(77805);var Os=n(83052),Ws=n(3652),zs=n(31094),Fs=n.n(zs),Us=n(10232),Gs=n.n(Us);const Hs=(0,i.PA)((function(){const{similarSizeSpecData:e,goodsId:t,sizeSpecModule:n,selectLocationId:r}=(0,N.Pj)(),{overSizeOutfit:i}=n?.sizeSpecContentMap?.[r]||{},{specText:l,popup:s={},goodsId:c}=i||e||{};return a.createElement("div",{className:Fs().wrap},a.createElement(kn.nU,{page_el_sn:224004,others:{smlr_goods_id:c,goods_id:t}},a.createElement("div",{className:o()(Fs().skuItem,Gs().similar),tabIndex:0,"aria-label":l,role:"button",onClick:()=>{const{thumbUrl:e,linkUrl:t}=s||{};e&&(0,Ws.N)(e),t&&(0,Zt.MJ)((0,d.rE)({show_over_size_switch_tips:1},t),{openTarget:"_blank"})},"data-aria-enter":"1"},a.createElement("div",{className:Fs().skuItemContent},l),a.createElement(wn.A,{className:Gs().similarArrow}))))})),js=e=>{let{toast:t,onClick:n}=e;return a.createElement(kn.nU,{page_el_sn:243726},a.createElement("div",{className:Gs().toastWrap,onClick:e=>{e.stopPropagation(),n?.()},role:"button",tabIndex:0,"aria-label":t},a.createElement("span",{className:Gs().toast},t),a.createElement(wn.A,{className:Gs().arrow})))};var Vs=n(29194),qs=n.n(Vs);const Ks=(0,a.memo)((function(e){let{className:t}=e;const{moduleMap:n}=(0,N.Pj)(),{tipText:r}=n?.sizeTipModule?.data||{};return r?a.createElement(kn.nU,{page_el_sn:229085},a.createElement("div",{className:o()(qs().wrap,t),role:"button","aria-label":r},a.createElement(an.d,null,a.createElement(xo.A,{className:qs().explainIcon})),r)):null}));var $s=n(42877),Qs=n.n($s),Ys=n(36513);function Js(e){let{sku:t,formatSkuData:n,currentSpecIdSelect:a,isManualChangeSpec:r,defaultSkuId:o,bestSkuByQuantityTip:i,stockQuantityTipThreshold:l}=e;const{specIdStrToSkuId:s,skuInfos:c}=n,u=c[s[Za(a)]]||{};if(u?.skuId)return u;const m=Xs({formatSkuData:n,currentSpecIdSelect:a});if(m?.length===t[0]?.specs?.length)return;let d=t.filter((e=>!!e.isOnsale));if(Object.entries(a).some((e=>{let[t,n]=e;return t&&n}))){const e=((e,t)=>{if(!e||!t?.length)return[];const n=[];for(const a of t){const t={},{specs:r}=a;(r||[]).forEach((e=>{const{specKeyId:n,specValueId:a}=e;t[n]=a}));let o=!0;for(const n in e)e[n]&&t[n]!==e[n]&&(o=!1);o&&n.push(a)}return n})(a,t),n=e.filter((e=>!!e.isOnsale));d=n?.length?n:e}if(d=d?.length?d:t,!r&&o){const e=d.find((e=>e.skuId===o));if(e)return e}const p=i&&!!d?.some((e=>e.stockQuantity<l));return Qs()(d,["normalPrice",e=>p&&e.stockQuantity||0,e=>e.normalLinePrice||0,e=>e.stockQuantity||0,"skuId"],["asc","asc","desc","asc","desc","asc"])?.[0]}function Xs(e){let{formatSkuData:t,currentSpecIdSelect:n}=e;const{specValueId2SpecMap:a}=t;return Object.values(n).map((e=>a[e])).filter((e=>!!e))}function Zs(e){let{num:t,fromNum:n,operateType:a}=e;return 0===n&&t>0&&a!==Sa.Add?Sa.Add:n>0&&t>0&&a!==Sa.Update?Sa.Update:n>0&&0===t&&a!==Sa.Delete?Sa.Delete:a}const ec=(e,t)=>{(0,Ys.T)((()=>{if(e?.textRich?.length&&e?.action){const{action:n}=e.textRich.find((e=>!!e?.action))||{};n?.type&&n?.content?.popType&&(0,A.A)("Price label double action",{fields:{data:JSON.stringify({item:e,...t})}})}}))};var tc=n(31927),nc=n(21745),ac=n(2338),rc=n(23014),oc=n(40650);let ic=function(e){return e[e.SeparateDay=1]="SeparateDay",e[e.MergeHour=2]="MergeHour",e}({}),lc=function(e){return e.TEXT="TEXT",e.TIME="TIME",e.FRAME_TIME="FRAME_TIME",e}({});var sc=n(54099),cc=n.n(sc);const uc=e=>{let{endType:t,endLeftTime:n,endTimeColor:r,endTimeBackgroundColor:o,callback:i}=e;const l=(0,a.useMemo)((()=>Date.now()),[]),s=(0,a.useMemo)((()=>t===ic.SeparateDay),[t]),c=(0,a.useMemo)((()=>({color:r,background:o})),[r,o]),u=()=>a.createElement("span",{className:cc().colon,style:{color:o}},":");return a.createElement(rc.A,{intervalGap:500,endTime:l+1e3*n,nowTime:l,renderFunc:e=>{let{hour:t,minute:n,second:r,day:o}=e;return a.createElement(a.Fragment,null,s&&o?a.createElement(a.Fragment,null,a.createElement("span",{className:cc().time,style:c,suppressHydrationWarning:!0},(0,oc.A)(o)),u()):null,a.createElement("span",{className:cc().time,style:c,suppressHydrationWarning:!0},s?(0,oc.A)(t):(0,oc.A)(24*o+t)),u(),a.createElement("span",{className:cc().time,style:c,suppressHydrationWarning:!0},(0,oc.A)(n)),u(),a.createElement("span",{className:cc().time,style:c,suppressHydrationWarning:!0},(0,oc.A)(r)))},rAF:!0,callback:i})};var mc=(0,a.memo)(uc),dc=n(92143),pc=n.n(dc);const gc=e=>{let{title:t,cls:n,onClick:r}=e;if(t?.length){const e="function"==typeof r;return a.createElement("div",{onClick:r,tabIndex:e?0:void 0,role:"button",className:n,"aria-label":(0,za.ft)(t),style:{color:t?.[0]?.color},"data-aria-enter":"1"},t?.map(((e,t)=>{const{bold:n,color:r,fontSize:o,text:i}=e;return a.createElement("span",{key:t,style:{color:r,fontSize:o,fontWeight:n?500:400}},i)})))}return null};var hc=(0,Xt.A)((0,In.W4)({name:"ActivityBanner"}),i.PA)((e=>{let{className:t}=e;const[n,r]=(0,a.useState)(!0),i=(0,N.Pj)(),{serverTime:l,waistBanner:s,setIsShowMarketPrice:c,goodsId:u,waistBannerFreightType:m,supportFreeShippingInWaistBanner:d,goodsExt:p,getMallId:g,goods:h,queryWaistBannerInit:f,control:y}=i,{skuRefreshWaistBanner:_}=y?.detailSupportExperimentControl||{},E=1===_,{benefits:b}=s||{},S=b?.[0]?.content?.[0]||{},v=(0,a.useRef)(null),{title:I,subtitle:w,icon:k,bgColor:A="#feefe1",trackInfo:C,activeIcon:T,activeLabel:x,benefitTitle:P,priceMatchBenefitFlag:R}=S||{},M=(0,a.useMemo)((()=>w?.find((e=>e.type===lc.TEXT))?.color||""),[w]),D=(0,a.useMemo)((()=>P?.find((e=>e.type===lc.TEXT))?.color||""),[P]),{width:B,height:L,icon:O,smallBgImg:W,bigBgImg:z}=x||{},{isRTL:F}=(0,Aa.Sz)(),U=T,G=!!P?.length,H=(0,a.useMemo)((()=>(e=>[wa.ShopFreeShoppingAddCartEmpty,wa.ShopFreeShoppingAddCartNotStandard].includes(e))(m)&&d),[d,m]),j=(0,Fa.A)((async e=>{const t=g(),n=H&&t;if(R&&P?.length){const{clientX:t}=e||{},{left:a,width:r=1}=v.current?.getBoundingClientRect()||{};if(!n||a&&(F?t<=a+r:t>=a+r))return(0,tc.t)()}n&&((0,ge.E0)({page_el_sn:233315,benefit_type:1}),await(0,nc.Xf)({goodsId:Number(u),pageSn:xn.LM,goodsExt:p,benefitScene:0,mallId:t}))})),V=g(),q=H&&V||R&&P?.length,K=(0,a.useCallback)((()=>{c(!1),r(!1)}),[c]),[$,Q]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=Array.from(document.querySelectorAll(`.${pc().subtitleItemText}`)),t=document.querySelector(`.${pc().subtitleContainer}`),n=()=>{if(!e?.length)return;const n=e?.some((e=>{const{height:n,top:a,width:r}=e.getBoundingClientRect()||{},{width:o=0}=e.parentElement?.getBoundingClientRect()||{},{top:i=0}=t?.getBoundingClientRect()||{};return n+a-i>36||r>o}));Q(n)};if(!A)return;window.addEventListener("resize",n),n();const a="activity_banner_dot_style",r=document.querySelector(`.${a}`),o=document.createElement("style"),i=r||o;return i.className=a,i.innerHTML=`.${pc().dot}::after{color: ${M}; background:linear-gradient(${F?"to left":"to right"}, transparent 0px, ${A} 5px);`,r||document.head.appendChild(i),()=>{window.removeEventListener("resize",n)}}),[A,M,F]);const Y=(0,a.useMemo)((()=>w?.length&&w?.every((e=>e.type===lc.TEXT))),[w]),J=(0,Fa.A)((async e=>{e.stopPropagation(),(0,tc.t)()}));return(E&&!f||s)&&n?a.createElement(ac.t,{show:!!s},a.createElement(kn.nU,{page_el_sn:C?.page_el_sn},a.createElement("div",{className:o()(pc().wrap,t,{[pc().isBlackFriday]:U,[pc().isSquareBlackFriday]:O,[pc().click]:H}),role:"button","aria-haspopup":"dialog",tabIndex:q?0:void 0,"data-aria-enter":q?"1":void 0,onClick:j},a.createElement("div",{className:pc().promotionMask},a.createElement("div",{className:pc().promotionInnerMask,style:{backgroundColor:A}})),W?a.createElement(Ln.A,{src:W,className:o()(pc().smallBgImg,pc().bg),"aria-hidden":!0,alt:""}):null,z?a.createElement(Ln.A,{src:z,className:o()(pc().bigBgImg,pc().bg),"aria-hidden":!0,alt:""}):null,O?a.createElement("div",{className:pc().squareFriday},a.createElement(Ln.A,{src:O,"aria-hidden":!0,className:pc().squareFridayIcon,style:{width:B,height:L},alt:""})):U?a.createElement("div",{className:pc().friday},a.createElement("div",{className:pc().fridayIcon},a.createElement(Ln.A,{"aria-hidden":!0,className:pc().fridayIconImg,src:U,alt:""}))):null,k?a.createElement(Ln.A,{src:k,className:o()(pc().icon,pc().benefitIcon),"aria-hidden":!0,alt:""}):null,a.createElement("div",{className:o()(pc().titleWrapper,G&&pc().notFullTitle)},a.createElement(gc,{title:I,cls:o()(pc().title,pc().twoLineEllipsis)})),!!w?.length&&(Y?(e=>a.createElement("div",{className:o()(pc().subtitleContainer,pc().pureTextSubTitle,{[pc().dot]:$})},e?.map(((e,t)=>{const{bold:n,color:r,fontSize:o,text:i}=e;return i?a.createElement("span",{className:pc().subtitleItemText,style:{color:r,fontSize:o,fontWeight:n?500:400},key:`${i}${t}`},i):null}))))(w):a.createElement("div",{className:o()(pc().subTitleWrapper,{[pc().promotionSubTitleWrapper]:!!O})},(e=>a.createElement("div",{className:o()(pc().subtitle,pc().subtitleContainer),"aria-label":(0,za.ft)(e?.filter((e=>e.type!==lc.TIME)))},a.createElement("span",{className:pc().subtitleItemFlex}),e?.map(((e,t)=>{const{bold:n,color:r,fontSize:i,text:s,type:c,bgColor:u}=e;if(c===lc.TIME){const e=Number(s)-l;return a.createElement("span",{className:o()(pc().subtitleItem,pc().countdown),style:{fontSize:i,fontWeight:n?500:400},key:`${s}-${t+1}`},(e=>{let{endLeftTime:t,endType:n,bgColor:r,color:o}=e;return t>0&&a.createElement(mc,{callback:K,endLeftTime:t,endType:n,endTimeColor:o||"#FFFFFF",endTimeBackgroundColor:r||"#020202"})})({endLeftTime:e,endType:ic.SeparateDay,bgColor:u,color:r}))}if(c===lc.FRAME_TIME){const e=u?{background:u}:{};return a.createElement("span",{className:o()(pc().subtitleItem,pc().textTag),style:{color:r,fontSize:i,fontWeight:n?500:400,...e},key:t},a.createElement("span",{className:pc().subtitleItemText},s))}return a.createElement("span",{className:o()(pc().subtitleItem,{[pc().dot]:$}),style:{color:r,fontSize:i,fontWeight:n?500:400},key:t},a.createElement("span",{className:pc().subtitleItemText},s))}))))(w))),H?a.createElement(kn.nU,{page_el_sn:233315,others:{benefit_type:1},useClick:!1},a.createElement(wn.A,{className:pc().arrow,style:{fill:I?.[0]?.color}})):null,G?a.createElement(a.Fragment,null,a.createElement("div",{className:pc().line,ref:v,style:{"--benefit-before-line-bg":D,"--benefit-before-line-linear-gradient":A}}),k?a.createElement(Ln.A,{src:k,className:o()(pc().icon,pc().benefitIcon),"aria-hidden":!0,alt:""}):null,a.createElement(gc,{title:P,cls:pc().benefitTitle,onClick:R?J:void 0})):null))):null})),fc=n(89209),yc=n(58746),_c=n(4455),Ec=n.n(_c);const bc=e=>{let{closePopup:t,title:n,discountInfo:r,useDescInfo:o,codeInfo:i,buttonDesc:l}=e;const s=(e,t)=>e?.displayItems?.length?a.createElement("div",{className:t},e.displayItems.map((e=>{const{fontColor:t,fontSize:n,fontWeight:r,text:o}=e||{};return a.createElement("span",{style:{color:t,fontSize:n,fontWeight:r}},o)}))):null;return a.createElement(Ka.Ay,{onClick:t,useSplitBg:!0},a.createElement("div",{className:Ec().wrap},s(n,Ec().title),a.createElement("div",{className:Ec().coupon},a.createElement(Ln.A,{src:"https://aimg.kwcdn.com/upload_aimg/web/1e481004-89a3-4dd6-93a2-128ffbc15502.png.slim.png",className:Ec().couponBg}),a.createElement("div",{className:Ec().couponContent},s(r,Ec().discountInfo),s(o,Ec().useDescInfo),s(i,Ec().codeInfo))),a.createElement("div",{onClick:t},a.createElement(Ut.A,{className:Ec().buttonDesc},s(l,Ec().buttonDesc)))))};var Sc=(0,a.memo)(bc),vc=n(36286),Ic=n.n(vc);var wc=(0,i.PA)((()=>{const{addOrderInfoStore:e}=(0,N.Pj)(),{additionalOrderPromotion:t}=e,{additionalOrderPromoHint:n,additionalOrderPromoPopInfo:r={}}=t||{},o=()=>{const e=(0,vn.A)(a.createElement(Sc,(0,q.A)({closePopup:()=>e()},r)))};return n?a.createElement("div",{className:Ic().wrap},n?.displayItems?.map(((e,t)=>{const{text:n,fontColor:r,fontSize:i,fontWeight:l,displayType:s}=e||{};return s===na.icon?a.createElement(Ln.A,{className:Ic().icon,src:n,onClick:o}):a.createElement("span",{key:t,style:{color:r,fontWeight:l,fontSize:i}},n)}))):null})),kc=n(31799),Nc=n(26357),Ac=n.n(Nc);var Cc=(0,In.W4)({name:"AddOrderFreeShipping"})((0,a.memo)((0,i.PA)((()=>{const{addOrderInfoStore:e}=(0,N.Pj)(),{order:t}=e,{closeTime:n}=t?.parentOrder?.addPurchaseShowCloseTimeExperimentVo||{},{t:r}=(0,p.B)("goods",{keyPrefix:"addToOrder"}),o=(0,a.useCallback)((e=>{let{hour:t,minute:n,second:r,day:o}=e;return a.createElement("span",{className:Ac().timeContent},o?a.createElement(a.Fragment,null,a.createElement("span",{className:Ac().time,suppressHydrationWarning:!0},(0,oc.A)(o)),a.createElement("span",{className:Ac().colon},":")):null,a.createElement("span",{className:Ac().time,suppressHydrationWarning:!0},(0,oc.A)(t)),a.createElement("span",{className:Ac().colon},":"),a.createElement("span",{className:Ac().time,suppressHydrationWarning:!0},(0,oc.A)(n)),a.createElement("span",{className:Ac().colon},":"),a.createElement("span",{className:Ac().time,suppressHydrationWarning:!0},(0,oc.A)(r)))}),[]);return n?a.createElement("div",{className:Ac().wrap},a.createElement("span",{className:Ac().freeShipping},a.createElement(an.d,null,a.createElement(kc.A,{className:Ac().icon})),r("freeShipping")),a.createElement("span",{className:Ac().endTime},a.createElement(Qe.x,{t:r,i18nKey:"endsIn",ns:"goods"},a.createElement(rc.A,{endTime:1e3*n,callback:()=>{(0,Zt.Qw)(location.href)},renderFunc:o,intervalGap:1e3})))):null})))),Tc=n(75261),xc=n.n(Tc);const Pc=()=>{},Rc=(0,a.memo)((function(e){let{className:t,direction:n,onClick:r}=e;return a.createElement("div",{className:o()(xc().pageBtn,t),onClick:r,role:"button",tabIndex:0},a.createElement(xa._H,{className:o()(xc().arrow,xc()[`arrow-${n}`])}))})),Mc=e=>{let{data:t}=e;return t?.map(((e,t)=>{const{actionType:n,text:r,linkUrl:o,width:i,height:l,size:s,bold:c,color:u}=e||{};switch(n){case Ea.text:return r?a.createElement("span",{key:t,style:{fontSize:s,fontWeight:c?"bold":"normal",color:u}},r):null;case Ea.img:return o?a.createElement(Nn.Ay,{src:o,className:xc().img,key:t,style:{width:`${i}px`,height:`${l}px`},alt:""}):null;case Ea.countdown:return a.createElement(Dc,{key:t,data:e});default:return null}}))},Dc=e=>{let{data:t}=e;const{text:n,size:r,bold:o,color:i}=t||{},l=(0,a.useCallback)((e=>{let{hour:t,minute:n,second:l,day:s}=e;return a.createElement("span",{className:xc().timeContent,style:{color:i,fontSize:r,fontWeight:o?500:400},dir:"ltr"},s?a.createElement(a.Fragment,null,a.createElement("span",{className:xc().time,suppressHydrationWarning:!0},(0,oc.A)(s)),a.createElement("span",{className:xc().colon},":")):null,a.createElement("span",{className:xc().time,suppressHydrationWarning:!0},(0,oc.A)(t)),a.createElement("span",{className:xc().colon},":"),a.createElement("span",{className:xc().time,suppressHydrationWarning:!0},(0,oc.A)(n)),a.createElement("span",{className:xc().colon},":"),a.createElement("span",{className:xc().time,suppressHydrationWarning:!0},(0,oc.A)(l)))}),[]);return a.createElement(rc.A,{endTime:1e3*Number(n),renderFunc:l,intervalGap:1e3})};var Bc=(0,Xt.A)((0,In.W4)({name:"AddOrderInfo"}),i.PA)((()=>{const{isRTL:e}=(0,Aa.Sz)(),{addOrderInfoStore:t}=(0,N.Pj)(),{order:n,additionalOrderPromotion:r}=t,{additionalOrderPromoHint:i}=r||{},{t:l}=(0,p.B)("goods"),{parentOrder:s,attachedOrderCellModule:c}=n||{},{attachedOrderExplainRich:u,attachOrderSubTitleRich:m}=c||{},{subOrderList:d,parentOrderAmountWithSymbolDisplay:g,parentSellerType:h,addPurchaseShowCloseTimeExperimentVo:f}=s||{},{styleVersion:y}=f||{},_=(0,a.useRef)(!1),[E,b]=(0,a.useState)(d),[S,v]=(0,a.useState)(!1),[I,w]=(0,a.useState)(0),k=(0,a.useRef)(null),[A,C]=(0,a.useState)(d?.length),T=h&&[ba.local,ba.semiHosted].includes(h);(0,a.useEffect)((()=>{(0,fc.p)()}),[]);const x=(0,a.useCallback)((async()=>{let e=!1;w((t=>(e=t>0,0))),e&&await(0,yc.A)(800)}),[]),P=d?.reduce(((e,t)=>e+(t?.goodsNumber||0)),0);(0,a.useEffect)((()=>{_.current?(async()=>{await x(),b(d),v(!0)})():_.current=!0}),[d?.length,P]),(0,a.useEffect)((()=>{const e=k.current;if(!e)return;const t=(0,za.nF)((()=>{const{width:t}=e.getBoundingClientRect()||{};if(t){const e=Math.floor((t+6)/66);C(e)}}),30);return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[k?.current]);const R=(0,a.useCallback)((()=>{v(!1)}),[]),M=E?.length||0,D=(0,a.useCallback)((()=>{w((e=>Math.max(e-A,0)))}),[A]),B=(0,a.useCallback)((()=>{w((e=>Math.min(e+A,M-A)))}),[M,A]);if(!d?.length)return null;const L=1===y;return a.createElement("div",{className:xc().wrap},a.createElement("div",{className:o()(xc().content)},a.createElement("div",{className:xc().top},a.createElement("div",{className:xc().title},u?.length?a.createElement(Mc,{data:u}):l("addToOrder.shipFromTemu")),T||i?.displayItems?.length?null:a.createElement("div",{className:xc().statusInfo},m?.length?a.createElement(Mc,{data:m}):a.createElement(a.Fragment,null,a.createElement("div",{className:xc().orderInfo},l("main_detail.paymentOrderInfo")),a.createElement("div",{className:xc().amount},g)))),L?a.createElement(Cc,null):null,T?null:a.createElement(wc,null),a.createElement("div",{className:xc().orderList,ref:k},a.createElement(Rc,{className:o()(xc().leftArrow,{[xc().arrowHide]:0===I}),direction:"left",onClick:D}),a.createElement("div",{className:xc().listWrap},a.createElement("div",{className:xc().listContent,style:{transition:"transform 500ms",transform:`translateX(${e?"":"-"}${66*I}px)`}},E?.map(((e,t)=>{const{orderSn:n,thumbUrl:r,goodsNumber:i}=e||{},l=0===t&&S;return a.createElement("div",{className:o()(xc().orderItem,{[xc().placeholderOrder]:l}),onAnimationEnd:l?R:Pc,key:n},a.createElement("div",{className:xc().orderContent},a.createElement(Nn.Ay,{className:xc().orderImg,src:r,resizeWidth:210,alt:""}),i>1?a.createElement("div",{className:xc().orderNum},"x",i):null))})))),a.createElement(Rc,{className:o()(xc().rightArrow,{[xc().arrowHide]:I+A>=M}),direction:"right",onClick:B}))))})),Lc=n(26479),Oc=n.n(Lc);var Wc=function(e){return e[e.black=1]="black",e[e.blue=2]="blue",e}(Wc||{}),zc=function(e){return e[e.direct=1]="direct",e[e.authorized=2]="authorized",e}(zc||{});var Fc=e=>{let{onClose:t,data:n,brandStyle:r}=e;const{commitmentList:i,brandType:l,brandLayerTitle:s}=n||{},{brandName:c,brandLogo:u,bgUrl:m,iconUrl:d,flowerUrl:g,divideLine:h,brandSlogan:f}=s||{},{t:y}=(0,p.B)("goods",{keyPrefix:"BrandCell"}),_=r===Wc.blue,E=l===zc.direct,b=l===zc.authorized;return(0,A.r)("BrandCellPopup"),a.createElement(Ka.Ay,{onClick:t},a.createElement("div",{className:Oc().wrap},a.createElement("div",{className:Oc().title},y("title")),a.createElement("div",{className:Oc().banner},m?a.createElement(Ln.A,{src:m,className:Oc().bgUrl,alt:""}):null,a.createElement("div",{className:o()(Oc().bannerContent,{[Oc().blueBanner]:_})},g?a.createElement(Ln.A,{src:g,className:Oc().flower,alt:""}):null,d?a.createElement(Ln.A,{src:d,className:o()(Oc().brandPexfixIcon,{[Oc().icon1]:E,[Oc().icon2]:b&&!_,[Oc().icon3]:b&&_}),alt:""}):null,a.createElement("div",{className:Oc().bannerTitle},c,h?a.createElement(Ln.A,{src:h,className:Oc().titleDivideLine,alt:""}):null,f),u?a.createElement(Ln.A,{src:u,className:Oc().brandLogoIcon,alt:""}):null,g?a.createElement(Ln.A,{src:g,className:o()(Oc().rightFlower,Oc().flower),alt:""}):null)),i?.length?a.createElement("div",{className:Oc().desc},i.map((e=>{const{title:t,titleColor:n,content:r,iconUrl:o}=e||{},{text:i,subTextList:l}=r||{};return a.createElement("div",{className:Oc().item},a.createElement("div",{className:Oc().itemTitle,style:{color:n}},o?a.createElement(Ln.A,{src:o,resizeWidth:48,className:Oc().titleIcon,alt:""}):null,t),a.createElement("div",{className:Oc().itemContent},a.createElement("div",null,i),l?.length?a.createElement("div",{className:Oc().subText},l.map((e=>a.createElement("div",null,a.createElement(an.d,null,a.createElement(fi.A,{className:Oc().icon})),e)))):null))}))):null,a.createElement(Ut.A,{className:Oc().btn,size:"lg",onClick:t},y("ok"))))},Uc=n(19363),Gc=n.n(Uc);var Hc=(0,In.W4)({name:"BrandCell"})((0,i.PA)((()=>{const{moduleMap:e,optimalSku:t}=(0,N.Pj)(),{skuId:n}=t||{},{brandBanner:r}=e?.brandCardModule?.data||{},{brandName:i,brandSlogan:l,bannerBgUrl:s,divideLine:c,brandBannerFloatingLayer:u,brandStyle:m,skuBrandSloganMap:d}=r||{},p=!!u,g=d?.[n]||l,h=(0,a.useMemo)((()=>i?.textRich?.find((e=>e.type===di.aV.text))?.fontColor||g?.textRich?.find((e=>e.type===di.aV.text))?.fontColor),[i,g]);return i?.textRich?.length||g?.textRich?.length?a.createElement("div",{className:o()(Gc().wrap,{[Gc().authorized]:2===m,[Gc().direct]:1===m,[Gc().clickable]:p}),onClick:()=>{if(!p)return;const e=(0,vn.A)(a.createElement(Fc,{onClose:()=>{e?.()},brandStyle:m,data:u}),{})},role:"button",tabIndex:0},s?a.createElement(Ln.A,{src:s,className:Gc().bg,alt:""}):null,a.createElement("div",{className:Gc().content},i?.textRich?.length?a.createElement(tr.l5,{newRichText:i,className:Gc().name,style:{textAlign:"left"}}):null,c?a.createElement(Ln.A,{src:c,className:Gc().line,alt:""}):null,g?.textRich?.length?a.createElement("div",{className:Gc().desc,style:{color:h}},a.createElement(tr.l5,{newRichText:g,style:{color:h,textAlign:"left"},className:Gc().descContent})):null,p?a.createElement(an.d,null,a.createElement(wn.A,{className:Gc().arrow,style:{fill:h}})):null)):null}))),jc=n(13571),Vc=n(47743),qc=n(5778),Kc=n(8515),$c=n(96704),Qc=n(99558);let Yc;async function Jc(){return Yc||(Yc=Promise.all([n.e(7302),n.e(8096),n.e(496),n.e(5524),n.e(5965),n.e(1168),n.e(1748)]).then(n.bind(n,74237)).then((e=>{let{default:t}=e;return t})).catch((()=>(Yc=null,null))),Yc)}let Xc,Zc=!1;const eu=()=>{Xc=null},tu=async e=>{let t;return t=Xc?await Xc:await(0,Qc.tr)(e),(0,Vc.A)({event:"checkout pop fetchMorgan",fields:{hasPrefetch:Xc?"yes":"no"}}),eu(),t};var nu=function(e){return e[e.ErrorNetwork=1]="ErrorNetwork",e[e.NotSupport=2]="NotSupport",e[e.NotLogin=40001]="NotLogin",e}(nu||{});const au=e=>[jc.t.All,jc.t.ExplicitlySelected,jc.t.UnExplicitlySelected].includes(e);var ru=(0,In.W4)({name:"ClearanceActivity"})((0,i.PA)((e=>{let{children:t,onClick:n,className:r,contentClassName:o,contentBgClassName:i,isShowArrow:l,serverRenderTime:s,skuActivityTip:c}=e;const{skuInfoMap:u,optimalSku:m,activityInfo:d,isEnhancedStockGroupClearanceStyle:p,explicitlySelected:g,buyNowButtonStore:h}=(0,N.Pj)(),{skuId:f}=m||{},y=u[f]?.skuActivityInfo,_=y?.[g]||y?.[jc.t.All],[E,b]=(0,a.useState)(_||d),S=p?E:d,v=p?E:{...d?.skuActivityInfo?.[f],activityProgressInfo:d?.activityProgressInfo},{prefetch:I,supportQuickMerge4TimeLimitedActivity:w}=h||{};(0,a.useEffect)((()=>{if(p&&void 0!==_){const{activityName:e,activityNameRich:t}=_||{};b(e||t?.textRich?.length?_:d)}}),[p,_]);return a.createElement(jc.O,{activityInfo:S,skuActInfo:v,onClick:n,onMouseDown:e=>{e.preventDefault(),1==+e?.buttons&&w&&I()},onMouseLeave:()=>{w&&eu?.()},className:r,contentClassName:o,contentBgClassName:i,isShowArrow:l,serverRenderTime:s,skuActivityTip:c},t)}))),ou=n(44252),iu=n.n(ou);const lu=e=>{let{item:t,showHighLight:n}=e;const{values:r=""}=t||{},o=r?.indexOf(":");return n&&o>0&&o!==r.length-1?a.createElement("span",null,a.createElement("span",{className:iu().highlight},r.substring(0,o+1)),a.createElement(a.Fragment,null,r.substring(o+1))):a.createElement(a.Fragment,null,r)};var su=(0,a.memo)(lu),cu=n(25650),uu=n.n(cu);var mu=(0,Xt.A)((0,In.W4)({name:"DescriptionV2"}),i.PA)((e=>{let{onExpand:t}=e;const{description:n,control:r,goodsProperty:o}=(0,N.Pj)(),{items:i,rows:l}=n||{},{t:s}=(0,p.B)("goods"),{expandDescription:c}=r?.supportExperimentControl||{},u=(0,a.useMemo)((()=>i?.[0]?.values&&o?.[0]?.values?.join?.(",")===i?.[0]?.values?i.slice(1):i),[i,o]),m=u?.length,d=+l||6,[g,h]=(0,a.useState)(c?m:d),[f,y]=(0,a.useState)(m<=d||c);return(0,A.r)("DescriptionV2"),u?.length?a.createElement(kn.Rp,{page_el_sn:214005,useClick:!1},a.createElement("div",{className:uu().wrap,"data-id":"module"},a.createElement("div",{className:uu().title,"aria-label":s("main_detail.descriptionTitle")},s("main_detail.descriptionTitle")),a.createElement("div",{className:uu().list},u.slice(0,g).map(((e,t)=>{const{values:n,copyable:r}=e||{};return n?a.createElement("div",{key:t,className:uu().item,role:"button","aria-label":`$${n}`},a.createElement(su,{item:e}),!!r&&a.createElement(Xo.A,{useButton:!0,page_el_sn:204334,className:uu().copyButton,text:n})):null}))),!f&&a.createElement(kn.Rp,{page_el_sn:200448},a.createElement("div",{className:uu().more,onClick:()=>{h(m),y(!0),setTimeout((()=>{t?.()}),20)},tabIndex:0,role:"button","aria-label":s("main_detail.descriptionMore")},s("main_detail.descriptionMore"),a.createElement(Ft.hu,{direction:"bottom",className:uu().arrow,"aria-hidden":!0}))))):null})),du=n(23257),pu=n(19963),gu=n(89243),hu=n(78830),fu=n(45805),yu=n(23450),_u=n(59403),Eu=n(15418),bu=n(52462),Su=n.n(bu);const vu=e=>{let{item:t,getCustomTextRichItemStyle:n}=e;return t?.type===di.aV.img?a.createElement(tr.WC,{item:t}):a.createElement(tr.gK,{item:t,getCustomTextRichItemStyle:n})},Iu=e=>{let{popData:t,contentElement:n}=e;return a.createElement(Yr.A,{appendToBody:!0,adapted:!0,overlay:(()=>{const{content:e}=t||{};return e?a.createElement("div",{className:Su().explainPopup},e):null})()},a.createElement("span",{className:o()(t?.content&&Su().clickable)},n))},wu=(0,i.PA)((e=>{let{popData:t,contentElement:n}=e;const{title:r,content:o}=t||{};return a.createElement(Yr.A,{overlay:r||o?a.createElement("div",{className:Su().tips},a.createElement("div",{className:Su().tipsTitle},r),a.createElement("div",{className:Su().tipsContent},o)):null,appendToBody:!0,adapted:!0},a.createElement("div",{className:Su().itemWrap},n))})),ku=(0,i.PA)((e=>{let{popData:t,contentElement:n}=e;const{contentSumerKey:r="",hyperLinkText:o,hyperLinkUrl:i,explainText:l}=t||{};return l?.length?a.createElement(Eu.pY,{explainText:l,content:n}):a.createElement(Eu.jN,{pageElSn:224996,sumerKey:r,className:Su().clickable,linePriceExplainData:{linePriceTipsTitle:o,linePriceTipsJumpUrl:i},renderContent:()=>n})})),Nu=[di.E.dialog],Au=(e,t)=>{const{action:n}=e||{},{popType:r,popData:o}=n?.content||{},{getCustomTextRichItemStyle:i}=t||{};if(n?.type&&Nu.includes(n.type)){if(r===di.CV.MainPriceExplain)return a.createElement(wu,{popData:o,contentElement:a.createElement(vu,{item:e,getCustomTextRichItemStyle:i})});if(r===di.CV.LinePriceExplain)return a.createElement(ku,{popData:o,contentElement:a.createElement(vu,{item:e})});if(r===di.CV.AlmostSoldOutExplain)return a.createElement(Iu,{popData:o,contentElement:a.createElement(vu,{item:e})})}return null};var Cu=n(27216),Tu=n.n(Cu);const xu=e=>{let{reduction:t}=e;return t?.textRich?.length?a.createElement(fr.v,{className:Tu().reduction,style:{background:t?.backgroundColor}},a.createElement(ml.sD,{richText:t.textRich})):null},Pu=e=>{let{skuSalePriceSuffixRich:t,marketPriceStr:n,linePriceRich:r,linePricePrefix:i,reduction:l}=e;if(t?.length)return a.createElement(a.Fragment,null,t.map((e=>{const t=a.createElement(tr.l5,{newRichText:e,style:{textAlign:"left"},customRenderWhiteList:Nu,customRenderTextRichItem:Au,className:o()(Tu().suffixRich,Tu().suffixRichDis)}),{action:n}=e||{},{popType:r,popData:i}=n?.content||{};return n?.type&&Nu.includes(n.type)&&r===di.CV.LinePriceExplain?a.createElement(ku,{popData:i,contentElement:t}):t})));return a.createElement(a.Fragment,null,n?a.createElement("div",{className:Tu().linePrice},n):null,r?a.createElement("div",{className:Tu().linePriceWrap},i?a.createElement("span",null,i):null,a.createElement("div",{className:Tu().linePrice},a.createElement(ml.Ay,{price:r}))):null,l?a.createElement(xu,{reduction:l}):null)};var Ru=(0,a.memo)((function(e){let{skuId:t,thumbUrl:n,goodsName:r,salePriceRich:i,linePriceRich:l,linePricePrefixMap:s,reduction:c,specs:u,priceStr:m,marketPriceStr:d,failedReason:g,failedMsg:h,isShowLightningIcon:f,energyData:y,goodsId:_,skuSalePriceSuffixRich:E,chargerInfo:b}=e;const S=(0,a.useMemo)((()=>{if(!b)return null;const{imgUrls:e,popupContent:t}=b||{};return{leftIconUrl:e?.[0],rightIconUrl:e?.[1],clickInfo:t}}),[b]),{t:v}=(0,p.B)("goods"),I=s?.[t];return a.createElement(a.Fragment,null,a.createElement("div",{className:Tu().goods},a.createElement("div",{className:Tu().goodsImg},a.createElement(Ln.A,{src:n,resizeWidth:300,alt:""}),!!g&&a.createElement("div",{className:Tu().errorTip},a.createElement(fr.v,{type:"gray"},g)),S?a.createElement(Bn.A,{type:1,data:S}):a.createElement(Ca.TU,{data:y,goodsId:_})),a.createElement("div",{className:Tu().goodsInfo},a.createElement("div",{className:Tu().titleBlock},a.createElement("div",{className:o()(Tu().goodsName,!!h&&Tu().errorColor),title:r},r),u?.length?a.createElement("div",{className:o()(Tu().goodsSpecs,!!h&&Tu().errorColor)},u.map((e=>e.specValue)).join("/")):null),h?a.createElement("div",{className:Tu().error},a.createElement(xa.JE,{className:Tu().icon}),a.createElement("div",{className:Tu().errorText},h)):a.createElement("div",{className:Tu().goodsPrice},f?a.createElement(_u.A,{className:Tu().lightningIcon}):null,m?a.createElement("div",{className:Tu().curPrice},m):a.createElement("div",{className:Tu().curPrice},a.createElement(ml.Ay,{price:i})),a.createElement(Pu,{skuSalePriceSuffixRich:E,marketPriceStr:d,linePriceRich:l,linePricePrefix:I,reduction:c})))))})),Mu=n(39226),Du=n.n(Mu);const Bu=e=>{let{beforeNode:t=null,afterNode:n=null,endTime:r=0,callback:i,isSecondLine:l}=e;const s=(0,a.useCallback)((e=>{let{hour:t,minute:n,second:r,day:o}=e;return a.createElement("div",{className:Du().flex},o?a.createElement(a.Fragment,null,a.createElement("span",{className:Du().time,suppressHydrationWarning:!0},(0,oc.A)(o)),a.createElement("span",{className:Du().colon},":")):null,a.createElement("span",{className:Du().time,suppressHydrationWarning:!0},(0,oc.A)(t)),a.createElement("span",{className:Du().colon},":"),a.createElement("span",{className:Du().time,suppressHydrationWarning:!0},(0,oc.A)(n)),a.createElement("span",{className:Du().colon},":"),a.createElement("span",{className:Du().time,suppressHydrationWarning:!0},(0,oc.A)(r)))}),[]);return r?l?a.createElement("div",{className:o()(Du().wrap,Du().line)},a.createElement(rc.A,{endTime:1e3*r,nowTime:Date.now(),intervalGap:1e3,renderFunc:s}),t?a.createElement("div",{className:o()(Du().before,Du().none)},t):null,n?a.createElement("div",{className:o()(Du().after,Du().none)},n):null):a.createElement("div",{className:Du().wrap},t?a.createElement("div",{className:Du().before},t):null,a.createElement(rc.A,{endTime:1e3*r,nowTime:Date.now(),intervalGap:1e3,callback:i,renderFunc:s}),n?a.createElement("div",{className:Du().after},n):null):null};var Lu=(0,a.memo)(Bu),Ou=n(8732),Wu=n.n(Ou),zu=n(22758),Fu=n.n(zu);const Uu=e=>{let{text:t,percent:n}=e;return t?a.createElement("div",{className:Fu().wrap},a.createElement("div",{className:Fu().text},t),a.createElement("div",{className:Fu().progress},a.createElement("div",{className:Fu().inner,style:{right:100*(1-n)+"%"}}))):null};var Gu=(0,a.memo)(Uu);const Hu=e=>e?.map((e=>e?.text||"")).join("")||"";var ju=(0,i.PA)((()=>{const{calcForCartShippingVo:e}=(0,N.Pj)(),{shippingFeeVo:t,secondLineText:n,progressBarVo:r,goodsTotalAmount:i,freeShippingAmount:l,cartIcon:s,activityEndsTimeText:c}=e||{};(0,a.useEffect)((()=>{t?.length&&(0,A.A)("InfoBar2")}),[]);const u=(0,a.useMemo)((()=>{if(!c?.length)return{};let e=0,t=null,n=null;return c.forEach((a=>{a?.textFormat?.countDownTimeStamp?e=isNaN(+a?.text)?0:+a.text:e?n=a?.text||"":t=a?.text||""})),{endTime:e,afterNode:n,beforeNode:t}}),[c]),m=(0,a.useMemo)((()=>{const{iconWidth:e,iconHeight:t,iconLink:n}=s||{};return a.createElement("div",{className:Wu().icon,style:{backgroundImage:`url(${n})`,width:`${e}px`,height:`${t}px`}})}),[s]),d=(0,a.useMemo)((()=>parseInt((i||1)/(l||0)*100)/100||0),[i,l]),p=(0,a.useMemo)((()=>Hu(r)),[r]);if(!t?.length)return null;const g=!!n?.length;return a.createElement(kn.nU,{page_el_sn:200976,useClick:!1},a.createElement("div",{className:o()(Wu().bar,n?.length&&Wu().max)},m,a.createElement(kn.nU,{page_el_sn:200605},a.createElement("div",{className:Wu().text},a.createElement("span",{className:o()(Wu().firstLine,n?.length&&Wu().withSecondLine)},Hu(t)),n?.length?a.createElement("span",{className:Wu().secondText},Hu(n)):null)),a.createElement(Gu,{text:p,percent:d}),a.createElement("div",{className:Wu().placeholder}),a.createElement(Lu,(0,q.A)({},u,{isSecondLine:g}))))})),Vu=n(36138),qu=n(55179),Ku=n(27708),$u=n.n(Ku);var Qu=(0,In.W4)({name:"goodsQuickLook"})((0,i.PA)((e=>{const{t:t}=(0,p.B)("goods"),{wrapClassName:n,inSidebar:r,showGoodsImg:i,grayConfig:l,...s}=e,{skuParams:c,cartScene:u,goodsId:m,classConfig:d={},skuOptions:g}=s||{},{onClick:h,preloadSku:f}=(0,Vu.A)({pageSn:xn.LM,params:{goods_id:m,...c||{}},cartScene:u,skuOptions:g,showGoodsImg:i});return a.createElement("div",{className:o()($u().wrap,n,{[$u().inSidebar]:r}),id:`QuickLook-${m}`,title:`${t("quickLook.title")}`},a.createElement(qu.A,{trackingInfo:{},classConfig:{...d,container:d?.container,contentCls:d?.conentCls,icon:o()($u().quickLookIcon,d?.icon)},text:{text:t("quickLook.title")},addCart:h,preloadSku:f,grayConfig:l,iconUrl:"https://aimg.kwcdn.com/upload_aimg/transaction/6dbc3f74-d7eb-463e-8397-cc1101ecba8e.png.slim.png"}))}))),Yu=n(19732),Ju=n(35144),Xu=n.n(Ju);const Zu=201082;var em=(0,a.memo)((function(e){let{data:t,index:n,cartScene:r,pageElSn:i}=e;const l=(0,N.Pj)(),{goodsName:s,activityPriceStr:c,marketPriceStr:u,marketPriceIcon:m,skuList:p,salesTip:g,thumbUrl:h,goodsId:f,pRec:y,specIds:_,activityType:E,extendFields:S,salesTipTextList:v,salesTipText:I,linkUrl:w,complianceInfo:k}=t||{},A=v?.length?v:I||[],[C,T]=(0,a.useState)(t?.cartAmount||0),{rrp:x}=m||{};(0,a.useEffect)((()=>{const e=(0,b.Xu)((e=>{let{cartGoodsNumMap:t}=e;"object"==typeof t&&T(t[f]||0)}));return()=>{e()}}),[]);const{addSuccessStore:P,grayConfig:R}=l||{},M=P?.isFrequentlyBought,{type:D,iconInfo:B}=k||{},L=(0,a.useMemo)((()=>{const e={p_rec:y};return{imprEventData:e,clickEventData:e,pageSn:xn.LM,params:{goods_id:f,_oak_spec_ids:_},addCart:!0,showAdded:!0,cartScene:r||`${xn.xi.MainGoods}`,isAutoShowToast:!0,frontControl:{supportPersonalize:!0},skuInfoParams:{skuInfoScene:ka.DefaultSkuSelector},grayConfig:R,callback:e=>{const{addCartRes:t,error:n}=e;if(n)return(0,Fr.Ku)(n);(t?.result||{}).success&&l.queryShopCartInfo()}}}),[f,_]),O=(0,a.useCallback)((e=>{e.stopPropagation(),1==+e?.buttons&&(h&&(0,Ws.N)(h),fu.hb.preloadShow?.(L))}),[L]),W=(0,a.useCallback)((e=>{e.stopPropagation(),M&&(0,tn.Tn)({op:"click",page_el_sn:206062}),fu.hb.show(L)}),[L]);return a.createElement(kn.Rp,{page_el_sn:Zu,others:{rec_goods_id:f,idx:n,p_rec:y}},a.createElement($i,{className:o()(Xu().item,{[Xu().showQuickLook]:!l?.supportTouch}),url:(0,d.rE)({refer_page_el_sn:Zu},w),grayConfig:R?.cp149563||{},pageName:xn.sN},a.createElement("div",{className:Xu().goodsImg},a.createElement(Ln.A,{src:h,resizeWidth:300,alt:""}),a.createElement(Qu,{wrapClassName:Xu().quickLook,goodsId:f,inSidebar:!0,skuParams:{_oak_spec_ids:_},cartScene:xn.xi.MainGoods,trackingInfo:{rec_goods_id:f,idx:n,p_rec:y},showGoodsImg:h,grayConfig:R,skuOptions:{showAdded:!0}}),B?a.createElement(Bn.A,{type:1,data:B}):a.createElement(Ca.TU,{data:S?.engIcon,goodsId:f})),a.createElement("div",{className:Xu().right},a.createElement("div",{className:Xu().goodsInfo},a.createElement("div",{className:Xu().goodsName},s),p&&p.length>0?a.createElement("div",{className:Xu().skuList},p.map(((e,t)=>e.thumbUrl?a.createElement(Ln.A,{key:t,className:Xu().sku,src:e.thumbUrl,alt:""}):null))):null),a.createElement("div",{className:Xu().bottom},a.createElement("div",null,g?a.createElement("div",{className:Xu().sellInfo},a.createElement("div",{className:Xu().sold},A?.length?A?.map(((e,t)=>a.createElement("span",{className:Xu().soldItem,key:t},e))):g)):null,a.createElement("div",{className:Xu().priceWrap},a.createElement("div",{className:Xu().goodsPrice},E===va.Lightning?a.createElement(_u.A,{className:Xu().lightningIcon}):null,a.createElement("span",{className:o()(Xu().minOnSalePriceStr,E===va.Lightning&&Xu().lightningColor)},c),u?a.createElement("div",{className:Xu().linePrice},x?a.createElement("span",null,x):null,a.createElement("span",{className:Xu().marketPriceStr},u)):null))),a.createElement(kn.Rp,{useClick:!1,stopPropagation:!0,page_el_sn:M?null:200061,others:{cart_scene:8,cart_type:1,goods_id:f,p_rec:y}},a.createElement("div",{className:Xu().cart,onMouseDown:O,role:"link",tabIndex:0},a.createElement(Yu.A,{cartAmount:C,addCart:W,grayConfig:R||{}})))))))})),tm=n(95594),nm=n.n(tm);const am=(0,a.memo)((function(e){let{wrapRef:t,isExtendRef:n}=e;const r=(0,a.useRef)(null),{t:i}=(0,p.B)("goods"),[l,s]=(0,a.useState)(!1);(0,Ko.A)({ref:r,options:{root:t},onEnter:()=>{s(!1)},onLeave:()=>{n.current&&s(!0)}});const c=(0,a.useMemo)((()=>a.createElement("div",{className:o()(nm().title,l&&nm().sticky)},i("main_detail_addedPopup.stickTitle"))),[l]);return a.createElement("div",{className:nm().fixTitleWrap,ref:r},l?(0,gu.createPortal)(c,t.current):c)})),rm=(0,i.PA)((function(e){const t=(0,N.Pj)(),{t:n}=(0,p.B)("goods"),{addSuccessStore:r}=t,{goodsList:o,hasMore:i,loadMoreData:l}=r;return i&&!o?.length?null:a.createElement(yu.A,{wrapperClass:nm().list,datasource:o,hasMore:i,loadMoreData:l,renderItem:em,showLoading:!1,loadMoreText:n("main_detail_addedPopup.loadMore"),bottomWrapperClass:nm().bottomBtn})})),om=(0,i.PA)((function(e){let{promoToasts:t,className:n="",imageClassName:r="",textClassName:i="",textStyle:l={}}=e;return t?.length&&t[0]?.richContents?.length?a.createElement(kn.Rp,{page_el_sn:224177,useClick:!1},a.createElement("div",{className:o()(nm().promoToasts,n)},a.createElement(Oa.WK,{displayItems:t[0].richContents,imageClassName:r,textClassName:i,textStyle:l}))):null})),im=e=>{let{isFrequentlyBought:t,promoToasts:n}=e;const{t:r}=(0,p.B)("goods"),i=(0,N.Pj)(),{onMouseDown:l,onClick:s}=(0,hu.E)({scene:20001,grayConfig:i?.grayConfig?.cp124366});return a.createElement(a.Fragment,null,a.createElement("div",{className:o()(nm().delivery)},a.createElement(a.Fragment,null,a.createElement(om,{promoToasts:n,textClassName:nm().btnTopPromo,imageClassName:nm().btnTopPromoImg}),a.createElement(kn.Rp,{page_el_sn:t?null:201064},a.createElement(Ur.A,{onMouseDown:l,className:nm().cartBtn,onClick:s},r("main_detail_addedPopup.popupCorecartBtn"))))),a.createElement(kn.Rp,{page_el_sn:228078},a.createElement("div",{className:o()(nm().keepShoppingWrap)},a.createElement(Ut.A,{className:nm().cartBtn,onClick:()=>{(0,Zt.MJ)((0,d.rE)({jump_rec_refresh:1},"/"))},type:Gt.el.border},r("main_detail_addedPopup.keepShoppingBtnText")))))},lm=(0,i.PA)((function(e){const t=(0,N.Pj)(),{skuSalePriceSuffixRichMap:n,specCustom:r}=t,{t:i}=(0,p.B)("goods"),l=e.goodsList||[],s=e.goods||t.goods,c=e.selectedSku||t.selectedSku,{linePricePrefixMap:u}=t.moduleMap?.priceModule?.data||{},{goodsName:m,goodsId:d}=s||{},g=(0,a.useRef)(null),h=(0,a.useRef)(!1),f=(0,a.useRef)(null);(0,a.useEffect)((()=>{(0,Di.rO)(Di.gn.addedPopupShowTime)}),[]);const{popupCoreHead:y,isFail:_=!1}=e.extend||{},{isFrequentlyBought:E}=t.addSuccessStore,{pcSideBarPromo:b}=t.sideBarPromo||{},{promoToasts:S}=b||{},v=e=>{if(!e)return!1;const n=t.skuSalePricePrefixRichMap[e];return n?.some?.((e=>va.Lightning===e.id))};return a.createElement("div",{ref:g,className:nm().container},a.createElement("div",{ref:f,className:nm().core},a.createElement("div",{className:nm().padding},a.createElement("div",{className:nm().head},a.createElement("div",{className:nm().headTitle},!_&&a.createElement("div",{className:nm().iconWrap},a.createElement(xa.ib,{path:"M833.3 246.6c25.1-24.9 65.6-24.7 90.5 0.4 22.6 22.8 24.5 58.4 5.9 83.3l-6.3 7.2-496.3 492.2c-22.8 22.6-58.2 24.5-83.2 6l-7.2-6.2-245.5-246.1c-25-25-24.9-65.5 0.1-90.5 22.8-22.7 58.3-24.7 83.4-6.1l7.1 6.2 200.4 200.8 451.1-447.2z",className:nm().headIcon,fill:"#ffffff"})),y||i("main_detail_addedPopup.popupCoreHead"))),a.createElement(ju,null),a.createElement(a.Fragment,null,l.length>0?l.map(((e,t)=>{const{goodsName:n,goodsId:r}=e;return a.createElement(Ru,(0,q.A)({},e,{goodsName:n,key:`${r}-${t}`}))})):a.createElement(Ru,(0,q.A)({},c,{linePricePrefixMap:u,goodsName:m,goodsId:d,chargerInfo:r?.chargerInfo,isShowLightningIcon:v(c?.skuId),energyData:t?.goods?.energyTag,skuSalePriceSuffixRich:n[c?.skuId]||[]})))),a.createElement(im,{isFrequentlyBought:E,promoToasts:S}),a.createElement("div",{className:nm().gap}),a.createElement("div",{className:o()(nm().goodsList,nm().padding)},a.createElement(am,{wrapRef:g,isExtendRef:h}),a.createElement(rm,null))))}));var sm=(0,a.memo)((function(e){let{onClose:t,goods:n,goodsList:r,selectedSku:o,store:l,extend:s}=e;return(0,a.useEffect)((()=>(fu.hb.preload(),l.addSuccessStore.loadMoreData(),(0,A.A)("AddedPopup"),()=>{l.addSuccessStore.init()})),[]),a.createElement(i.Kq,{store:l},a.createElement(Ka.US,{onClick:()=>{(0,tn.Tn)({op:"click",page_el_sn:l?.addSuccessStore?.isFrequentlyBought?206063:201063}),t()}},a.createElement(lm,{goods:n,selectedSku:o,goodsList:r,extend:s})))}));var cm=n(68207),um=n.n(cm);const mm=e=>{(0,qn.P)({popupNode:a.createElement(dm,{data:e})})},dm=e=>{let{data:t}=e;const{title:n,content:r,contentList:i,titleColor:l,iconUrl:s}=t||{},c=(0,a.useMemo)((()=>a.createElement("span",{className:um().popupTitle,style:{color:l}},s?a.createElement(an.d,null,a.createElement(Nn.Ay,{src:s,alt:"",className:um().iconUrl})):null,n)),[n,l,s]);return a.createElement(yi.A,{title:c,onClose:qn.L,baseDialogProps:{dialogProps:{className:i?.length?um().l:um().s}}},a.createElement("div",{className:um().wrap},a.createElement("div",{className:um().content},r),i?.length?a.createElement("div",{className:um().list},i.map(((e,t)=>{const{title:n,desc:r,extra:i}=e||{},{popup:l,text:s,prefix:c}=i||{};return a.createElement("div",{className:um().item,key:t},n?a.createElement("div",{className:um().itemTitle},n):null,r?a.createElement("div",{className:um().itemDesc},r):null,s||c?a.createElement("div",{className:um().extraWrap},a.createElement("div",{className:o()(um().extra,{[um().clickable]:!!l}),tabIndex:l?0:-1,role:"button","data-aria-enter":"1",onClick:()=>(e=>{e?.content&&e?.title&&mm(e)})(l)},c,s,l?a.createElement(an.d,null,a.createElement(wn.A,{className:um().arrow})):null)):null)}))):null))};var pm=n(35554),gm=n(99908),hm=n(79653),fm=n(28854),ym=n(45189),_m=n(96074);var Em=n(59595),bm=n.n(Em);var Sm=e=>{let{goodsId:t,webpEnable:n}=e;const[r,o]=(0,a.useState)(0),[i,l]=(0,a.useState)([]),[s,c]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),d=(0,a.useRef)(r),p=(0,a.useRef)({listId:`semi_find_sim_${(0,dn.A)(6)}`,activeOptId:r,[r]:{goodsList:[],hasMore:!0}}),g=(0,a.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{activeOptId:n,listId:a}=p.current,{goodsList:r=[]}=p.current?.[n]||{},i={offset:r?.length||0,page_size:30,scene:"semi_find_sim",listId:a,mainGoodsId:t,mainGoodsIds:[t],page_el_sn:233253,optId:n};try{const{result:t}=await(async e=>(0,ym.z)((0,fm.w)("/api/poppy/v1/opt_list",e),e,_m.wu,{useAntiToken:!0,useRiskRetry:!0}))(i),{data:a,hasMore:d}=t||{},{goodsList:g=[],optList:h=[]}=a||{},f=(s=g,s?.map((e=>({data:e})))||[]);if(h?.length&&e){const e=(e=>e?.map((e=>({...e,label:e.optName,key:e.optId}))))(h);h.forEach((e=>{const{optId:t}=e||{};p.current?.[t]||(p.current[t]={hasMore:!0,goodsList:[]})})),l(e),o(e[0].optId);const t=e[0].optId;return p.current[t].goodsList=[].concat(r,f),p.current.activeOptId=t,p.current[t].hasMore=u&&f?.length,m(p.current[t].hasMore),void c(p.current[t].goodsList||[])}f?.length&&(p.current[n].goodsList=[].concat(r,f)),p.current[n].hasMore=d&&f?.length,m(p.current[n].hasMore),c(p.current[n].goodsList||[])}catch(e){o(d.current)}var s}),[]);(0,a.useEffect)((()=>{g(!0)}),[]),d.current=(0,hm.A)(r),(0,gm.A)((()=>{const{goodsList:e,hasMore:t}=p.current?.[r]||{};c(e||[]),m(t),e?.length||g()}),[r]);const h=(0,a.useCallback)((e=>{o(e.optId),p.current.activeOptId=e.optId}),[]),f=(0,a.useMemo)((()=>({goodsContainer:{goodsItem:bm().goodsContainer,goodsItemWrap:bm().goodsItemWrap}})),[]),y=(0,a.useCallback)(((e,t)=>({p_rec:e.pRec,opt_id:e.optId,opt_idx:t})),[]);return s?.length||i?.length||u?a.createElement(kn.nU,{page_el_sn:10003},a.createElement("div",{className:bm().wrap},i?.length?a.createElement("div",{className:bm().optList},a.createElement(sn.tU,{pageElSn:233251,data:i,type:cn.N.text,activeKey:r,onChange:h,trackingInfoFn:y,classConfig:{rightArrow:bm().arrow}})):null,a.createElement("div",{className:bm().content},a.createElement(mn.A,{pageSn:xn.LM,pageElSn:233253,hiddenTooltipItem:!0,cartScene:xn.xi.LocalInfoPopupRec,goodsCardClassName:bm().goodsCardClassName,datasource:s,listClassName:bm().goodsList,classConfig:f,loadMoreData:g,skuOptions:{showAdded:!0,frontControl:{supportPersonalize:!0}},skuParams:{_oak_page_source:250},hasMore:u,autoOptimize:!1,loadMode:"auto",pageGoodsNum:30,rowNum:4,webpEnable:n,isBackAutoShowCategoryCard:!0,isShowSkc:!0})))):null},vm=n(47111),Im=n.n(vm);var wm=e=>{let{onClose:t,data:n,showRec:r,goodsId:i,webpEnable:l,timeDistributedGrayData:s}=e;const{explainInfo:c,title:u,timeDistributed:m,timeDistributedTitle:d,content:p,timeDistributedExplain:g}=n||{},{deliveryTimelinessStyle:h,deliveryTimelinessMaxNum:f}=s||{};return(0,A.r)("LocalGoodsDeliveryInfoPopup"),a.createElement(Ka.Ay,{onClick:()=>{(0,ge.E0)({page_el_sn:233160}),t()},disableEsc:!1},a.createElement(kn.nU,{page_el_sn:233159,useClick:!1},a.createElement("div",{className:o()(Im().content,"none_sidebar_layout")},a.createElement("div",{className:Im().title},a.createElement(tr.l5,{newRichText:u})),a.createElement("div",{className:Im().scrollWrap},a.createElement("div",{className:Im().desc},a.createElement(tr.l5,{newRichText:c,style:{textAlign:"left"}})),m?.length?a.createElement("div",{className:Im().timeList},a.createElement("div",{className:Im().timeTitle},d),a.createElement("div",{className:Im().timeDesc},p),a.createElement(Nl,{data:m,isFold:[ra.Fold,ra.All].includes(h),useMaxProcessForBenchmark:[ra.UseMaxProcessForBenchmark,ra.All].includes(h),showNum:f}),g?a.createElement(Pl.Fc,{classConfig:{text:Im().timeDistributedExplain},message:g,type:Pl.SK.text,status:Pl.WH.grayText}):null):null,r?a.createElement(Sm,{goodsId:i,webpEnable:l}):null))))},km=n(19167),Nm=n.n(km);var Am=(0,In.W4)({name:"LocalGoodsDeliveryTag"})((0,i.PA)((()=>{const{webpEnable:e,deliveryTag:t,control:n,goodsId:r,skuInfoMap:i,optimalSku:l,delivery:s}=(0,N.Pj)(),{etc:c,shippingDetail:u,shippingDetailTitle:m}=s||{},{text1:d,shippingFloatingLayer:p,type:g,sellerType:h,icon:f,iconWidth:y,iconHeight:_}=i?.[l?.skuId]?.deliveryTag||t||{},{localWarehouseIterate:E}=n?.detailSupportExperimentControl||{},b=h===$n.offical&&u?.length,S=()=>{if(b){const t=(0,vn.A)(a.createElement(a.Fragment,null,a.createElement(xl,{popupInfo:u,shippingDetailTitle:m,etc:c,webpEnable:e,closePopup:()=>{t?.()}}),a.createElement(Vo.A,{close:()=>t?.(),isActive:!0})),{});return}if(!p?.title)return;const t=(0,vn.A)(a.createElement(wm,{goodsId:r,onClose:()=>t?.(),data:p,showRec:!0}),{})};return d&&1===E?a.createElement(a.Fragment,null,a.createElement(kn.nU,{page_el_sn:233158,others:{text_type:g}},a.createElement("div",{className:o()(Nm().wrap,{[Nm().clickAble]:!!p?.title||b}),onClick:S,tabIndex:0,role:"button","aria-label":d,"aria-haspopup":"dialog"},f?a.createElement(Nn.Ay,{alt:"",src:f,className:Nm().imgIcon,style:{width:y,height:_}}):a.createElement(pm.A,{className:Nm().icon}),a.createElement("span",{className:Nm().content},d)))):null}))),Cm=n(11934),Tm=n.n(Cm);const xm=e=>{let{data:t,level:n}=e;const{title:r,conditionDefinitions:o}=t||{},{t:i}=(0,p.B)("goods");return(0,a.useEffect)((()=>{setTimeout((()=>{if(void 0===n)return;const e=o?.findIndex((e=>Number(e.level)===Number(n))),t=document.querySelectorAll(`.${Tm().definition}`)?.[e];t?.scrollIntoView({behavior:"smooth"})}),500)}),[]),a.createElement(yi.A,{size:"l",title:r,onConfirm:qn.L,onClose:qn.L,confirmButtonLabel:i("goodsDetail.ok")},a.createElement("div",null,o?.map(((e,t)=>{const{definitionName:n,definitionDesc:r}=e||{};return a.createElement("div",{className:Tm().definition,key:t},n?a.createElement("div",{className:Tm().definitionTitle},n):null,r?.length?a.createElement("div",{className:Tm().desc},r?.map(((e,t)=>a.createElement("div",{className:Tm().descItem,key:t},e)))):null)}))))};n(25440);var Pm=e=>{let{text:t,keywords:n,style:r,className:o}=e;if(!t)return null;if(!n||0===n.length||!Array.isArray(n))return t;const i=n.map((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))),l=new RegExp(`(${i.join("|")})`,"gi"),s=t.split(l);return a.createElement(a.Fragment,null,s.map(((e,t)=>l.test(e)?a.createElement("span",{key:t,style:r,className:o},e):a.createElement(a.Fragment,{key:t},e))))},Rm=n(27383),Mm=n.n(Rm);const Dm=(0,i.PA)((function(){const e=(0,N.Pj)(),{moduleMap:t,optimalSku:n}=e,{skuPrefixes:r}=t?.goodsDetailTitleModule?.data||{},i=r?.[n?.skuId];return i?.textRich?.length?a.createElement(a.Fragment,null,a.createElement(tr.l5,{newRichText:i,className:o()(Mm().prefix,Mm().right),style:{textAlign:"left"}})):null})),Bm=(0,i.PA)((function(){const e=(0,N.Pj)(),{moduleMap:t,optimalSku:n,$service:r}=e,{skuSuffix:i}=t?.goodsDetailTitleModule?.data||{},l=i?.[n?.skuId],s=(0,a.useMemo)((()=>{const{content:e,type:t}=l?.action||{},{popType:n}=e||{};return!(!n||![di.CV.UsedInfoPopup].includes(n))||!(!t||t!==di.E.EnvironmentPopup)}),[l]),c=(0,B.je)((async e=>{const{content:t,type:n}=e||{},{popData:o,popType:i}=t||{},{goodsId:l,level:s}=o||{};if(i===di.CV.UsedInfoPopup){const{result:e}=await r.queryUsedInfo({goods_id:l})||{};e?.title&&e?.conditionDefinitions?.length&&(0,qn.P)({popupNode:a.createElement(xm,{data:e,level:s})})}n===di.E.EnvironmentPopup&&o?.content&&(0,qn.P)({popupNode:a.createElement(dm,{data:o})})}));return l?.textRich?.length?a.createElement(a.Fragment,null,a.createElement(tr.l5,{showPopup:s?c:void 0,supportShowPopup:s,newRichText:l,className:o()(Mm().suffix,Mm().right,{[Mm().used]:l?.action?.content?.popType===di.CV.UsedInfoPopup}),style:{textAlign:"left"}})):null})),Lm=e=>{const{children:t,showSplitLine:n}=e;return t?a.createElement(a.Fragment,null,t,n?a.createElement("span",{className:Mm().line}):null):null},Om=(0,i.PA)((function(){const e=(0,N.Pj)(),{moduleMap:t,optimalSku:n,deliveryTag:r,control:o}=e,{skuId:i}=n||{},{skuPrefixes:l,skuSuffix:s}=t?.goodsDetailTitleModule?.data||{},c=l?.[i],u=s?.[i],m=c?.textRich?.length,d=u?.textRich?.length,{text1:p}=r||{},{localWarehouseIterate:g}=o?.detailSupportExperimentControl||{},h=(0,a.useMemo)((()=>{const e=[];return m&&e.push({Comp:Dm,isSolidTag:!!c?.bgColor||!!c?.borderWidth}),p&&1===g&&e.push({Comp:Am,isSolidTag:!1}),d&&e.push({Comp:Bm,isSolidTag:!!u?.bgColor||!!u?.borderWidth}),e}),[d,u,m,p,g,c]);return a.createElement(a.Fragment,null,h.map(((e,t)=>{const{Comp:n,isSolidTag:r}=e||{},o=t!==h.length-1&&h.length>1&&r===h?.[t+1]?.isSolidTag;return a.createElement(Lm,{showSplitLine:o,key:t},a.createElement(n,null))})))}));var Wm=(0,In.W4)({name:"GoodsName"})((0,i.PA)((function(e){let{goodsName:t}=e;const n=(0,a.useRef)(null),r=t?.split?.(" ")||[],{grayConfig:i,titleSpecHighlight:l}=(0,N.Pj)(),s=1===i?.cp158269?.style,c=2===i?.cp158269?.style,[u,m]=(0,a.useState)(!(s||c)),[d,p]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(n.current){const{scrollWidth:e,clientWidth:t}=n.current;e>t&&(0,A.A)("goodsNameWordTooLong")}}),[]),(0,a.useEffect)((()=>{const e=()=>{if(n.current&&(c||s)){const{height:e}=n.current?.getBoundingClientRect()||{};e>45&&p(!0)}};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[n,c,s]),a.createElement(kn.nU,{page_el_sn:242168,useClick:!1,others:{firstcharacter_num:r?.[0]||"",topic_character_num:r?.join?.("")?.length||0}},a.createElement("div",{className:o()(Mm().wrap,{[Mm().fontSize14]:s,[Mm().fontSize15]:c}),style:!s&&!c||u?{}:{maxHeight:45},role:"textbox","aria-label":t},a.createElement("div",{className:o()(Mm().goodsName,!!l&&Mm().goodsNameWithHighlight),ref:n},a.createElement(Om,null),a.createElement("span",{className:Mm().goodsNameContent},a.createElement(Pm,{text:t||"",keywords:l?[l]:[],className:Mm().highlight}))),d&&!u?a.createElement("div",{className:Mm().arrowWrap},a.createElement(Po.A,{className:Mm().seeAllArrow,onClick:()=>m(!0)})):null))}))),zm=n(19615),Fm=n.n(zm);const Um=206971;function Gm(e){let{tailIcons:t,className:n,...r}=e;return a.createElement("div",(0,q.A)({className:o()(Fm().suffixIcons,n)},r),t.map((e=>e?.url?a.createElement(Ln.A,{src:e.url,resizeWidth:100,className:Fm().actionIcon,alt:""}):null)))}function Hm(e){let{action:t,tailIcons:n}=e;return n?.length?t?.type===Kn.Dialog?a.createElement(Yr.A,{appendToBody:!0,adapted:!0,overlay:a.createElement("div",{className:Fm().dialogContent},t?.content?.dialogContent)},a.createElement(Gm,{tailIcons:n,className:Fm().clickable})):a.createElement(Gm,{tailIcons:n}):null}var jm=(0,In.W4)({name:"Highlight"})((0,a.memo)((function(e){let{tag:t}=e;const{t:n}=(0,p.B)("goods"),{content:r}=t||{},i=r?.filter((e=>e?.text));return i?.length?a.createElement(he.Ay,{payload:{page_el_sn:Um,tag_list:i.map((e=>e.text))}},a.createElement("div",{className:Fm().wrap,"data-id":"module"},a.createElement("div",{className:Fm().title,role:"button"},n("main_detail.highlight")),a.createElement("div",{className:Fm().list,"aria-label":(0,za.ft)(i),role:"button"},i.map(((e,t)=>{const{text:n,icon:r,linkUrl:i,color:l,action:s,tailIcons:c}=e||{},{url:u}=r||{},{type:m,content:d}=s||{},{tailIcons:p}=d||{},g=m&&m===Kn.environmentalQualifications;return a.createElement(cs.N_,{seoUrl:i,url:i,tabIndex:0,onClick:()=>(e=>{const{linkUrl:t,text:n,action:a}=e,{type:r,content:o}=a||{},{popData:i}=o||{};r===Kn.environmentalQualifications&&i?.title&&i?.content?mm(i):t&&((0,tn.AI)(Um,{tag_name:n,srch_enter_source:"10032206971",search_method:"gd_tags"}),(0,Zt.MJ)(t,{openTarget:"_blank"}))})(e),className:o()(!i&&Fm().link,Fm().itemWrap,{[Fm().clickable]:g})},a.createElement("div",{key:t,className:Fm().item,"aria-label":n},u?a.createElement(Ln.A,{resizeWidth:50,src:u,"aria-hidden":!0,alt:n}):null,a.createElement("span",{className:o()(i&&Fm().text,c?.length&&Fm().icons),style:{color:l}},n),a.createElement(Hm,{action:s,tailIcons:p||c}),!!i&&a.createElement("div",{className:Fm().right},a.createElement(Ft.hu,{direction:"right",className:Fm().arrow,style:{fill:l},"aria-hidden":!0}))))}))))):null}))),Vm=n(16299),qm=n.n(Vm);const Km=(0,In.W4)({name:"TransitionText"})((0,a.memo)((function(e){const{children:t,rightMaskClassName:n,leftMaskClassName:r,className:i,showTransition:l,pageElSn:s,animationTime:c=5,speed:u,uniqueId:m=1,leftMaskStyle:d,rightMaskStyle:p}=e,g=(0,a.useRef)(),h=(0,a.useRef)(),[f,y]=(0,a.useState)(),_=(0,a.useMemo)((()=>u&&f?f/u:c),[c,f,u]),[E,b]=(0,a.useState)(!1),S=()=>{if(!h.current||!g.current)return;const{width:e}=h.current.getBoundingClientRect(),{width:t}=g.current.getBoundingClientRect();b(t>e),y(t)};return(0,a.useEffect)((()=>{S();const e=(0,Ls.s)(S,50);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[h.current,g.current,l]),(0,a.useEffect)((()=>{S()}),[h.current,g.current,l,m]),a.createElement(kn.nU,{page_el_sn:s},a.createElement("div",{className:o()(qm().wrap,i,E&&qm().transitionWrap),ref:h},a.createElement("div",{className:o()(qm().cont,E&&l&&qm().showAni),style:{animationDuration:_+"s"}},a.createElement("div",{className:o()(qm().txt),ref:g},(0,a.cloneElement)(t)),a.createElement("div",{className:o()(qm().txt)},(0,a.cloneElement)(t))),E&&l?a.createElement("div",{className:o()(qm().leftMask,r),style:d}):null,E?a.createElement("div",{className:o()(qm().rightMask,n),style:p}):null))})));var $m=n(43935),Qm=n.n($m);var Ym=(0,In.W4)({name:"LocalGoodsDeliveryInfo"})((0,i.PA)((()=>{const{deliveryTag:e,control:t,goodsId:n}=(0,N.Pj)(),{text1:r,text2:i,shippingFloatingLayer:l,type:s}=e||{};return r&&i&&1!==t?.detailSupportExperimentControl?.localWarehouseIterate?a.createElement(kn.nU,{page_el_sn:233158,others:{text_type:s}},a.createElement("div",{className:o()(Qm().wrap,{[Qm().clickAble]:!!l?.title,[Qm().greenStyle]:1===t?.detailSupportExperimentControl?.supportDeliveryTagStyle}),onClick:()=>{if(!l?.title)return;const e=(0,vn.A)(a.createElement(wm,{goodsId:n,onClose:()=>e?.(),data:l,showRec:!0}),{})},tabIndex:0,role:"button","aria-label":`${r}${i}`,"aria-haspopup":"dialog"},a.createElement(an.d,null,a.createElement(pm.A,{className:Qm().icon})),a.createElement("div",{className:Qm().left},r),a.createElement("div",{className:Qm().line}),a.createElement("div",{className:Qm().right},a.createElement(Km,{showTransition:!0,speed:40,className:Qm().transition,leftMaskClassName:Qm().leftMaskClassName,rightMaskClassName:Qm().rightMaskClassName},a.createElement("div",{className:Qm().txt},i))))):null}))),Jm=n(9975),Xm=n.n(Jm);var Zm=(0,i.PA)((e=>{let{className:t,onClickAdd:n,cartScene:r=xn.xi.MainGoods,buttonContent:o,btnText:i,buttonType:l=Gt.el.primary,btnBottomContent:s,beforeContentIcon:c,beforeBtnTextIcon:u,style:m,pageElSn:d}=e;const{t:g}=(0,p.B)("goods"),h=o||i||g("main_detail.btnText");return a.createElement("div",{className:Xm().wrap,"aria-label":h,role:"button","data-id":"button"},a.createElement(er.Y,{useClick:!1,useLoad:!1,pageElSn:d||200061,others:{cart_scene:r,cart_type:0},className:t,type:l,onClick:n,btnContent:h,btnBottomContent:s,beforeBtnTextIcon:u,beforeContentIcon:c,style:m}))})),ed=n(67388),td=n(50667),nd=n.n(td);const ad=e=>{let{onClick:t=za.lQ,cartScene:n,page_el_sn:r=212740,className:i,buttonType:l}=e;const s=l===Gt.el.border;return a.createElement("div",{className:o()(nd().left,nd().operation,s&&nd().operation4BorderButtonStyle,i),role:"button",tabIndex:0,onClick:t},a.createElement(kn.Rp,{page_el_sn:r,others:{cart_scene:n}},a.createElement(ed.i,{className:nd().operationIcon,path:"M853.3 448c35.3 0 64 28.7 64 64 0 32.4-24.1 59.2-55.3 63.4l-8.7 0.6-682.6 0c-35.3 0-64-28.7-64-64 0-32.4 24.1-59.2 55.3-63.4l8.7-0.6 682.6 0z"})))},rd=(0,a.memo)((function(e){const{addedAmount:t,limitQuantity:n=99,onClickAdd:r,isScrolling:i,cartScene:l,renderCustomSubBtn:s,onSubClick:c,midBubbleListPlacement:u="bottom",className:m,onChange:d,min:g=0,verifyNextVal:h,buttonType:f,renderCustomListItem:y,listWrapClassName:_,specText:E,style:b}=e,S=(0,a.useRef)(),v=f===Gt.el.border,{t:I}=(0,p.B)("goods");(0,a.useEffect)((()=>{i&&S.current?.close()}),[i]);const w=async()=>{c?.();const e=t-1,n=e<=g?Sa.Delete:Sa.Update,a=e<=g?0:-1;await r({addCount:a,operateType:n,cartScene:l}),d?.()},k=(0,_o.A)((async e=>{if(S.current?.close(),e-t<=g&&(0,ge.E0)({page_el_sn:212286,cart_scene:l,cart_type:4,quantity:e,choose_effect:2,sku_number:e-t}),e===t)return;let n=!0;"function"==typeof h&&(n=h(e)),n&&(await r({addCount:e-t,operateType:Sa.Update,clickEventData:{page_el_sn:212286,quantity:e,choose_effect:1},cartScene:l}),d?.())})),N=Math.min(n,99),A=(0,a.useMemo)((()=>new Array(N).fill(0).map(((e,t)=>t+1))),[N]);return a.createElement("div",{className:o()(nd().addCartBtn,v&&nd().addCartBtn4BorderButtonStyle,m),"data-id":"button",style:b},v?a.createElement("span",{className:nd().inner}):null,"function"==typeof s?s({addedAmount:t}):a.createElement(ad,{onClick:w,cartScene:l,buttonType:f}),a.createElement(Yr.A,{overlay:a.createElement(kn.Rp,{page_el_sn:212253,useClick:!1},a.createElement("div",{className:o()(nd().listWrap,nd().listX,_)},a.createElement("div",{className:nd().listY},A?.map((e=>{const n=t===e;return a.createElement("div",{className:o()(nd().listItem,{[nd().activeItem]:n,[nd().disableItem]:e<g&&!n}),key:e,role:"button",tabIndex:0,onClick:()=>k(e)},"function"==typeof y?y({num:e,isActive:n}):a.createElement(a.Fragment,null,e,n?a.createElement(ed.i,{path:"M833.3 246.6c25.1-24.9 65.6-24.7 90.5 0.4 22.6 22.8 24.5 58.4 5.9 83.3l-6.3 7.2-496.3 492.2c-22.8 22.6-58.2 24.5-83.2 6l-7.2-6.2-245.5-246.1c-25-25-24.9-65.5 0.1-90.5 22.8-22.7 58.3-24.7 83.4-6.1l7.1 6.2 200.4 200.8 451.1-447.2z","aria-hidden":!0,className:nd().arrowIcon}):null))}))))),placement:u,trigger:["click"],overlayClassName:nd().bubble,ref:S,appendToBody:!0},a.createElement("div",{className:o()(nd().mid,v&&nd().mid4BorderButtonStyle),onClick:e=>{e.stopPropagation()},role:"button",tabIndex:0},a.createElement(kn.Rp,{page_el_sn:212741,others:{cart_scene:l}},a.createElement("div",{className:nd().midContainer},a.createElement("div",{className:nd().midTop},t,a.createElement("span",{className:nd().added},I(t>1?"main_detail.AddedPlural":"main_detail.Added"))),a.createElement("div",{className:nd().spec},E))))),a.createElement(kn.Rp,{useClick:!1,page_el_sn:212739,others:{cart_scene:l,cart_type:0}},a.createElement("div",{className:o()(nd().right,nd().operation,v&&nd().operation4BorderButtonStyle),onClick:async()=>{await r({addCount:1,operateType:Sa.Update,clickEventData:{page_el_sn:212739},cartScene:l}),d?.()},role:"button",tabIndex:0},a.createElement(ed.i,{className:nd().operationIcon,path:"M512 106.7c32.4 0 59.2 24.1 63.4 55.3l0.6 8.7 0 277.3 277.3 0c35.3 0 64 28.7 64 64 0 32.4-24.1 59.2-55.3 63.4l-8.7 0.6-277.3 0 0 277.3c0 35.3-28.7 64-64 64-32.4 0-59.2-24.1-63.4-55.3l-0.6-8.7 0-277.3-277.3 0c-35.3 0-64-28.7-64-64 0-32.4 24.1-59.2 55.3-63.4l8.7-0.6 277.3 0 0-277.3c0-35.3 28.7-64 64-64z"}))))}));var od=(0,i.PA)((e=>{let{onClickAdd:t,isScrolling:n,cartScene:r,className:o,buttonType:i,style:l}=e;const{currentSpecIdSelect:s,selectedSku:c,addedAmount:u,selectedSkuSpec:m,addCountLimit:d,message:p}=(0,N.Pj)(),{skuId:g}=c||{},h=async()=>{const e=d?d-1:0,n=u-1,a=n<=e?Sa.Delete:Sa.Update,r=n<=e?0:-1;await t({addCount:r,operateType:a})},{limitQuantity:f}=c||{},y=(0,a.useMemo)((()=>m.map((e=>e.specValue))?.join("/")),[s,m]);return a.createElement(rd,{addedAmount:u,limitQuantity:f,skuId:g,specText:y,cartScene:r,isScrolling:n,min:d,verifyNextVal:(e,t)=>d&&e<d?(p?.minQuantityToast&&La.A.info(p?.minQuantityToast),t):e,onClickAdd:t,renderCustomSubBtn:()=>a.createElement(ad,{onClick:h,buttonType:i}),className:o,buttonType:i,style:l})}));var id=(0,i.PA)((e=>{let{onClickAdd:t}=e;const{t:n}=(0,p.B)("goods");return a.createElement(er.Y,{onClick:t,btnContent:n("main_detail.btnGiftText"),"data-id":"button"})})),ld=n(24805),sd=n.n(ld);var cd=(0,i.PA)((e=>{let{onClickAdd:t,className:n,style:r}=e;const{t:i}=(0,p.B)("goods"),l=(0,N.Pj)(),{selectedSku:s,addOrderInfoStore:c,moduleMap:u,optimalSku:m}=l,{skuButtonCustoms:d,skuButtonSubBlock:g}=u?.bottomButtonModule?.data?.oneClickPayButton||{},{order:h,isAddOrderScene:f,isFromAddOrderPage:y}=c,{skuId:_}=s||{},{skuId:E}=m||{},{parentOrder:b,buttonDesc:S}=h||{},{parentOrderSn:v}=b||{},I={add_scene:_?0:1,original_order_sn:v},w=y?304:406,{buttonTitle:k}=d?.[E]||{},A=(0,a.useMemo)((()=>g?.[E]?.textRich?.length?a.createElement(tr.l5,{newRichText:g[E]}):a.createElement(rr,null)),[g,E]),C=k||S||i("main_detail.btnAllowPurchaseText");return f?a.createElement(er.Y,{pageElSn:200829,others:I,onClick:()=>t({addType:xn.H$.addOrder,pageSource:w,cartScene:xn.xi.AddOrder,frontControl:{supportPersonalize:!0},addCustomInfoBtnText:C}),btnContent:C,label:i("main_detail.btnAllowPurchaseText"),btnBottomContent:A,className:o()(sd().min,n),style:r,showFlash:!0,"data-id":"button"}):null})),ud=n(36059),md=n.n(ud);function dd(e){let{iconUrl:t,className:n=""}=e;return t?a.createElement("div",{className:o()(md().lightImgWrap,n)},a.createElement(Ln.A,{src:t,resizeWidth:500,className:md().lightImg})):null}function pd(e){let{iconUrl:t}=e;return t?a.createElement(Ln.A,{src:t,resizeWidth:100,className:md().smallIcon,alt:""}):null}var gd=n(21854),hd=n.n(gd);const fd=(0,In.W4)({name:"BtnBottomPromotionContent"})((0,i.PA)((function(e){let{benefit:t,className:n,pageElSn:r,enableTransition:i,transLeftMaskStyle:l,transRightMaskStyle:s}=e;const[c,u]=(0,a.useState)(t),[m,d]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),h=(0,a.useRef)();(0,a.useEffect)((()=>{(null===t||t)&&u(t)}),[t]),(0,a.useEffect)((()=>{d(!0)}),[c]);const f=()=>u(null);if(!c)return null;const y=r?{...c,track:{impr:{pageElSn:r,btn_benefits_type:c?.trackingKey},useClick:!1}}:c;return a.createElement("div",{className:o()(hd().wrap,n,{[hd().unvisible]:!m}),style:m?{}:{animation:"none"},onAnimationEnd:()=>{i&&(clearTimeout(h.current),h.current=setTimeout((()=>{g(!0)}),1e3))}},i?a.createElement(Km,{showTransition:p,className:hd().transitionText,speed:25,uniqueId:c,leftMaskStyle:l,rightMaskStyle:s},a.createElement(tr.l5,{newRichText:y,className:hd().richTextWithTransition,timeEndCb:f})):a.createElement(tr.l5,{newRichText:y,className:hd().richText,timeEndCb:f}))})));const yd=new(n(37007).EventEmitter),_d={BUY_NOW_CLICK:Symbol("BUY_NOW_CLICK")};var Ed=n(77102),bd=n.n(Ed);var Sd=(0,i.PA)((e=>{let{onClickAdd:t,buttonType:n,className:r,style:i,btnText:l,hideButtonSubtext:s,pageElSn:c}=e;const{t:u}=(0,p.B)("goods"),m=(0,N.Pj)(),{buyNowButtonStore:d,addCartButtonStore:g}=m,{buyNowBenefitRich:h,prefetch:f,supportQuickMerge:y,buyNowButtonTag:_}=d||{},{activityBottomIcon:E,isShowBeforeContentIcon:b,isShowBeforeBtnTextIcon:S,isShowClearanceMainButtonStyle:v,clearanceMainButtonStyleData:I}=g||{},{iconUrl:w,text:k}=_||{},C=v?{"--left-mask-bg-color":I?.normalColor,"--right-mask-bg-color":I?.normalColor}:{},T={buy_scene:ir.GOODS_DETAIL};(0,a.useEffect)((()=>{(0,A.A)("BuyNowButtonShow"),y&&Jc?.()}),[]);const x=(0,pn.w)(t);(0,a.useEffect)((()=>(yd.on(_d.BUY_NOW_CLICK,x),()=>{yd.off(_d.BUY_NOW_CLICK,x)})),[x]);return a.createElement("div",{className:bd().wrap,"data-id":"button"},a.createElement(er.Y,{useClick:!1,useLoad:!1,pageElSn:c||or,others:T,onMouseDown:e=>{e.preventDefault(),1==+e?.buttons&&f()},onMouseLeave:()=>{y&&eu?.()},onClick:t,type:n,btnContent:l||u("main_detail.buyNowBtnText"),className:o()(b&&bd().btn,r),style:i,btnBottomContent:1!==s?a.createElement(fd,{benefit:h,pageElSn:235809,className:o()({[bd().promotion]:b,[bd().promotionWithInstallmentBenefit]:!b}),enableTransition:!0,transLeftMaskStyle:C,transRightMaskStyle:C}):null,beforeBtnTextIcon:S?a.createElement(pd,{iconUrl:E.activitySmallIcon}):null,beforeContentIcon:b?a.createElement(dd,{iconUrl:E.activityBigIcon}):null}),!!k&&a.createElement("span",{className:bd().tag},!!w&&a.createElement(Ln.A,{src:w,className:bd().tagIcon,"aria-hidden":!0,resizeWidth:40,alt:""}),a.createElement("span",{className:bd().tagText},k)))}));const vd=(0,a.memo)((function(e){const{onClickAdd:t,className:n,style:r,btnBottomContent:o}=e||{},{t:i}=(0,p.B)("goods");return a.createElement(er.Y,{type:Gt.el.primary,onClick:t,btnContent:i("main_personalization.Personalize"),btnBottomContent:o,label:i("main_personalization.Personalize"),"data-id":"button",className:n,style:r})}));var Id=n(56733),wd=n(24808),kd=n(26013);function Nd(){const{findSimilarStore:e,grayConfig:t,selectedSku:n,goods:r,goodsId:o,localInfo:i}=(0,N.Pj)(),{showFindSimilarPopup:l}=e,s=(0,wd.xc)(i?.region)||Id.DR.us,c=!!t?.[Ad[s]]?.value,u=(0,a.useMemo)((()=>{const{salePriceRich:e,linePriceRich:t,goodsName:a}=r||{},{salePriceRich:i,linePriceRich:l}=n||{};return{goodsId:o,thumbUrl:n?.thumbUrl||r?.hdThumbUrl||r?.thumbUrl,priceInfo:{priceText:(i||e)?.map((e=>e.text))||[],marketPriceText:(l||t)?.map((e=>e.text))||[]},title:a}}),[o,r,n]);return{showFindSimilar:(0,Ma.x)((()=>{c?(0,kd.t)({mainGoodsInfo:u,pageSn:xn.LM}):l()}),200)}}const Ad={[Id.DR.eu]:"cp146095",[Id.DR.us]:"cp145133",[Id.DR.udp]:"cp145133"};var Cd=(0,i.PA)((e=>{let{className:t,style:n}=e;const{t:r}=(0,p.B)("goods"),{supportFindSimilar:o}=(0,N.Pj)(),{showFindSimilar:i}=Nd();return o?a.createElement(er.Y,{pageElSn:203048,onClick:i,btnContent:r("main_detail.findSimilar"),label:r("main_detail.findSimilar"),"data-id":"button",className:t,style:n}):null})),Td=n(34077),xd=n.n(Td);var Pd=(0,i.PA)((e=>{let{buttonType:t,className:n,style:r,btnBottomContent:o}=e;const{t:i}=(0,p.B)("goods");(0,a.useEffect)((()=>{(0,A.A)("GotocartButtonShow")}),[]);const{onMouseDown:l,onClick:s}=(0,hu.E)({scene:20001,grayConfig:{prerender:1}});return a.createElement("div",{className:xd().wrap,style:{maxWidth:"292px"},"data-id":"button"},a.createElement(er.Y,{useClick:!0,useLoad:!1,pageElSn:228098,onMouseDown:l,onClick:()=>{s(),(0,A.A)("GotocartButtonClick")},type:t,btnContent:i("main_detail_addedPopup.popupCorecartBtn"),btnBottomContent:o,className:n,style:r}))}));var Rd=(0,i.PA)((e=>{let{onClickAdd:t}=e;const{moduleMap:n,optimalSku:r}=(0,N.Pj)(),{pointsRedeemButtonMap:o}=n?.bottomButtonModule?.data||{},{skuId:i}=r||{},{buttonText:l}=o?.[i]||{};return a.createElement(er.Y,{onClick:t,btnContent:l,"data-id":"button"})})),Md=n(55993),Dd=n.n(Md),Bd=(0,Xt.A)((0,In.W4)({name:"MainButton"}),i.PA)((e=>{let{onClickAdd:t,isScrolling:n,cartScene:r}=e;const{t:i}=(0,p.B)("goods"),l=(0,N.Pj)(),{isGiftGoods:s,showFindSimilarBar:c,goodsSoldOut:u,isSEOSoldOut:m,isSupportNewCustomized:d,addedAmount:g,goToCartBenefitRich:h,buyNowButton:f,addCartButtonStore:y,addOrderInfoStore:_,buyNowButtonStore:E,selectedBenefitTags:b,redeemPointsBtnStore:S,moduleMap:v,optimalSku:I}=l,{isRedeemPoints:w}=S,{isAddOrderScene:k,isGoodsAddOrderAB:A}=_,{addCartBenefitBlack4Bottom:C,addCartBenefit4Bottom:T,activityBottomIcon:x,isShowBeforeContentIcon:P,isShowBeforeBtnTextIcon:R,isShowClearanceMainButtonStyle:M,clearanceButtonStyle:D,clearanceMainButtonStyleData:B}=y,{buyNowBenefitRich:L}=E,{addToCartButton:O}=v?.bottomButtonModule?.data||{},{skuId:W}=I||{},z=(0,a.useMemo)((()=>({btn_benefits_type:C?.trackingKey})),[C]),F=(0,a.useMemo)((()=>({page_el_sn:or,buy_scene:ir.SKU,btn_benefits_type:L?.trackingKey})),[L]),U=(0,a.useMemo)((()=>O?.skuButtonCustoms?.[W]),[W]),G=(0,a.useMemo)((()=>f?.skuButtonCustoms?.[W]),[W]),H=M?{"--left-mask-bg-color":B?.normalColor,"--right-mask-bg-color":B?.normalColor}:{};if(u||m)return a.createElement(er.Y,{useLoad:!1,disable:!0,btnContent:i("main_detail.soldOut"),"data-id":"button"});if(s)return a.createElement(id,{onClickAdd:()=>t({addType:xn.H$.addGift})});if(w)return a.createElement(Rd,{onClickAdd:()=>t({addType:xn.H$.redeemPoints})});if(c)return a.createElement(a.Fragment,null,a.createElement(Cd,{className:o()({[Dd().clearanceBtn]:M}),style:M?D:{}}));if(A)return a.createElement(a.Fragment,null,a.createElement(cd,{onClickAdd:t,className:o()({[Dd().clearanceBtn]:M}),style:M?D:{}}),a.createElement(Zm,{onClickAdd:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t({addType:xn.H$.addCart,cartScene:r,frontControl:{supportPersonalize:!0},...e})},buttonType:Gt.el.border,cartScene:r}));if(k&&!A)return a.createElement(a.Fragment,null,a.createElement(cd,{onClickAdd:t,className:o()({[Dd().clearanceBtn]:M}),style:M?D:{}}));if(f){const e=!!g&&!d;return a.createElement(a.Fragment,null,!e&&a.createElement(Zm,{onClickAdd:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t({addType:xn.H$.addCart,trackingInfo:z,clickEventData:{page_el_sn:200061,...b,...z},cartScene:r,frontControl:{supportPersonalize:!0},...e})},btnText:U?.buttonTitle,btnBottomContent:1!==U?.hideButtonSubtext?a.createElement(fd,{benefit:C,pageElSn:235808}):null,buttonType:Gt.el.border,cartScene:r,className:Dd().addButton}),!!e&&a.createElement(od,{onClickAdd:t,isScrolling:n,cartScene:r,buttonType:Gt.el.border}),a.createElement(Sd,{onClickAdd:()=>t({trackingInfo:F,clickEventData:F,addType:xn.H$.buyNow,cartScene:"",frontControl:{supportPersonalize:!0},addCustomInfoBtnText:i("main_detail.buyNowBtnText")}),className:o()(Dd().buyNowButton,{[Dd().clearanceBtn]:M}),style:M?D:{},btnText:G?.buttonTitle,hideButtonSubtext:G?.hideButtonSubtext}))}return d?a.createElement(vd,{onClickAdd:()=>t({frontControl:{supportPersonalize:!0}}),className:o()({[Dd().clearanceBtn]:M}),style:M?D:{},btnBottomContent:1!==U?.hideButtonSubtext?a.createElement(fd,{benefit:T,className:o()(P&&Dd().promotion),pageElSn:235808}):null}):g?a.createElement(a.Fragment,null,a.createElement(od,{onClickAdd:t,isScrolling:n,className:Dd().addedButton4Gotocart,cartScene:r,buttonType:Gt.el.border}),a.createElement(Pd,{className:o()({[Dd().clearanceBtn]:M}),style:M?D:{},btnBottomContent:a.createElement(fd,{benefit:h,className:o()(P&&Dd().promotion),enableTransition:!0,transLeftMaskStyle:H,transRightMaskStyle:H})})):a.createElement(Zm,{className:o()({[Dd().clearanceBtn]:M}),style:M?D:{},onClickAdd:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Di.SD)([Di.gn.addedPopupShowTime,Di.gn.goodsPullUpSkuTime]),t({addType:xn.H$.addCart,cartScene:r,frontControl:{supportPersonalize:!0},...e})},btnText:U?.buttonTitle,btnBottomContent:1!==U?.hideButtonSubtext?a.createElement(fd,{benefit:T,className:o()(P&&Dd().promotion),pageElSn:235808}):null,cartScene:r,beforeContentIcon:P?a.createElement(dd,{iconUrl:x.activityBigIcon}):null,beforeBtnTextIcon:R?a.createElement(pd,{iconUrl:x.activitySmallIcon}):null})})),Ld=n(7417),Od=n.n(Ld);let Wd;async function zd(){return Wd||(Wd=n.e(1752).then(n.bind(n,34800)).then((e=>{let{default:t}=e;return t})).catch((()=>null)),Wd)}var Fd=(0,Xt.A)((0,In.W4)({name:"PackingInfo"}),i.PA)((()=>{const{t:e}=(0,p.B)("goods"),{moduleMap:t,$service:n,goodsId:r,sku:o}=(0,N.Pj)(),{packingInfoEntrance:i}=t?.productDetailExtensionModule?.data,l=(0,_o.A)((async()=>{const t=(e=>{const{specs:t}=e?.[0]||{};return t?.map?.((e=>e?.specKeyId))||[]})(o),[i,l]=await Promise.all([n.queryGoodsExtend({packing_info_req:{need_packing_info:1,spec_key_ids:t},goods_id:r}),zd()]);i?.goodsPackingInfo&&l?(0,qn.P)({popupNode:a.createElement(l,{packingInfo:i.goodsPackingInfo})}):(La.A.error(e("goodsDetail.noNetwork")),(0,A.A)("show PackingInfoPopup fail"))}));return i?.title?a.createElement(kn.nU,{page_el_sn:238779},a.createElement("div",{className:Od().wrap,tabIndex:0,"aria-label":i.title,role:"button",onClick:l},a.createElement("span",{className:Od().text},i.title),a.createElement(wn.A,{className:Od().arrow}))):null})),Ud=n(90524),Gd=n.n(Ud);var Hd=(0,i.PA)((()=>{const{preOrderTip:e,selectedSku:t}=(0,N.Pj)(),{t:n}=(0,p.B)("goods"),[r,i]=(0,a.useState)(e),{text:l,textFormat:s,iconUrl:c,dialog:u,iconColor:m}=r||{},{fontSize:d,color:g,fontWeight:h}=s||{};(0,a.useEffect)((()=>{const{skuId:n}=t||{};n&&null!==e||i(null),e&&i(e)}),[t?.skuId,e]);if(!l)return null;return a.createElement(kn.Rp,{page_el_sn:206619},a.createElement("div",{className:Gd().wrap},a.createElement("div",{className:Gd().tipContent,onClick:e=>{e.stopPropagation();const{title:t,content:r}=u||{},o=(0,vn.A)(a.createElement(Ka.Ay,{onClick:()=>o()},a.createElement("div",{className:Gd().dialogWrap},a.createElement("div",{className:Gd().title},t),a.createElement("div",{className:Gd().content},r?.map(((e,t)=>a.createElement("div",{key:t},e)))),a.createElement(Ut.A,{className:Gd().confirm,onClick:()=>o()},n("PreOrder.PopupConfirm")))),{});(0,A.A)("PreOrderPopup")},role:"button","aria-haspopup":"dialog","aria-label":l,tabIndex:0},m&&c?a.createElement("span",{style:{backgroundColor:m,mask:`url(${c}) 0% 0% / 100% 100% no-repeat`,WebkitMask:`url(${c}) 0% 0% / 100% 100% no-repeat`,maskSize:"100% 100%",WebkitMaskSize:"100% 100%",display:"inline-block"},className:o()(Gd().maskImg,Gd().icon)}):c?a.createElement(Nn.Ay,{className:Gd().icon,src:c,alt:""}):null,a.createElement("span",{style:{fontSize:d,color:g,fontWeight:h}},l),u?a.createElement(Qr.A,{className:Gd().question,"aria-hidden":!0}):null)))})),jd=n(94976),Vd=n.n(jd);const qd=e=>{let{closePopup:t,data:n}=e;const{popupButtonTextDisplayItem:r,popupRuleListDisplayItem:o,popupTitleDisplayItem:i}=n||{};return a.createElement(Ka.Ay,{onClick:t,useSplitBg:!0},a.createElement("div",{className:Vd().wrap},i?.displayItems?.length?a.createElement("div",{className:Vd().title},a.createElement(Oa.mJ,{displayItems:i.displayItems})):null,o?.length?a.createElement("div",{className:Vd().content},o.map(((e,t)=>e?.displayItems?.length?a.createElement("div",{className:Vd().infoItem,key:t},a.createElement(Oa.mJ,{displayItems:e.displayItems})):null))):null,r?.displayItems?.length?a.createElement("div",{className:Vd().btnWrap},a.createElement(Ut.A,{onClick:t,className:Vd().btn},a.createElement(Oa.mJ,{displayItems:r.displayItems}))):null))};var Kd=n(2484),$d=n.n(Kd);const Qd=(0,i.PA)((e=>{let{promotion:t}=e;const{endTimeText:n,discountInfoText:r,discountPopupInfoDto:o}=t||{},{popupButtonTextDisplayItem:i,popupRuleListDisplayItem:l,popupTitleDisplayItem:s}=o||{},c=!!n?.displayItems?.length,u=!!r?.displayItems?.length,m=!!(i&&l&&s),[d,p]=(0,a.useState)(c||u);if(!d)return null;const g=()=>{p(!1)};return a.createElement("div",{className:$d().contentWrap},u?a.createElement(Oa.mJ,{displayItems:r.displayItems,onCountDown:g,timeCls:$d().digits}):null,c?a.createElement(a.Fragment,null,a.createElement("span",{className:$d().line}),a.createElement(Oa.mJ,{displayItems:n.displayItems,onCountDown:g,timeCls:$d().digits})):null,m?a.createElement(Qr.A,{className:$d().icon,onClick:()=>{(e=>{let{data:t}=e;const n=(0,vn.A)(a.createElement(qd,{closePopup:()=>n?.(),data:t}),{})})({data:o})}}):null)}));var Yd=(0,In.W4)({name:"DailyPromotion"})((0,i.PA)((()=>{const{promotionUnderThePriceModule:e,promotionUnderThePriceModuleV2:t,optimalSku:n}=(0,N.Pj)(),{skuId:r}=n||{},o=t?.skuPromotionDescMap?.[r],i=e?.[r],l=(0,a.useMemo)((()=>o?.length?o:i?[i]:[]),[i,o]);return l?.length?a.createElement(kn.Rp,{useClick:!1,page_el_sn:232448},a.createElement("div",{className:$d().wrap},l.map(((e,t)=>a.createElement(Qd,{key:t,promotion:e}))))):null}))),Jd=n(16808),Xd=n.n(Jd),Zd=(0,Xt.A)((0,In.W4)({name:"GiftCell"}),i.PA)((function(){const{giftGoodsInfo:e}=(0,N.Pj)(),{giftCell:t}=e||{},{displayItems:n}=t||{};return n?.length?a.createElement("div",{className:Xd().wrap,role:"button","aria-label":(0,za.ft)(n?.filter((e=>0===e.displayType&&e.text)))},n.map(((e,t)=>{const{text:n,url:r,displayType:o,fontColor:i,height:l,width:s,fontWeight:c=400}=e||{},u={color:i,fontWeight:c},m={width:s,height:l};return 100===o&&r?a.createElement("div",{className:Xd().giftImage,key:t},a.createElement(Ln.A,{src:r,quality:90,style:m,"aria-hidden":!0,alt:""})):0===o&&n?a.createElement("div",{className:Xd().giftText,style:u,key:t},n):null}))):null})),ep=n(58681),tp=n(70581),np=n.n(tp);var ap=(0,In.W4)({name:"MemberPromotion"})((0,i.PA)((()=>{const{richTextBlockUnderThePriceModule:e,optimalSku:t}=(0,N.Pj)(),{skuId:n}=t||{},r=e?.[n],o=(0,a.useMemo)((()=>r?.textRich?.find((e=>e.type===di.aV.text))?.fontColor||""),[r]),i=(0,a.useCallback)((e=>{const{type:t,content:n}=e||{},{popType:a,popData:r}=n||{};t===di.E.dialog&&a===di.CV.PointsBenefits&&r?.paragraphs?.length&&(0,ep.D)(r)}),[]);return r?.textRich?.length?a.createElement(tr.l5,{newRichText:r,style:{textAlign:"left",...o?{color:o}:{}},className:np().memberPromotion,showPopup:i}):null}))),rp=n(57721),op=n(88969),ip=n.n(op);const lp=e=>{let{data:t,showPopup:n}=e;const{installmentsPriceContentList:r,displayWindowHint:i}=t||{};return r?.length?a.createElement(a.Fragment,null,r?.map(((e,t)=>a.createElement(ml.aP,{data:e,key:t,imgCls:o()(t!==r.length-1&&ip().imgRight)}))),i?a.createElement(an.d,null,a.createElement(Qr.A,{className:ip().icon,"aria-hidden":!0,onClick:n})):null):null},sp=e=>{let{onArrowClick:t}=e;return a.createElement("div",{className:o()("splide__arrows",ip().arrowMask)},a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--prev",ip().leftArrow,ip().arrow),onClick:()=>t("prev"),tabIndex:0,role:"button"},a.createElement($a.A,{direction:"left",className:o()(ip().baseArrowBtn),innerArrowClassName:ip().innerArrowClassName})),a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--next",ip().rightArrow,ip().arrow),onClick:()=>t("next"),tabIndex:0,role:"button"},a.createElement($a.A,{direction:"right",className:o()(ip().baseArrowBtn),innerArrowClassName:ip().innerArrowClassName})))};var cp=(0,In.W4)({name:"PayAfterActivity"})((0,i.PA)((function(){const{payBenefit:e}=(0,N.Pj)(),{promotionDisplayContentList:t,promotionClickDisplayFloatContent:n}=e||{},[r,o]=(0,a.useState)({}),i=(0,a.useRef)(null),l=(0,a.useRef)();if((0,Ya.A)("resize",(()=>{setTimeout((()=>{if(i.current?.clientWidth){o({maxWidth:i.current.clientWidth-15});const{splideRef:e}=l?.current||{},t=e?.current?.splide;t?.refresh?.(),t?.go?.(0)}}),0)}),Qa.z,{immediate:!0}),!t?.length)return null;const s=()=>{n&&(0,rp.e)(n)};return 1===t?.length?a.createElement("div",{className:ip().singleWrap},a.createElement(lp,{data:t[0],showPopup:s})):a.createElement("div",{className:ip().wrap,ref:i},a.createElement(An.pM,{pageSize:1,ref:l,customArrows:a.createElement(sp,{onArrowClick:e=>{(0,Tn.ev)(e,l,5)}}),onClick:s,onMoved:Tn.o2,trackClassName:ip().slideTrackWrap},t.map(((e,t)=>a.createElement(Cn.Nn,{key:t},a.createElement("div",{className:ip().itemWrap,style:r},a.createElement(lp,{data:e})))))))}))),up=n(25377),mp=n(82541),dp=n(81248),pp=n(52081),gp=n.n(pp);const hp=(0,i.PA)((function(e){let{onClickAdd:t}=e;const{t:n}=(0,p.B)("goods"),r=(0,N.Pj)(),{buyNowButton:i,optimalSku:l,buyNowButtonStore:s,addCartButtonStore:c,moduleMap:u}=r,{skuId:m}=l||{},{addToCartButton:d}=u?.bottomButtonModule?.data||{},{isShowClearanceMainButtonStyle:g,clearanceButtonStyle:h}=c,{buyNowBenefitRich:f}=s,y=(0,a.useMemo)((()=>({page_el_sn:240832,buy_scene:ir.SKU,btn_benefits_type:f?.trackingKey})),[f]),_=(0,a.useMemo)((()=>d?.skuButtonCustoms?.[m]),[m]);if(i){const e=i?.skuButtonCustoms?.[m];return a.createElement(Sd,{onClickAdd:()=>t({trackingInfo:y,clickEventData:y,addType:xn.H$.buyNow,cartScene:"",frontControl:{supportPersonalize:!0},addCustomInfoBtnText:n("main_detail.buyNowBtnText")}),btnText:e?.buttonTitle,hideButtonSubtext:1,className:o()({[gp().clearanceBtn]:g}),style:g?h:{},pageElSn:240832})}return a.createElement(Zm,{className:o()({[gp().clearanceBtn]:g}),style:g?h:{},onClickAdd:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Di.SD)([Di.gn.addedPopupShowTime,Di.gn.goodsPullUpSkuTime]),t({addType:xn.H$.addCart,cartScene:xn.xi.BestPricePopup,frontControl:{supportPersonalize:!0},clickEventData:{page_el_sn:240831},...e})},btnText:_?.buttonTitle,cartScene:xn.xi.BestPricePopup,pageElSn:240831})})),fp=(0,In.W4)({name:"BestPriceLabel"})((0,i.PA)((function(e){let{onClickAdd:t}=e;const n=(0,N.Pj)(),{optimalSku:r,moduleMap:o}=n,{skuId:i}=r||{},{bestPriceRichMap:l}=o?.priceModule?.data||{},s=l?.[i],c=e=>{const{popType:r,popData:o}=e?.content||{};e?.type===di.E.bestPricePop&&r&&r===di.CV.BestPricePop&&o&&((0,dp.bm)({data:o,optionButton:a.createElement(hp,{onClickAdd:t}),store:n}),(0,A.A)("GoodsBestPricePopup show"))};return s?.length?a.createElement(a.Fragment,null,a.createElement("div",{className:gp().bestRichWrap},s.map(((e,t)=>a.createElement(tr.l5,{newRichText:e,style:{textAlign:"left"},className:gp().suffixRich,key:t,showPopup:c,showPopupWhiteList:[di.E.bestPricePop],countdownCls:gp().countdown}))))):null})));var yp=n(4940),_p=n.n(yp);const Ep=(0,In.W4)({name:"MainPrice"})((0,i.PA)((function(e){let{salePriceTextRich:t,skuSalePriceRich:n}=e;const{userAgent:r}=(0,N.Pj)(),o=(0,a.useMemo)((()=>(0,za.Yh)(r)?{fontWeight:600}:{}),[r]),i=(0,a.useCallback)((e=>{const{id:t,pcExtra:n}=e||{},a=e?.fontWeight||n?.fontWeight;return(0,za.Yh)(r)&&t!==di.f7.BEST_PRICE_EST&&500===a?{fontWeight:600}:{}}),[r]);return t?.textRich?.length?a.createElement(tr.l5,{newRichText:t,style:{textAlign:"left"},getCustomTextRichItemStyle:i,customRenderWhiteList:Nu,customRenderTextRichItem:Au,className:_p().price}):n?.length?a.createElement("div",{className:_p().price},a.createElement(ml.Ay,{price:n,externalStyle:o})):null})));var bp=n(42124),Sp=n(21503),vp=n.n(Sp);const Ip=(0,In.W4)({name:"PolandLinePrice"})((0,i.PA)((function(){const e=(0,N.Pj)(),{optimalSku:t,moduleMap:n}=e,{polandLinePrice:r}=n?.priceModule?.data||{},{skuId:i}=t||{},{linePrice:l,linePriceExplain:s}=r?.[i]||{},[c,u]=(0,a.useState)(!1),[m,d]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!0),h=(0,a.useRef)(null),f=(0,a.useRef)(null),y=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=()=>{const e=f.current,t=y.current,n=h.current;e&&t&&n&&u(n.clientWidth<e.clientWidth+t.clientWidth)};return e(),d(!0),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,a.useEffect)((()=>{g(!1),setTimeout((()=>{g(!0)}),500)}),[i]);const _=()=>a.createElement(tr.l5,{newRichText:l,style:{textAlign:"left"},className:vp().rich});return l?.textRich?.length&&i?a.createElement("div",{className:vp().wrap,ref:h},a.createElement("div",{className:o()(vp().richWrap,!m&&vp().hide,c&&vp().flex)},c?a.createElement(bp.P,{showTransition:p,className:vp().transition,leftMaskClassName:vp().leftMaskClassName,rightMaskClassName:vp().rightMaskClassName,speed:25},_()):null,a.createElement("div",{ref:f,className:o()(c&&vp().bottomRich)},_())),a.createElement("div",{className:o()(vp().explain,!m&&vp().hide),ref:y},a.createElement(tr.l5,{newRichText:s,style:{textAlign:"left"},className:o()(c&&vp().linePriceExplain),customRenderWhiteList:Nu,customRenderTextRichItem:Au}))):null})));var wp=n(2903),kp=n.n(wp);const Np=(0,In.W4)({name:"PriceInfoLabel"})((0,i.PA)((function(){const e=(0,N.Pj)(),{optimalSku:t,skuInfoMap:n,skuSalePriceInfoRichMap:r}=e,{skuId:i}=t||{},l=r[i],s=n[i]?.skuSalePriceInfoRich,[c,u]=(0,a.useState)(l),m=e=>{const{popType:t,popData:n}=e?.content||{};e?.type===di.E.dialog&&t&&t===di.CV.PayAfterPopup&&n?.contentParagraphList?.length&&(0,rp.e)(n)};return(0,a.useEffect)((()=>{void 0!==s&&u(s?.length?s:l)}),[s]),(0,a.useEffect)((()=>{c?.length&&c.forEach((e=>{ec(e,{goodsId:t?.goodsId,skuId:i})}))}),[c]),c?.length&&i?a.createElement(a.Fragment,null,c.map(((e,t)=>{const n=a.createElement(tr.l5,{newRichText:e,style:{textAlign:"left"},key:t,className:o()(kp().suffixRich,kp().suffixRichDis,kp().suffixRichVer),showPopup:m,customRenderWhiteList:Nu,customRenderTextRichItem:Au}),{action:r}=e||{},{popType:i,popData:l}=r?.content||{};return r?.type&&Nu.includes(r.type)&&i===di.CV.LinePriceExplain?a.createElement(ku,{popData:l,contentElement:n}):n}))):null})));var Ap=n(33733),Cp=n.n(Ap);var Tp=(0,a.memo)((function(e){let{closePopup:t,title:n,content:r}=e;const{t:o}=(0,p.B)("goods");return(0,A.r)("PriceLabelPopup"),n&&r?.length?a.createElement(Ka.Ay,{onClick:t,useSplitBg:!0},a.createElement(kn.nU,{page_el_sn:207372,useClick:!1},a.createElement("div",{className:Cp().wrap},a.createElement("div",{className:Cp().head},n),a.createElement("div",{className:Cp().container},r.map(((e,t)=>a.createElement("span",{key:t},e)))),a.createElement(Ur.A,{className:Cp().btn,onClick:t},o("main_detail.priceInfo.priceLabelPopupBtn"))))):null})),xp=n(96616),Pp=n.n(xp);function Rp(e){let{data:t}=e;const{textRich:n,dialog:r}=t||{};if(!n?.length)return null;const{title:i,content:l}=r||{},s=!!i&&!!l?.length;return a.createElement(kn.nU,{page_el_sn:207371},a.createElement("div",{className:o()(Pp().priceLabelWrap,s&&Pp().enableClick),onClick:()=>{if(!s)return;const e=(0,vn.A)(a.createElement(a.Fragment,null,a.createElement(Tp,{title:i,content:l,closePopup:()=>{e?.()}}),a.createElement(Vo.A,{close:()=>e?.(),isActive:!0})),{})},role:"button",tabIndex:0,"aria-label":(0,za.ft)(t.textRich)},a.createElement(fr.v,{className:Pp().priceLabel,type:"number",style:{paddingRight:s?"2px":"5px"}},!!t?.textRich?.length&&a.createElement(ml.sD,{richText:t.textRich}),s?a.createElement(wn.A,{className:Pp().arrow,"aria-hidden":!0}):null)))}var Mp=n(68799),Dp=n.n(Mp);const Bp=(0,In.W4)({name:"SkuPricePrefixLabel"})((0,i.PA)((function(){const e=(0,N.Pj)(),{optimalSku:t,skuInfoMap:n,skuSalePricePrefixRichMap:r}=e,{skuId:o}=t||{},i=r[o],[l,s]=(0,a.useState)(i),{isRTL:c}=(0,Aa.Sz)(),{skuSalePricePrefixInfoRich:u}=n?.[o]||{};return(0,a.useEffect)((()=>{void 0!==u&&s(u?.length?u:i)}),[u]),l?.length&&o?a.createElement(a.Fragment,null,a.createElement("div",{className:Dp().prefixRichWrap},l.map(((e,t)=>a.createElement(tr.l5,{newRichText:e,style:{textAlign:"left",[c?"marginLeft":"marginRight"]:"5px"},className:Dp().suffixRich,key:t,customRenderWhiteList:Nu,customRenderTextRichItem:Au}))))):null})));var Lp=n(67539),Op=n.n(Lp);function Wp(e){let{data:t}=e;const{discountInfoDisplayItem:n,expireTimeDisplayItem:r,thresholdDisplayItem:o,ruleDisplayItem:i}=t||{};return a.createElement("div",{className:Op().wrap},a.createElement("div",{className:Op().top}),a.createElement("div",{className:Op().content},a.createElement("div",{className:Op().infoDisplay},n?.displayItems?.length?a.createElement("div",{className:Op().info},a.createElement(Oa.mJ,{displayItems:n.displayItems,textStyle:{lineHeight:"24px"}})):null,r?.displayItems?.length?a.createElement(Oa.mJ,{displayItems:r.displayItems,textStyle:{lineHeight:"17px"}}):null),o?.displayItems?a.createElement("div",{className:Op().threshold},a.createElement(Oa.mJ,{displayItems:o.displayItems})):null,a.createElement("div",{className:Op().line}),i?.displayItems?.length?a.createElement("div",{className:Op().rule},a.createElement(Oa.mJ,{displayItems:i?.displayItems,imageClassName:Op().ruleImg,textClassName:Op().ruleText})):null))}var zp=n(50452),Fp=n(70291),Up=n.n(Fp);const Gp=e=>{let{offersPopupInfo:t}=e;const{popupButtonTextDisplayItem:n,popupRuleListDisplayItem:r,popupTitleDisplayItem:o}=t||{};return a.createElement(yi.A,{onClose:qn.L,confirmButtonLabel:a.createElement(Oa.mJ,{displayItems:n?.displayItems}),onConfirm:qn.L,buttonConfigs:{size:"l"},title:a.createElement(Oa.mJ,{displayItems:o?.displayItems})},a.createElement("div",{className:Up().popupWrap},r?.length>0?r.map(((e,t)=>a.createElement(Oa.mJ,{key:t,displayItems:e?.displayItems}))):null))};function Hp(e){let{data:t}=e;const{discountInfoDisplayItem:n,expireInDisplayItem:r,expireInTimeDisplayItem:o,offersDescWithoutTimeItem:i,offersPopupInfo:l}=t||{};return a.createElement("div",{className:Up().wrap},a.createElement("div",{className:Up().infoDisplay},n?.displayItems?.length?a.createElement("div",{className:Up().right},a.createElement(Oa.mJ,{displayItems:n.displayItems,textStyle:{lineHeight:"22px"}})):null,a.createElement("div",{className:Up().countdown},r?.displayItems?.length?a.createElement("div",{className:Up().right},a.createElement(Oa.mJ,{displayItems:r.displayItems})):null,o?.displayItems?.length?a.createElement(Oa.mJ,{timeCls:Up().time,displayItems:o.displayItems}):null)),i?.displayItems?.length?a.createElement("div",{className:Up().offer},a.createElement("div",{className:Up().offerText},a.createElement(Oa.mJ,{displayItems:i.displayItems,textStyle:{lineHeight:"17px"}})),a.createElement(zp.A,{className:Up().question,onClick:()=>{(0,qn.P)({popupNode:a.createElement(Gp,{offersPopupInfo:l})})}})):null)}var jp=n(30255),Vp=n.n(jp);function qp(e){let{leftRich:t,rightRich:n,className:r}=e;return t?.displayItems?.length||n?.displayItems?.length?a.createElement("div",{className:o()(Vp().descLine,r)},t?.displayItems?.length?a.createElement("div",{className:Vp().desc},a.createElement(Oa.mJ,{displayItems:t.displayItems})):null,n?.displayItems?.length?a.createElement("div",{className:Vp().price},a.createElement(Oa.mJ,{displayItems:n.displayItems})):null):null}const Kp=(0,In.W4)({name:"PromotionInfoPopup"})((function(e){let{extraPriceOffExplainPopupVo:t}=e;const{title:n,price:r,priceDesc:o,singleGoodsCouponSavingPrice:i,singleGoodsCouponSavingPriceDesc:l,eventSavingPrice:s,eventSavingPriceDesc:c,afterPromotionPrice:u,afterPromotionPriceDesc:m,additionalInfoIcon:d,additionalInfoDisplayItem:p,listTitle:g,couponList:h,eventList:f}=t||{},y=(0,a.useMemo)((()=>[[o,r],[l,i],[c,s]]),[s,c,r,o,i,l]);return(0,A.r)("PromotionInfoPopup"),a.createElement(yi.A,{onClose:qn.L,buttonConfigs:{size:"l"},title:n?.displayItems?.length?a.createElement("div",{className:Vp().title},a.createElement(Oa.mJ,{displayItems:n?.displayItems,textStyle:{lineHeight:"28px"}})):null},a.createElement("div",{className:Vp().wrap},y?.length?a.createElement("div",{className:Vp().priceBlock},y.map(((e,t)=>a.createElement(qp,{leftRich:e[0],rightRich:e[1],key:t})))):null,a.createElement(qp,{leftRich:m,rightRich:u,className:Vp().totalLine}),a.createElement("div",{className:Vp().addInfo},d?a.createElement(an.d,null,a.createElement(Ln.A,{src:d,className:Vp().addIcon,resizeWidth:100,alt:""})):null,a.createElement("span",{className:Vp().addText},a.createElement(Oa.mJ,{displayItems:p?.displayItems}))),a.createElement("div",{className:Vp().listTitle},a.createElement(Oa.mJ,{displayItems:g?.displayItems})),h?.length>0?h.map(((e,t)=>a.createElement(Wp,{data:e,key:t}))):null,f?.length>0?f.map(((e,t)=>a.createElement(Hp,{data:e,key:t}))):null))}));var $p=n(97536),Qp=n.n($p);const Yp=(0,In.W4)({name:"SkuSalePriceTipRich"})((0,i.PA)((function(){const e=(0,N.Pj)(),{optimalSku:t,querySkuInfo:n,skuInfoMap:r}=e,{skuId:o}=t||{},i=r?.[o]?.skuSalePriceTipRich;return i?.length?a.createElement(a.Fragment,null,i.map(((e,t)=>a.createElement(tr.l5,{key:t,newRichText:e,timeEndCb:n,className:Qp().content})))):null})));var Jp=n(741),Xp=n.n(Jp);const Zp="detail_play_later_price",eg=(0,i.PA)((function(e){let{playLaterPrice:t}=e;const{setPayLaterPricePos:n,optimalSku:r,isShowPayBenefit:o,skuInfoMap:i}=(0,N.Pj)(),{skuId:l}=r||{},{skuSalePricePrefixInfoRich:s,skuSalePriceTipRich:c}=i?.[l]||{},u=(0,a.useRef)(null),m=(0,a.useRef)(),d=(0,a.useCallback)((()=>{if(u.current){const{offsetLeft:e,offsetWidth:t,offsetParent:a}=u.current;t&&n({offsetLeft:e,offsetWidth:t,parentWidth:a?.clientWidth})}}),[]);return(0,a.useEffect)((()=>(m.current=setTimeout((()=>{d()})),()=>{clearTimeout(m.current)})),[l,c,s]),(0,a.useEffect)((()=>(window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)})),[]),!t?.length||o?null:a.createElement("div",{className:Xp().playLaterPriceWrap,id:Zp},t.map(((e,t)=>2===e?.specialFlag?a.createElement("div",{className:Xp().playLaterPrice,ref:u},a.createElement(ml.aP,{data:e,key:t})):a.createElement(ml.aP,{data:e,key:t}))))})),tg=e=>{let{priceLabelText:t,regularPriceText:n}=e;return a.createElement(a.Fragment,null,!!t&&a.createElement(Rp,{data:t}),!!n?.textRich&&a.createElement("div",{className:o()(Xp().regularPrice,Xp().suffixRichVer),role:"button","aria-label":(0,za.ft)(n.textRich)},a.createElement(ml.sD,{richText:n.textRich})))},ng=(0,i.PA)((function(e){let{salePriceSuffixRich:t,linePriceRich:n,reduction:r,reductionName:i,isShow:l,reductionCls:s,reductionStyle:c,linePriceClassName:u}=e;const{isGiftGoods:m,linePriceExplainSumerKey:d,recentlyLowestPriceNotice:p,moduleMap:g,redeemPointsBtnStore:h,skuInfoMap:f,optimalSku:y}=(0,N.Pj)(),{isRedeemPoints:_}=h,{linePriceTipsJumpUrl:E,linePriceTipsTitle:b}=g?.priceModule?.data||{},S=(0,a.useMemo)((()=>({linePriceTipsJumpUrl:E,linePriceTipsTitle:b})),[E,b]),[v,I]=(0,a.useState)(t),{skuSalePriceSuffixRich:w,control:k}=f?.[y?.skuId]||{},A=k?.onlySuffixRich??y?.control?.onlySuffixRich;if((0,a.useEffect)((()=>{void 0!==w&&I(w?.length?w:t)}),[w]),(0,a.useEffect)((()=>{v?.length&&v.forEach((e=>{ec(e,{goodsId:y?.goodsId,skuId:y?.skuId})}))}),[v]),!l)return null;if(y?.skuId&&v?.length)return a.createElement(a.Fragment,null,v.map((e=>{const t=a.createElement(tr.l5,{newRichText:e,style:{textAlign:"left"},customRenderWhiteList:Nu,customRenderTextRichItem:Au,className:o()(Xp().suffixRich,Xp().suffixRichDis)}),{action:n}=e||{},{popType:r,popData:i}=n?.content||{};return n?.type&&Nu.includes(n.type)&&r===di.CV.LinePriceExplain?a.createElement(ku,{popData:i,contentElement:t}):t})));if(1===A)return null;const C=()=>n?.length?a.createElement(kn.Rp,{page_el_sn:225018},a.createElement("div",{className:o()(Xp().linePrice,u,(m||_)&&Xp().linePriceGift),role:"button","aria-label":(0,za.ft)(n)},a.createElement(ml.Ay,{price:n}))):null;return d?a.createElement(a.Fragment,null,a.createElement(mp.A,{reduction:r,reductionName:i,style:c,className:s}),!!n?.length&&a.createElement(a.Fragment,null,!!p&&a.createElement("div",{className:Xp().recentlyLowestPrice},p),C(),a.createElement(Eu.jN,{pageElSn:224996,sumerKey:d,className:Xp().linePriceExplain,linePriceExplainData:S}))):a.createElement(a.Fragment,null,C(),a.createElement(mp.A,{reduction:r,reductionName:i,style:c,className:s}))})),ag=(0,i.PA)((function(e){let{promotionExtraPrice:t}=e;const{moduleMap:n}=(0,N.Pj)(),{promotionExtraPriceOffStyle:r}=n?.priceModule?.data||{},{extraPriceOff:i,extraPriceOffExplainPopupVo:l,extensionMap:s}=t||{};if(i?.displayItems?.length){const{displayItems:e,background:t}=i||{},{useNewSingleGoodsCouponStyle:n}=s||{},{fontColor:c}=e[0]||{},u=n&&1===r,m=()=>{l&&(e=>{let{extraPriceOffExplainPopupVo:t}=e;(0,qn.P)({popupNode:a.createElement(Kp,{extraPriceOffExplainPopupVo:t})})})({extraPriceOffExplainPopupVo:l})};return a.createElement(kn.nU,{page_el_sn:241209},a.createElement("div",{className:o()({[Xp().couponNewPrice]:n,[Xp().couponPrice]:!n}),onClick:m,style:n&&t?{background:t,color:c}:{},"aria-hidden":!0},a.createElement("div",{className:o()({[Xp().couponNewPriceText]:n,[Xp().couponPriceText]:!n,[Xp().optCouponText]:u})},a.createElement(Oa.mJ,{displayItems:e})),a.createElement(wn.A,{className:o()({[Xp().extraPriceNewArrow]:n,[Xp().extraPriceArrow]:!n}),style:n&&c?{fill:c}:{}})))}return null}));var rg=(0,i.PA)((function(e){const{skuSalePriceRich:t,salePriceTextRich:n,linePriceRich:r,isShowMarketPrice:i,reduction:l,reductionName:s,priceLabelText:c,regularPriceText:u,className:m,reductionCls:d,reductionStyle:p,linePriceClassName:g,salePriceSuffixRich:h,playLaterPrice:f,promotionExtraPrice:y,onClickAdd:_}=e,{isGiftGoods:E,richTextBlockUnderThePriceModule:b,redeemPointsBtnStore:S,showActivityPriceWrap:v,specCustom:I}=(0,N.Pj)(),{chargerInfo:w}=I||{},{isRedeemPoints:k}=S,A=i&&!u?.textRich;return n?.textRich?.length||t?.length?a.createElement("div",{className:Xp().container},a.createElement("div",{className:o()(Xp().priceWrap,(E||k)&&Xp().priceWrapGift,m,b&&Xp().memberPromotionWrap,v&&Xp().activityPriceWrap),id:"goods_price"},a.createElement(Bp,null),a.createElement(Ep,{salePriceTextRich:n,skuSalePriceRich:t}),a.createElement(fp,{onClickAdd:_}),a.createElement(Yp,null),a.createElement(eg,{playLaterPrice:f}),a.createElement(tg,{priceLabelText:c,regularPriceText:u}),a.createElement(ng,{salePriceSuffixRich:h,linePriceRich:r,reduction:l,reductionName:s,isShow:A,reductionCls:d,reductionStyle:p,linePriceClassName:g}),a.createElement(ag,{promotionExtraPrice:y}),a.createElement(Np,null),a.createElement(Ip,null)),a.createElement(up.A,{data:w})):null})),og=n(45278),ig=n.n(og);function lg(e){let{payLater:t,isRTL:n}=e;const{content:r,dialogV2:i,displayWindowHint:l}=t||{},s=(0,a.useRef)(null),c=(0,a.useRef)(null),u=(0,a.useRef)(null),[m,d]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),[y,_]=(0,a.useState)(0),[E,b]=(0,a.useState)(2),S=()=>{_(0),d(!1)},v=(0,Ma.x)((()=>{const e=s.current,t=c.current;if(e&&t)if(t.scrollWidth>e.clientWidth){const n=t.scrollWidth-e.clientWidth;if(n>20){const e=(n/18).toFixed(2);_(n),b(e),d(!0)}else S();f(!0)}else S(),f(!1)}),500);(0,Ya.A)("resize",v,Qa.z,{immediate:!0});return(0,nn.T)((()=>{clearTimeout(u.current)})),r?.length||l?a.createElement("div",{className:o()(ig().contentWrap,{[ig().click]:l,[ig().contentMask]:h&&!m}),ref:s,onClick:()=>{l&&i&&(0,rp.e)(i)},"aria-hidden":!0},a.createElement("div",{className:o()(ig().content,{[ig().animation]:m&&!p,[ig().animationBack]:m&&p,[ig().scrollContent]:h&&!m}),ref:c,style:{"--pay-later-translate-distance":`-${y+8}px`,"--pay-later-translate-duration":`${E}s`},onAnimationEnd:()=>{clearTimeout(u.current),u.current=setTimeout((()=>{g((e=>!e))}),500)}},a.createElement(mg,{content:r,isRTL:n,imgCls:ig().richImg,textCls:ig().richText}))):null}var sg=(0,Xt.A)((0,In.W4)({name:"PayAfterV2"}),i.PA)((()=>{const{payLaterAll:e,payLaterPricePos:t,optimalSku:n}=(0,N.Pj)(),{isRTL:r}=(0,Aa.Sz)(),[i,l]=(0,a.useState)(!1),[s,c]=(0,a.useState)({position:"absolute"}),u=(0,a.useRef)(null),{isOnsale:m,skuId:d}=n||{},p=()=>{const e=document.getElementById(Zp);if(e&&u.current){const t=e.getBoundingClientRect(),n=u.current.getBoundingClientRect();if(t.bottom&&n.top&&n.top-t.bottom<=15)return void l(!0)}l(!1)},g=(0,a.useCallback)((()=>{const{offsetWidth:e}=t;e&&p()}),[t]);return(0,Ya.A)("resize",g,Qa.z),(0,a.useEffect)((()=>{const{offsetLeft:e,offsetWidth:n,parentWidth:a}=t;if(r&&n&&a){return c({right:a-e-n/2-11}),void p()}if(n){c({left:e+n/2-11}),p()}}),[t,r]),m&&d&&e?.[d]?a.createElement("div",{className:ig().wrap,ref:u},a.createElement("div",{className:o()(ig().arrowWrap,i&&ig().show),style:s}),a.createElement(lg,{payLater:e[d],isRTL:r})):null})),cg=n(46546),ug=n.n(cg);function mg(e){let{content:t,isRTL:n,imgCls:r="",textCls:i=""}=e;return t?.length?a.createElement(a.Fragment,null,t.map(((e,l)=>{const{picUrl:s,text:c,type:u,color:m,size:d,height:p,width:g,weight:h=400}=e||{},f={color:m,fontSize:d,fontWeight:h},y={width:g,height:p};if(2===u&&s)return a.createElement("div",{className:o()(ug().payImage,r),key:l},a.createElement(Ln.A,{src:s,quality:70,style:y,"aria-hidden":!0,resizeWidth:300,alt:""}));const{type:_,picUrl:E}=t[l+1]||{};let b={};return(2===_&&E||1===u&&l===t.length-1)&&(b={[n?"marginLeft":"marginRight"]:"4px"}),a.createElement("div",{className:o()(ug().payAfterText,i),style:{...b,...f},key:l,"aria-label":c,role:"button","aria-haspopup":"dialog"},c)}))):null}function dg(e){let{payLater:t,className:n,isRTL:r,richImgCls:i,richTextCls:l}=e;const{t:s}=(0,p.B)("goods"),{content:c,dialogV2:u,displayWindowHint:m,contentFrameStyle:d}=t||{},g=(0,a.useMemo)((()=>{const{lineColor:e,lineWidth:t}=d||{};return e?{borderColor:e,borderWidth:t||1,padding:"3px 8px",borderStyle:"solid",marginTop:6}:{}}),[d]);return c?.length||m?a.createElement("div",{className:o()(ug().wrap,n),style:g},a.createElement(mg,{content:c,isRTL:r,imgCls:i,textCls:o()(l,d?.lineColor&&ug().contentBorder)}),m?a.createElement(kn.Rp,{page_el_sn:201348},a.createElement("div",{onClick:()=>{u&&(0,rp.e)(u)},className:ug().showIcon,tabIndex:0,role:"button","aria-label":s("accessibility.showPayAfter")},a.createElement(Qr.A,{className:ug().icon,"aria-hidden":!0}))):null):null}var pg=(0,In.W4)({name:"PayAfter"})((0,i.PA)((function(){const{payLater:e,payLaterAll:t,optimalSku:n,isShowPayLaterV2:r,isShowPayBenefit:o}=(0,N.Pj)(),{isRTL:i}=(0,Aa.Sz)(),{isOnsale:l,skuId:s}=n||{};return l?o?a.createElement(cp,null):r?a.createElement(sg,null):a.createElement(dg,{payLater:t?.[s]||e,isRTL:i}):null})));var gg=(0,Xt.A)((0,In.W4)({name:"PriceInfo"}),i.PA)((e=>{let{goods:t,className:n,onClickAdd:r}=e;const{optimalSku:o,isSEOSoldOut:i,skuSalePriceRichMap:l,goodsSalePriceRich:s,isShowMarketPrice:c,skuSalePriceSuffixRichMap:u,sku:m,payLaterAll:d,promotionExtraPriceOffMap:p}=(0,N.Pj)(),{reductionName:g,priceLabelText:h,salePriceRich:f}=t,{skuId:y,isOnsale:_}=o||{},E=l[y]||{};if((0,a.useEffect)((()=>{!i&&!E?.textRich?.length&&(0,A.A)("goods price info error",{fields:{e:JSON.stringify({sku:m,optimalSku:o,goods:t,skuSalePriceRichMap:l})}})}),[y]),(()=>{const e=(0,N.Pj)(),{optimalSku:t,control:n,querySkuInfo:a,isEnhancedStockGroupClearanceStyle:r,explicitlySelected:o,skuInfoMap:i}=e,{defaultSkuId:l}=n||{},{skuId:s}=t||{},c=i[s]?.skuActivityInfo,u=c?.[o]||c?.[jc.t.All];(0,Bs.A)((()=>{const e=r&&!u;(s!==l||e)&&a(e?{explicitly_selected:o}:void 0)})),(0,Ds.A)((()=>{r||a()}),[s]),(0,Ds.A)((()=>{r&&a({useCache:!0,explicitly_selected:o})}),[s,o])})(),i)return null;const b={isShowMarketPrice:!!c&&!o?.control?.notDisplayDiscount,reductionName:g,className:n};if(E?.textRich?.length){const e=u[y]||[],{linePriceRich:t,regularPriceText:n,reduction:i}=o||{},{firstPeriodContentList:l}=d?.[y]||{};return a.createElement(rg,(0,q.A)({},b,{linePriceRich:t,regularPriceText:n,salePriceTextRich:E,salePriceSuffixRich:e,reduction:i,priceLabelText:h,playLaterPrice:_?l:[],promotionExtraPrice:p?.[y],onClickAdd:r}))}return a.createElement(rg,(0,q.A)({},b,{salePriceTextRich:s,skuSalePriceRich:f}))})),hg=n(57157),fg=n.n(hg),yg=(0,Xt.A)((0,In.W4)({name:"GiftCell"}),i.PA)((function(){const{moduleMap:e}=(0,N.Pj)(),{pointsRedeemTip:t}=e?.priceModule?.data||{};return t?a.createElement("div",{className:fg().wrap},t):null})),_g=n(24631),Eg=n.n(_g);var bg=(0,In.W4)({name:"TaxInclude"})((0,i.PA)((()=>{const{moduleMap:e}=(0,N.Pj)(),{taxInclude:t}=e?.priceModule?.data||{};return t?.textRich?a.createElement("div",{className:Eg().wrap},a.createElement(tr.l5,{newRichText:t,style:{textAlign:"left",lineHeight:"normal"}})):null})));const Sg=(0,i.PA)((function(e){let{onClickAdd:t}=e;const n=(0,N.Pj)(),{goods:r,selectedSku:o,promotionUnderThePriceModule:i,promotionUnderThePriceModuleV2:l,supportActivityAtmosphere:s,richTextBlockUnderThePriceModule:c}=n;return a.createElement(a.Fragment,null,a.createElement(gg,{goods:r,selectedSku:o,onClickAdd:t}),a.createElement(bg,null),l||i?a.createElement(Yd,null):null,c?a.createElement(ap,null):null,a.createElement(pg,null),a.createElement(Zd,null),a.createElement(yg,null),s?null:a.createElement(hc,null))}));var vg=(0,Xt.A)((0,In.W4)({name:"PriceBlock"}),i.PA)((e=>{let{onClickAdd:t}=e;const n=(0,N.Pj)(),{showActivityPriceWrap:r,serverRenderTime:o}=n;return r?a.createElement(ru,{isShowArrow:!1,serverRenderTime:o},a.createElement(Sg,{onClickAdd:t})):a.createElement(Sg,{onClickAdd:t})})),Ig=n(94317),wg=n(72520),kg=n(41157),Ng=n.n(kg);var Ag=(0,Xt.A)((0,In.W4)({name:"PromotionTips"}),i.PA)((()=>{const e=(0,N.Pj)(),{collectPromotion:t,showCollectOrderBar:n,promotionCarousel:r,globalResizeTrigger:i,supportCollectBenefit:l,bottomButtonBenefit:s}=e;if(!n||!l)return null;const c=!(!s?.benefits?.length||!s.benefits[0]?.textRich?.length),u=!!t?.promotionTextDisplayItem||!!r?.carouselDisplayList?.length||c;return a.createElement(ac.t,{show:u,className:o()(u&&Ng().wrap)},t?.promotionTextDisplayItem?a.createElement(Ig.A,{collectPromotion:t}):r?.carouselDisplayList?.length?a.createElement(wg.F,{carousel:r,isResizeTrigger:!!i,canStopCarousel:!0}):c&&s.benefits?a.createElement(tr.l5,{newRichText:s.benefits[0],style:{textAlign:"left"}}):null)})),Cg=n(71998),Tg=n.n(Cg);const xg=(0,In.W4)({name:"PurchaseEnhanceTip"})((0,i.PA)((function(){const{moduleMap:e}=(0,N.Pj)(),{recentPurchases:t}=e?.benefitAboveTheTitleModule?.data||{};return t?.textRich?.length?a.createElement(kn.nU,{page_el_sn:233671,useClick:!1},a.createElement("div",{className:Tg().wrap},a.createElement(tr.l5,{newRichText:t,style:{textAlign:"left"}}))):null})));var Pg=n(76258),Rg=n(3079),Mg=n(99372),Dg=n.n(Mg),Bg=(0,i.PA)((function(e){let{className:t}=e;const{reviewStore:n}=(0,N.Pj)(),{showScore:r,showScoreStr:i}=n,l=(0,a.useCallback)((()=>{const e=document.getElementById("reviewContent"),{top:t}=e?.getBoundingClientRect()||{};t<=150&&t>0||(0,Ra.BD)(t+(0,en.x)()-150)}),[]);return r>0?a.createElement("div",{className:o()(Dg().reviewNumWrap,t),onClick:l,"data-aria-enter":"1",tabIndex:0,role:"button"},a.createElement("div",{className:Dg().score},i),a.createElement(Rg.Zb,{cur:r,size:16,activeStarClass:Dg().reviewStar,starClass:Dg().startClass})):null})),Lg=n(90705),Og=n.n(Lg);var Wg=(0,Xt.A)((0,In.W4)({name:"RankWithSale"}),i.PA)((()=>{const e=(0,N.Pj)(),{moduleMap:t,control:n}=e,{rankWithSale:r,rankExplainDialog:o}=t?.bestSellerModule?.data||{},i=2===n?.detailSupportExperimentControl?.foldReviewStar;return a.createElement("div",{className:Og().wrap},a.createElement(Pg.A,{rankWithSale:r,isShowBestSellerBg:i,pageElSn:207303,rankExplainDialog:o}),a.createElement(Bg,null))})),zg=n(1307),Fg=n.n(zg);function Ug(e){let{mallTag:t}=e;const{text:n,startColor:r,endColor:o,textureUrl:i,iconUrl:l,textColor:s,iconWidth:c}=t||{};return n?a.createElement("div",{className:Fg().mallTag,style:{"--mall-tag-bg-start-color":r,"--mall-tag-bg-end-color":o}},i?a.createElement(Nn.Ay,{className:Fg().tagTexture,src:i,resizeWidth:100,"aria-hidden":!0,alt:n}):null,l?a.createElement(Nn.Ay,{style:c?{width:c}:{},className:Fg().tagIcon,src:l,resizeWidth:100,"aria-hidden":!0,alt:n}):null,a.createElement("span",{className:Fg().tagText,style:s?{color:s}:{}},n)):null}var Gg=(0,Xt.A)((0,In.W4)({name:"SaleInfo"}),i.PA)((()=>{const e=(0,N.Pj)(),{goods:t,reviewStore:n,expParams:r,moduleMap:i}=e,{showScore:l}=n,{mallTag:s}=i?.salesTipModule?.data||{},{goodsSoldTip:c,mallLogo:u,mallJumpUrl:m,seoUrl:d,providedBy:p,mallName:g}=t?.saleInfo||{},h=d||m,f="2"!==r?.noReviewInfo,y=()=>{h&&(0,Zt.MJ)((0,On.LV)(h),{openTarget:"_blank"})};return!c&&l<=0&&!u?null:a.createElement("div",{className:o()(Fg().wrap),"aria-label":`${c}${p}${g}`,role:"textbox"},u||c?a.createElement("div",{className:Fg().wrapLeft},c?a.createElement("div",{className:Fg().providedByWrap},a.createElement("span",{className:Fg().tipsAfter},c),a.createElement("div",{className:Fg().beforeLine})):null,u?a.createElement(a.Fragment,null,p?a.createElement("span",{className:Fg().providedBy,"aria-hidden":!0},p):null,a.createElement(cs.N_,{seoUrl:h,url:h,tabIndex:0,onClick:y,className:Fg().mallInfoWrapLink},a.createElement(kn.Rp,{page_el_sn:202447},a.createElement("div",{className:Fg().mallInfo},a.createElement("div",{className:o()(Fg().mallLogo,Fg().logoRight)},a.createElement(Nn.Ay,{src:u,resizeWidth:48,"aria-hidden":!0,alt:g})),a.createElement(Ug,{mallTag:s}),a.createElement(wn.A,{className:Fg().arrow,onClick:y,"aria-hidden":!0}))))):null):null,f?a.createElement(Bg,null):null)})),Hg=n(75946),jg=n(11180),Vg=n(68797),qg=n(63101),Kg=n.n(qg);var $g=e=>{let{data:t}=e;const{questionName:n,answerName:r,questionAvatar:o,answerAvatar:i,question:l,answer:s}=t;return a.createElement("div",{className:Kg().faqItem},a.createElement("div",{className:Kg().question},a.createElement("div",{className:Kg().user},a.createElement(Ln.A,{src:o,className:Kg().avatar}),a.createElement("div",{className:Kg().name},n,":")),a.createElement("div",{className:Kg().boldText},l)),a.createElement("div",{className:Kg().answer},a.createElement("div",{className:Kg().user},a.createElement(Ln.A,{src:i,className:Kg().avatar}),a.createElement("div",{className:Kg().name},r,":")),a.createElement("div",{className:Kg().text},s)))},Qg=n(32964),Yg=n.n(Qg);const Jg=()=>null;var Xg=(0,i.PA)((e=>{let{faqList:t}=e;const{t:n}=(0,p.B)("goods");return t?.length?a.createElement("div",{className:Yg().wrap},a.createElement("div",{className:Yg().title},n("main_detail.securityFaqListTitle")),a.createElement(Vg.A,{wrapperClass:Yg().list,datasource:t,hasMore:!1,itemKey:"reviewId",renderItem:$g,ListEndView:Jg,autoOptimize:!1,loadingText:""})):null}));var Zg=(0,i.PA)((e=>{let{faqList:t,onClose:n}=e;return a.createElement(Ka.Ay,{onClick:n,useSplitBg:!0},a.createElement(Xg,{faqList:t}))})),eh=n(67513),th=n.n(eh);var nh=function(e){return e[e.SmallIcon=1]="SmallIcon",e[e.BigIcon=2]="BigIcon",e[e.Content=3]="Content",e}(nh||{});const ah={[nh.SmallIcon]:th().channelSmallImg,[nh.BigIcon]:th().channelBigImg},rh=(0,a.memo)((function(e){let{closePopup:t,detail:n,queryFaqData:r,updatePopupCount:i,goodsId:l,webpEnable:s,store:c}=e;const{t:u}=(0,p.B)("goods"),{style:d,name:g,icons:h,richIcons:f,pcJumpUrl:y,jumpText:_}=n,E=f?.length,b=(0,a.useRef)(!1),S=(0,a.useRef)(),v=(0,a.useCallback)((async()=>{if(b.current)return;b.current=!0,S.current||(S.current=await r()),b.current=!1,i(!0);const e=(0,vn.A)(a.createElement(a.Fragment,null,a.createElement(Zg,{faqList:S.current?.faqList,onClose:()=>{i(!1),e()}}),a.createElement(Vo.A,{close:()=>{i(!1),e()},isActive:!0})),{})}),[]);if(d===nh.Content)return a.createElement("div",{className:th().channelContentWrapper},g?a.createElement("div",{className:th().channelTitle},g):null,E?a.createElement("div",{className:th().channelContent},f.map(((e,n)=>a.createElement(kn.Rp,{page_el_sn:2===e?.type?204324:void 0},a.createElement("div",{className:th().channelContentItem,key:n,onClick:n=>{if(1!==e.type)return 2===e.type?((e=>{e.stopPropagation(),(0,m.uT)({isOfficialChat:!0,params:{goods_id:l}})})(n),void t()):void(e.jumpUrl&&(0,Zt.MJ)(e.jumpUrl.replace(/^\/*/,"/"),{openTarget:"_blank",needForceWeb:!0}));v()},role:"button",tabIndex:0},a.createElement(Ln.A,{src:e.icon,className:th().channelContentItemIcon,resizeWidth:200,webpEnable:s,alt:""}),a.createElement("div",{className:th().channelContentItemText},e.text)))))):null);const I=f?.length?f:(h||[]).map((e=>({icon:e})));return a.createElement("div",{className:o()(th().channelWrapper,f?.length>0?th().align:null)},g?a.createElement("div",{className:th().channelTitle},g):null,a.createElement("div",{className:th().channelImgs},I.length>0&&I.map((e=>{const{icon:t,height:n,width:r}=e||{},o={};return r&&n&&(o.width=34*r/n),a.createElement(Ln.A,{src:t,className:ah[d],style:o,resizeWidth:200,webpEnable:s,alt:""})}))),y?a.createElement("div",{className:o()(th().more,th().moreWithoutMarginLeft),onClick:()=>{(0,Zt.MJ)(y.replace(/^\/*/,"/"),{openTarget:"_blank",needForceWeb:!0})},role:"button",tabIndex:0},_||u("main_detail.securityPopupJumpText"),a.createElement(xa.hu,{className:th().arrow})):null)}));var oh=(0,a.memo)((function(e){let{closePopup:t,dialog:n,queryFaqData:r,goodsId:o,webpEnable:i,store:l}=e;const{title:s}=n,c=n.contents||[],{t:u}=(0,p.B)("goods"),[m,d]=(0,a.useState)(0);(0,jg.A)(t,!m),(0,A.r)("SecurityPopup");const g=(0,a.useCallback)((e=>{d((t=>t+(e?1:-1)))}),[]);return a.createElement(Ka.Ay,{onClick:t,useSplitBg:!0},a.createElement("div",{className:th().wrap},a.createElement("div",{className:th().head},s),a.createElement("div",{className:th().container,"data-scroll":!0},c.map(((e,n)=>{const s=e.descriptions;return a.createElement("div",{key:n,className:th().policy},a.createElement("div",{className:th().title,style:{color:e.nameColor}},e.nameIcon?a.createElement(Ln.A,{src:e.nameIcon,className:th().nameIcon,resizeWidth:70,webpEnable:i,alt:""}):null,e.name),s.map((e=>{const{descRich:n}=e||{};return a.createElement(a.Fragment,null,a.createElement("div",{className:th().desc},a.createElement("div",{className:th().dot}),n?.textRich?.length?a.createElement(tr.l5,{newRichText:n,style:{textAlign:"left"}}):a.createElement("span",null,e.desc)),e.detail?.length>0?e.detail.map(((e,n)=>a.createElement(rh,{closePopup:t,key:n,detail:e,queryFaqData:r,updatePopupCount:g,goodsId:o,webpEnable:i,store:l}))):null,e.pcJumpUrl?a.createElement("div",{className:th().more,onClick:()=>{(0,Zt.MJ)(e.pcJumpUrl.replace(/^\/*/,"/"),{openTarget:"_blank",needForceWeb:!0})},role:"button",tabIndex:0},e.jumpText||u("main_detail.securityPopupJumpText"),a.createElement(xa.hu,{className:th().arrow})):a.createElement("div",{className:th().blank}))})))})))))})),ih=n(22024),lh=n.n(ih);var sh=(0,Xt.A)((0,In.W4)({name:"Security"}),i.PA)((()=>{const e=(0,N.Pj)(),{queryFaqData:t,goodsId:n,webpEnable:r}=e,o=e.guarantee||{},{title:i,titleColor:l,iconColor:s}=o,c=(0,a.useMemo)((()=>o.contents||[]),[o.contents]),u=!!o.dialog,m=(0,a.useCallback)((()=>{if(!o.dialog)return;const i=(0,vn.A)(a.createElement(oh,{dialog:o.dialog,queryFaqData:t,closePopup:()=>{i?.()},goodsId:n,webpEnable:r,store:e}),{})}),[o.dialog]);return(0,a.useMemo)((()=>c.length>0),[c])?a.createElement("div",{className:lh().wrap,"data-id":"module"},a.createElement("div",{className:lh().security,onClick:m,role:"button",tabIndex:u?0:void 0},a.createElement(Ji,{icon:Hg.A,title:i,hideArrow:!u,iconColor:s,color:l||"#0A8800"}),a.createElement("div",{className:lh().list},c.map(((e,t)=>e?.name?a.createElement("div",{key:t,className:lh().item,role:"button","aria-label":e.name},e.name):null))))):null})),ch=n(42158),uh=n.n(ch);var mh=(0,i.PA)((()=>{const{goods:e,selectedSku:t}=(0,N.Pj)(),n=(0,a.useMemo)((()=>t.skuId?t.sensitiveProductTip:e.sensitiveProductTip),[e,t]);return n?a.createElement("div",{className:uh().container},a.createElement("span",{className:uh().iconWrap},a.createElement(xa.JE,{className:uh().icon})),n):null})),dh=n(43928),ph=n(12242),gh=n(14014),hh=n(32141),fh=n(28434),yh=n(71808),_h=n(59489),Eh=n.n(_h);const bh=(0,a.memo)((e=>{const{t:t}=(0,p.B)("bec-fe.web-share"),{popoverapi:n,pageSn:r,pageElSn:i,title:l,link:s,shareImage:c,queryShortUrl:u,getShortUrlTimeout:m=5e3,contentCls:d,mailSubject:g="",handleBefore:h,copyShortUrl:f,panelTitle:y,channelLogInfo:_}=e,E=(0,a.useMemo)((()=>(0,dn.A)(32)),[]),{userAgent:b}=(0,Aa.Sz)(),S=(0,a.useMemo)((()=>(0,gh.z)(b)),[b]),v=[dh.rx.Email,S?dh.rx.Message:null,dh.rx.Twitter,dh.rx.Facebook,dh.rx.Pinterest,dh.rx.CopyLink].filter((e=>e)),I=(0,fh.A)((async e=>{let{shareType:t}=e;(0,hh.A)("share_click",{referPageSn:r,referPageElSn:i,compName:"SharePanel",shareTypes:[t]});const n=await(h?.(t));await(0,ph.A)({shareId:E,shareType:t,title:l,link:s,shareImage:c,mailSubject:g,queryShortUrl:u,getShortUrlTimeout:m,copyShortUrl:f,channelLogInfo:_,..."object"==typeof n?n:{}})}));return a.createElement(kn.nU,{page_el_sn:dh.h6.DIALOG,useClick:!1},a.createElement("div",{className:o()(Eh().container,d)},y||a.createElement("div",{className:Eh().title},t("Share_to")),a.createElement(yh.A,{event:n?`share_impr_popoverapi_${n}`:"share_impr",compName:"SharePanel",shareTypes:v,referPageSn:r,referPageElSn:i},a.createElement("div",{className:Eh().shareIcons},v.map((e=>a.createElement(kn.nU,{key:e,page_el_sn:dh.h6.CHANNEL,useClick:!1,others:{share_channel:dh.NY[e],..."function"==typeof _?_({shareType:e,op:"impr"}):_}},a.createElement(ps.n,{className:Eh().iconWrap,onClick:()=>I({shareType:e})},a.createElement(Nn.Ay,{src:dh.FD[e].icon,className:Eh().icon,alt:dh.FD[e].name})))))))))}));var Sh=(0,In.W4)({name:"SharePanelContent"})(bh),vh=n(9410),Ih=n(50292),wh=n(13304),kh=n.n(wh);const Nh=e=>a.createElement(ed.i,(0,q.A)({viewBox:"1 0 22 8",alt:"bubble_arrow",path:"M0.913721065,9 C2.56449311,9 4.14234104,8.31987419 5.27579998,7.1197412 L10.5459737,1.53955726 C11.3043971,0.73652071 12.5702105,0.700354613 13.3732471,1.45877803 C13.4009372,1.48492978 13.4278746,1.51186717 13.4540263,1.53955726 L18.7242,7.1197412 C19.857659,8.31987419 21.4355069,9 23.0862789,9"},e,{className:o()(kh().arrow,e.className)}));var Ah=n(24098),Ch=n.n(Ah);const Th=e=>{let{positionAnchor:t,style:n}=e;return a.createElement(Nh,{className:Ch().arrow,style:{positionAnchor:t,...n}})},xh=(0,a.memo)((e=>{const{children:t,overlay:n,...r}=e,o=(0,vh.wi)(),{supportedPopoverHint:i}=(0,Ih.rG)(),l=(0,a.useRef)(null),[s,c]=(0,a.useState)("hint");(0,a.useEffect)((()=>{i||c("auto")}),[]);const[u,m]=(0,a.useState)(!1);(0,a.useEffect)((()=>{if(!l.current)return;const e=new IntersectionObserver((e=>{e.forEach((e=>{m(e.isIntersecting)}))}));return e.observe(l.current),()=>{e.disconnect()}}),[]);const d=(0,a.useRef)(0),p=()=>{"hint"!==s&&(clearTimeout(d.current),l.current?.showPopover?.())},g=()=>{"hint"!==s&&(d.current=setTimeout((()=>{l.current?.hidePopover?.()}),100))};return a.createElement("div",r,a.createElement(vh.ut,(0,q.A)({onMouseEnter:p,onMouseLeave:g},r,o,{popover:s}),t),a.createElement(vh.l5,(0,q.A)({ref:l,onMouseEnter:p,onMouseLeave:g},o,{popover:s,className:Ch().target}),a.createElement(Th,o),(0,a.cloneElement)(n,{key:u?"visible":"",popoverapi:"hint"===s?2:1})))}));var Ph=n(1747);const Rh=(0,a.forwardRef)(((e,t)=>{let{pos:n,children:r}=e;const[o,i]=(0,a.useState)(!1);(0,a.useLayoutEffect)((()=>{const e=t?.current?.getBoundingClientRect?.();e&&i(e.right>window.innerWidth)}),[]);const l=(0,a.useMemo)((()=>({position:"fixed",zIndex:1e3,left:n.left+Math.floor(n.width/2),top:n.top+n.height,transform:`translateX(${o?`calc(-100% + ${Math.max(Math.floor(n.width/2),12)}px)`:"-50%"})`,marginTop:7})),[n,o]),s={position:"fixed",zIndex:1e3,left:n.left+Math.floor(n.width/2),top:n.top+n.height,transform:"translateX(-50%)"};return a.createElement(a.Fragment,null,a.createElement("div",{ref:t,style:l},r),a.createElement(Nh,{style:s}))})),Mh=(0,a.memo)((e=>{const{children:t,overlay:n,...r}=e,o=(0,a.useRef)(null),i=(0,a.useRef)(null),[l,s,c]=(0,Ph.A)(null),u=(0,a.useMemo)((()=>l?(0,gu.createPortal)(a.createElement(a.Suspense,null,a.createElement(Rh,{ref:i,pos:l},n)),document.body):null),[n,l]),m=(0,a.useCallback)((()=>{const e=o.current?.getBoundingClientRect?.()||null;e&&s(e)}),[]);return(0,a.useEffect)((()=>{const e=()=>{s(null)},t=e=>{c()&&(o.current?.contains(e.target)||i.current?.contains(e.target)||s(null))};return document.addEventListener("scroll",e,{capture:!0}),document.addEventListener("click",t),()=>{document.removeEventListener("scroll",e),document.removeEventListener("click",t)}}),[]),a.createElement(ps.n,(0,q.A)({ref:o},r,{onClick:()=>{m()},onMouseLeave:()=>{s(null)},onMouseOver:()=>{m()}}),u,t)}));var Dh=n(29863);var Bh=n(3530),Lh=n.n(Bh);const Oh=e=>a.createElement(ed.i,(0,q.A)({path:"M320 380.6c16 0 29 13 29 29 0 16-13 29-29 29l-42.7 0c-31.1 0-56.3 25.2-56.3 56.3l0 298.7c0 31.1 25.2 56.3 56.3 56.3l469.4 0c31.1 0 56.3-25.2 56.3-56.3l0-298.7c0-31.1-25.2-56.3-56.3-56.3l-42.7 0c-16 0-29-13-29-29 0-16 13-29 29-29l42.7 0c63.2 0 114.3 51.2 114.3 114.3l0 298.7c0 63.2-51.2 114.3-114.3 114.3l-469.4 0c-63.2 0-114.3-51.2-114.3-114.3l0-298.7c0-63.2 51.2-114.3 114.3-114.3l42.7 0z m213.7-251.8l120.7 120.7c11.3 11.3 11.3 29.7 0 41-11.3 11.3-29.7 11.3-41 0l-72.4-72.3 0 340.7c0 16-13 29-29 29-16 0-29-13-29-29l0-338.4-70 70c-10.5 10.5-26.9 11.3-38.2 2.4l-2.8-2.4c-11.3-11.3-11.3-29.7 0-41l120.7-120.7c11.3-11.3 29.7-11.3 41 0z","aria-hidden":!0},e,{className:o()(Lh().icon,e.className)})),Wh=(0,In.W4)({name:"ShareEntry"})((e=>{const{style:t,cls:n,shareEntryBtn:r,isAdaptXOffset:i=!0,...l}=e,s=r||a.createElement(Oh,null),c=(0,a.useMemo)((()=>(0,dn.A)(32)),[]),[u,m]=(0,a.useState)(""),{queryShortUrl:p,getShortUrlTimeout:g,link:h}=l,f=(0,a.useCallback)((e=>{if("CopyLink"!==e||u)return{};const t=(0,d.rE)({refer_share_id:c,refer_share_channel:dh.NY[dh.rx.CopyLink]},h);return Promise.race([p(t),new Promise((e=>setTimeout((()=>e(t)),g||5e3)))]).then((e=>(m(e),{copyShortUrl:e,shareId:c}))).catch((()=>({})))}),[u]),y=a.createElement(Sh,(0,q.A)({},l,{copyShortUrl:u,handleBefore:f,placement:"bottom",isAdaptXOffset:i})),{supportedPopover:_}=(0,Ih.rG)(),E=(e=>{const{__req:t,__res:n}=(0,Aa.Sz)(),r=(0,pn.w)((()=>{try{const{google:t}=(0,Dh.Ay)("commonConfigs",n)||{},a=t?.[e]||!1,r=(0,la.Ri)("api_uid");if((!0===a||Array.isArray(a)&&r&&a.includes(r))&&(0,d.Xe)(location.href)[`__${e}__`])return!0}catch(e){(0,D.fL)(e)}return!1})),[o,i]=(0,a.useState)((()=>r()));return(0,a.useEffect)((()=>{i(r())}),[r]),o})("popoverapi")&&_?xh:Mh;return a.createElement(E,{suppressHydrationWarning:!0,overlay:y,style:t,className:o()(Lh().wrap,n)},s)}));var zh=n(49510),Fh=n.n(zh);const Uh=(0,i.PA)((()=>{const e=(0,N.Pj)(),{t:t}=(0,p.B)("goods"),{itemId:n}=e?.goods||{},r=`${t("share.itemIdTxt")}: ${n}`;return a.createElement("div",{className:Fh().sharePanel},a.createElement("div",null,t("share.to")),n?a.createElement("div",{className:Fh().itemId},r,a.createElement(Xo.A,{page_el_sn:204394,className:Fh().copyButton,text:n})):null)}));var Gh=(0,Xt.A)((0,In.W4)({name:"ShareBlock"}),i.PA)((()=>{const e=(0,N.Pj)(),{t:t}=(0,p.B)("goods"),{goods:n,query:r,gallery:i,galleryIndex:l,$service:s,shareInfo:c,goodsId:u}=e,{goodsName:m}=n,g=(0,a.useMemo)((()=>{const{shareImageUrl:e}=c||{},{url:t=""}=i?.[l]||{};return e||t}),[i,l,c]),h=(0,a.useCallback)((()=>{const{sku_id:e}=r||{},{pathname:t}=location||{},{linkUrl:n}=c||{};if(n)return(0,d.rs)(n,{sku_id:e,share_img:g});const a=(t||"").includes(`g-${u}.html`);return(0,d.rs)(t,{sku_id:e,goods_id:a?void 0:u,share_img:g})}),[u,r,c,g]),f=(0,a.useCallback)((async e=>{const t=await s.queryShareInfo({url:e,goods_id:u}).catch((()=>{}));return(0,A.A)("OnShortUrlClick"),t?.shortUrl}),[s,u]);return a.createElement("div",{className:o()(Fh().shareWrap)},a.createElement(Wh,{suppressHydrationWarning:!0,panelTitle:a.createElement(Uh,null),cls:o()(Fh().shareEntry,Fh().shareContent),title:m||"",shareImage:g,link:h(),mailSubject:t("Check_this_item_out_on_Temu"),getShortUrlTimeout:5e3,queryShortUrl:f,className:Fh().sharePop,pageSn:xn.LM}))})),Hh=n(34760),jh=n(50834),Vh=n.n(jh),qh=(0,a.memo)((function(e){let{reviewData:t,visible:n}=e;const{popupClothFitReviewText:r,clothFitReviewInfoList:o,expParams:i,popupClothFitRichText:l}=t||{};return a.createElement("div",{className:Vh().wrap},a.createElement("div",{className:Vh().container},a.createElement("div",{className:Vh().title},l?.textRich?.length?a.createElement(tr.l5,{newRichText:l,style:{textAlign:"left"}}):r),a.createElement(Hh.A,{visible:n,clothFitReviewInfoList:o,progressElSn:200355,clothFitTipV2:i?.clothFitTipV2,isShowReviewProgress:!0})))})),Kh=n(11579),$h=n.n(Kh),Qh=(0,a.memo)((function(e){let{reviewData:t,isScrolling:n,isShowNewSize:r}=e;const{clothFitReviewText:i,reviewClothFitTip:l,popupClothFitReviewText:s,clothFitRichText:c,popupClothFitReviewRichText:u}=t||{},m=!n&&(s||u?.textRich?.length)&&!l&&i,[d,p]=(0,a.useState)(!1);return i||l?a.createElement(Yr.A,{appendToBody:!0,adapted:!0,overlay:m?a.createElement(qh,{visible:d,reviewData:t}):null,onPopoverVisibleChange:p},a.createElement("div",{className:o()($h().itemText,{[$h().clothFitReview]:r,[$h().newClothFitReview]:!r&&l,[$h().hover]:!!s}),role:"button","aria-label":i},c?.textRich?.length?a.createElement(tr.l5,{newRichText:c,style:{textAlign:"left"}}):r||l?a.createElement(a.Fragment,null,a.createElement(xo.A,{className:$h().explainIcon}),l||i):a.createElement(a.Fragment,null,i,a.createElement(Qr.A,{className:$h().questionIcon})))):null})),Yh=n(50622),Jh=n(29030),Xh=n.n(Jh);var Zh=n(37348),ef=n.n(Zh);var tf=e=>{let{showFireIcon:t,specValue:n,wrapCls:r,style:i}=e;return t?a.createElement("span",{className:ef().iconWrap,"aria-hidden":!0},a.createElement(hr.A,{className:o()(ef().fireIcon,r),alt:n,style:i})):null},nf=n(31111),af=n.n(nf);const rf=e=>{const{currentSpecIdSelect:t,avalibleSpecsId:n,item:r,handleSpecChangedById:i,type:l,isLast:s,getSpecLocalOptimalSku:c,showPictureSpecKeyId:u,specValueId:m,specKeyId:d,className:g,showSpecSoldoutTagV1:h,showSpecSoldoutTagV2:f,isSingleSpec:y,isFirstSpec:_,specClearanceIcon:E,formatSkuData:b,isSoldoutItem:S,skuSoldOutToast:v,showFindSimilarToast:I,getSkuBySpecId:w,isSupportTouch:k,isEnhanceSpecStyle:N,isSkc:C,specCustom:T,webpEnable:x,skuUnitBestValueTag:P,skuUnitPriceRich:R,skuUnitBestValueTagColors:M,sku:D,store:B,setHoverSpecValue:L}=e,{t:O}=(0,p.B)("goods"),{specIdIsOnsaleMap:W,skuTypeValues:z}=b||{},{hotSpecList:F,freeShippingTagInfo:U}=T||{},{freeShippingTagSkuIds:G,specKeyId:H}=U||{},j=`${d}${m}`,V=!W?.[j],{imgUrl:K,text:$,alt:Q,spec:Y,skcId:J}=r,X=(0,a.useMemo)((()=>t[d]===m),[t,d,m]),Z=(0,a.useMemo)((()=>(n||{})[d][m]),[n,d,m]),ee=(0,a.useMemo)((()=>({...t,[d]:m})),[t,d,m]),te=(0,a.useMemo)((()=>Object.entries(ee).filter((e=>e?.[1])).some((e=>{let[t,n]=e;const a=`${t}${n}`;return!W?.[a]}))),[W,ee]),ne=h&&(te?V:!Z&&s)||f&&!Z&&(y||_),ae=(0,a.useMemo)((()=>F?.find((e=>e.specKeyId===d&&e.specValueId===m))),[F,d,m]),re=!!ae,oe=(0,a.useMemo)((()=>c(ee)),[ee,c]),{skuId:ie}=oe||{},le=(0,a.useMemo)((()=>d===H&&ie&&G?.includes(`${ie}`)),[d,H,ie,G]),{bestValTag:se,unitPriceRich:ce,bestValTagColor:ue}=(0,a.useMemo)((()=>y?{bestValTag:P?.[ie],bestValTagColor:M?.[ie],unitPriceRich:R?.[ie]}:{}),[y,ie,P,R,M]),me=(0,a.useMemo)((()=>(0,Yh.A)({showFireIcon:re,showSoldouTag:ne})),[re,ne]),de=(0,a.useMemo)((()=>({page_el_sn:200332,spec_key:l,spec_value:$,spec_value_id:m,type:Z?1:2,little_flame:+re||0,set:oe?.save?1:0,skc_id:J,...me})),[l,$,Z,me,J]),pe=(0,a.useCallback)((()=>{if(v&&!Z&&!X){const e={...t,[d]:m},n=w(e);if(0===n?.isOnsale)return I(),void(0,A.A)("chooseSoldOutSkuSpecItem",{fields:{data:JSON.stringify({specKeyId:d,specValueId:m,isSelected:X})}})}i(d,m,{...de,is_selected:X?0:1})}),[d,m,X,u,t]),ge=(()=>{const{specValueShowRich:e}=Y||{};return e?.length?a.createElement(a.Fragment,null,e.map((e=>{const{text:t,textFormat:n}=e||{},{color:r}=n||{};return t?a.createElement("span",{style:{color:r}},t):null}))):null})()||$,he=(0,a.useCallback)((()=>{L(ge)}),[ge,L]),fe=(0,a.useCallback)((()=>{L(null)}),[L]),{onMouseEnter:ye,onMouseLeave:_e}=(e=>{let{store:t,sku:n,onEnter:r,onLeave:o}=e;const i=(0,a.useRef)(),l=(0,wd.xc)(t.localInfo?.region)===Id.DR.eu?"cp187798":"cp184047",s=1===t.grayConfig?.[l]?.val,c=(0,a.useCallback)((()=>{const{concatGallery:e,galleryRef:o,isSkc:l,goods:s,galleryIndex:c,webpEnable:u}=t,{specs:m,galleryId:d}=n||{},p=(()=>{if(l){const e=s.skc?.find((e=>m?.some((t=>t.specValueId===e.specId))),{}),{url:t}=e?.gallery?.[0]||{};return t}const t=m?.length?e.findIndex((e=>e.id===d)):-1;if(t>-1){const{url:n}=e[t]||{};return n}})();if(p&&o?.current&&p!==e?.[c]?.url){const{width:e,height:t,left:n,top:l}=o.current.getBoundingClientRect()||{};i.current=(0,vn.A)(a.createElement("div",{onMouseEnter:()=>i.current?.(),className:Xh().wrap,style:{width:e,height:t,top:l+window.scrollY,left:n+window.scrollX}},a.createElement(Ln.A,(0,q.A)({src:p,alt:"",webpEnable:u,className:Xh().img},xn.be))),{}),r()}}),[n,t]),u=(0,a.useCallback)((()=>{i.current?.(),o()}),[]);return(0,a.useMemo)((()=>s?{onMouseEnter:c,onMouseLeave:u}:{}),[c,u,s])})({store:B,sku:oe,onEnter:he,onLeave:fe}),Ee=()=>re?a.createElement(tf,{showFireIcon:re,specValue:$,wrapCls:af().fireIcon,style:{fill:ae.iconColor}}):E?a.createElement(Ln.A,{src:E,resizeWidth:100,className:af().clearanceIcon,alt:""}):null,be=(0,a.useMemo)((()=>C?K:oe?.specShowImageUrl||oe?.thumbUrl||K),[oe,K,C]),Se=(0,a.useMemo)((()=>{const e=ce?.textRich?.find((e=>e.type===di.aV.text))?.fontColor;return e?{color:e}:{}}),[ce]),ve=ce?.textRich?.length&&Z;return a.createElement(kn.Rp,{page_el_sn:200332,others:de,useClick:!1},a.createElement("div",{className:o()({[af().colorItem]:!k,[af().colorItem4Pad]:k,[af().disabled]:!Z&&!X,[af().selected]:X,[af().selectedEnhance]:X&&N,className:g}),onMouseEnter:ye,onMouseLeave:_e,onClick:pe,role:"button",tabIndex:0,"aria-label":$,"data-aria-enter":"1"},a.createElement("div",{className:o()(af().content)},a.createElement(Ln.A,{src:be,resizeWidth:xn.QH.resizeWidth,quality:xn.QH.quality,wrapperClass:af().contentImg,alt:Q||$,webpEnable:x,progress:!0,progressBlurredCompressParams:Fr.b3}),(()=>{if(!oe?.isOnsale)return null;if(le){const e=O("free"),t=a.createElement("div",{className:af().freeShippingTagContent},a.createElement(rl.A,{className:af().freeTagIcon}),a.createElement("span",{className:af().freeTagContent},e));return a.createElement("div",{className:o()(af().tag,af().freeTag)},a.createElement("div",{className:o()(af().tagContent,af().shadowTagContent)},t),a.createElement(bp.P,{showTransition:!0,speed:30,className:af().transitionTagContent,leftMaskClassName:af().transitionTagContentLeftMask,rightMaskClassName:af().transitionTagContentRightMask,txtClassName:af().transitionTagContentTxt},t))}return se?a.createElement("div",{className:af().tag,style:{background:ue}},a.createElement("div",{className:o()(af().tagContent)},se)):void 0})(),(()=>{if(ne)return a.createElement("div",{className:o()(af().soldoutTag,{[af().isSoldoutItemTag]:S})},O("specSoldoutTag"))})()),a.createElement("div",{className:af().spec},a.createElement("div",{className:o()(af().specContainer,{[af().specContainerWithUnitPrice]:ve})},ve?a.createElement("div",{className:af().specValueContainer},Ee(),ge):a.createElement(a.Fragment,null,Ee(),ge),ve?a.createElement(a.Fragment,null,a.createElement(tr.l5,{newRichText:ce,style:Se,className:af().unitPriceRich})):null))))};var of=(0,a.memo)(rf),lf=n(193),sf=n.n(lf);var cf=(0,In.W4)({name:"SoldoutColorItem"})((0,i.PA)((e=>{let{onClick:t,commonColorItemProps:n}=e;const{soldoutPicSpecValueIds:r}=(0,N.Pj)(),i=r?.[0]||{},{specValueId:l}=i||{},s=`+${r.length}`,c=(0,a.useRef)(null),u=(0,a.useRef)(null),[m,d]=(0,a.useState)(),[p,g]=(0,a.useState)(),[h,f]=(0,a.useState)(!1),{isRTL:y}=(0,Aa.Sz)();return(0,a.useEffect)((()=>{const e=(0,Ls.s)((()=>{if(!c.current)return;const{left:e,width:t}=c.current?.getBoundingClientRect()||{},{width:n=0,left:a=0}=c.current?.parentElement?.getBoundingClientRect()||{},r=e-a;(y?n-r-t:r)<t/2?(d({opacity:0}),g(y?{right:-21}:{left:-21})):(d(void 0),g(void 0))}),100);return e(),f(!0),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[c,y]),r?.length?a.createElement(a.Fragment,null,a.createElement(kn.nU,{page_el_sn:237431,others:{fold_num:r.length}},a.createElement("div",{className:o()(sf().wrap,{[sf().init]:h}),ref:c},a.createElement("div",{className:o()(sf().line),ref:u,style:m}),a.createElement("div",{className:sf().right,onClick:t,style:p,role:"button",tabIndex:0},a.createElement(of,(0,q.A)({},n,{className:sf().innerColorItem,isSoldoutItem:!0,item:i,specValueId:l})),a.createElement("div",{className:sf().mask},a.createElement("div",{className:sf().count},s,a.createElement(wn.A,{className:sf().arrow}))))))):null}))),uf=n(56703),mf=n.n(uf);var df=(0,In.W4)({name:"PicSpecItem"})((0,i.PA)((e=>{let{isLast:t,spec:n,isScrolling:r,showFindSimilarToast:i,isShaking:l,isFirstSpec:s}=e;const{t:c}=(0,p.B)("goods"),u=(0,N.Pj)(),{supportActivityAtmosphere:m,selectedSku:d,control:g,formatSkuData:h,currentSpecIdSelect:f,picSpecList:y,specStatusById:_,specCustom:E,getSpecLocalOptimalSku:b,optimalSku:S,isEnhancedStockGroupClearanceStyle:v,handleSpecChangedById:I,sku:w,getSkuBySpecId:k,review:A,soldoutPicSpecValueIds:C,selectedSkuSpec:T,isSkc:x,skuSoldOutToast:P,showSpecSoldoutTagV1:R,showSpecSoldoutTagV2:M,isSupportTouch:D,isEnhanceSpecStyle:B,webpEnable:L,moduleMap:O}=u,[W,z]=(0,a.useState)(),{skuUnitPriceRich:F,skuUnitBestValueTag:U,skuUnitBestValueTagColors:G}=O?.skuSpecSelectorModule?.data||{},H=(0,a.useRef)(),{specValueId2SpecValueMap:j,skuTypeValues:V}=h||{},{skuThumbSpecKeyId:K,showPictureSpecKeyId:$}=g||{},{specValueShowRich:Q}=d||{},Y=1===V?.length,{specKeyId:J,values:X,specKeyShowName:Z,type:ee}=n||{},te=1===X?.length,ne=j?.[f?.[J]],[ae,re]=(0,a.useState)(!1),oe=J===$||J===K,ie=!f[J],le=(0,a.useMemo)((()=>!!C.length&&!y?.find((e=>f[e?.spec?.specKeyId]===e?.spec?.specValueId))?.isAllSoldout),[y,f,C]),[se,ce]=(0,a.useState)(le);(0,a.useEffect)((()=>(0,Bi.P)({specKeyId:J,ref:H})),[]),(0,a.useEffect)((()=>{J===$||ie||re(!1)}),[ie]),(0,a.useEffect)((()=>{J!==$&&l&&ie&&re(!0)}),[l]);const ue=(0,a.useCallback)((()=>{ce((e=>!e))}),[]),me=a.createElement("div",{className:ae?mf().prominentColor:"",role:"button","aria-label":ee},a.createElement("span",{className:mf().specText},Z||ee,": ",te||oe?!ae&&W?W:t&&Q?.length&&Q?.length>0?a.createElement(ml.sD,{richText:Q}):a.createElement("em",null,ne):null),!te&&!!ae&&a.createElement("span",{className:mf().remindTip},a.createElement(xa.Xw,{className:mf().remindTipIcon,"aria-hidden":!0}),c("main_detail.UnSelectedTipNew",{specs:ee?.toLowerCase()}))),de=(0,a.useMemo)((()=>({formatSkuData:h,currentSpecIdSelect:f,avalibleSpecsId:_,specKeyId:J,showPictureSpecKeyId:$,specCustom:E,getSpecLocalOptimalSku:b,optimalSku:S,handleSpecChangedById:I,type:ee,isLast:t,showSpecSoldoutTagV1:R,showSpecSoldoutTagV2:M,isSingleSpec:Y,isFirstSpec:s,isSkc:x,sku:w,selectedSkuSpec:T,showFindSimilarToast:i,skuSoldOutToast:P,getSkuBySpecId:k,isEnhanceSpecStyle:B,isSupportTouch:D,webpEnable:L,skuUnitPriceRich:F,skuUnitBestValueTag:U,setHoverSpecValue:z,skuUnitBestValueTagColors:G,store:u})),[h,f,_,J,$,E,b,S,I,ee,t,R,M,Y,s,x,w,T,i,P,k,B,D,L,F,U,z,u,G]);return a.createElement("div",{className:o()(mf().spec,m&&mf().newSpec)},a.createElement("div",{className:mf().specHead},a.createElement("div",{className:mf().colorHead},me),!!t&&a.createElement(Qh,{isScrolling:r,reviewData:A?.reviewData})),a.createElement("div",{ref:H,className:o()(mf().colorItems,{shaking:ie,[mf().colorRemindBorder]:J===K&&ie&&l})},y?.length>1&&y.map((e=>{const{isAllSoldout:t,specValueId:n}=e||{};return t&&se&&le?null:a.createElement(of,(0,q.A)({},de,{key:n,item:e,specValueId:n,specClearanceIcon:v?E?.nonSkcSpecClearanceIcons?.[n]:void 0}))})),se&&le?a.createElement(cf,{commonColorItemProps:de,onClick:ue}):null))}))),pf=n(67660),gf=n(31264),hf=n(26824),ff=n.n(hf);const yf=(0,In.W4)()((0,i.PA)((function(e){const{isScrolling:t}=e||{},{sizeSpecModule:n,review:r,currentSpecIdSelect:i,control:l,selectLocationId:s,sku:c,isShowNewSize:u,sizeGuide:m,goodsId:d,updateModelTryOn:p,supportSizeRecommend:g,querySizeRecommend:h,isLogin:f,showSizePopupParams:y}=(0,N.Pj)(),_=(0,a.useRef)(),[E,b]=(0,a.useState)({}),{sizeGuideSpecKeyId:S=""}=l||{},v=!!i?.[S],{sizeSpecContentMap:I}=n||{},{sizeSpecValueContentMap:w}=I?.[s]||{},k=E[s],C=i?.[S],{sizeBubble:T}=w?.[C]||{},{realSizeTips:x,sizePropertyList:P}=T||{},R=m?.show,M=(0,a.useCallback)((async()=>{if(!g||!f)return;const e=await h();if(e.success){const{recommendSuc:t,locationIdToRecommendSizeMap:n}=e?.result||{};b(t?n:{})}}),[f,h,g]),{perfetchSizePopupData:D,renderSizePopup:B}=(0,pf.$h)();(0,a.useEffect)((()=>(M(),(0,gf.vL)(M))),[]);const L=(0,Ls.s)((()=>{R&&(_.current=(0,$c.x)(),B({source:pf.Je.Guide,goodsId:d,onChangeUnit:p,...y},(()=>{_.current?.end?.({name:"pc_goods_sizePopupContentShowTime"}),(0,A.A)("SizeGuidePopup",{fields:{data:JSON.stringify({is_auto_show:0,from:"SizeInfo"})}})})))}),200),O=(0,a.useMemo)((()=>v&&!(!P?.find((e=>e.textRich?.find((e=>e.value))))&&!x?.textRich?.find((e=>e.value)))),[v,P,x]);return a.createElement(a.Fragment,null,a.createElement(ac.t,{show:O,maxHeight:200},O?a.createElement("div",{className:o()(ff().wrap,{[ff().clickable]:R}),onMouseDown:()=>{D({goodsId:d,...y})},onClick:L,role:"button",tabIndex:0},a.createElement(kn.Rp,{page_el_sn:228247},a.createElement("div",{className:ff().left},x?a.createElement("div",{className:ff().realSizeTipWrap},a.createElement(tr.l5,{className:o()(ff().leftTop,ff().textAlignLeft,x&&P?.length?ff().realSizeTipsMarginBottom:""),newRichText:x})):null,P?.map((e=>e?.textRich?.length?a.createElement("div",{className:ff().sizePropertyItem},a.createElement(tr.l5,{className:o()(ff().textAlignLeft,ff().sizePropertyItemText),newRichText:e})):null)))),R?a.createElement(wn.A,{className:ff().arrow}):null):null),a.createElement(a.Fragment,null,a.createElement(ac.t,{show:!v&&k,maxHeight:100},!v&&k?a.createElement("div",{className:ff().recommendTips},a.createElement(tr.l5,{className:o()(ff().textAlignLeft,ff().recommendTipsText),newRichText:k})):null),r?.reviewData?.clothFitReviewText||r?.reviewData?.reviewClothFitTip?a.createElement(kn.Rp,{page_el_sn:228248},a.createElement("div",null,a.createElement(Qh,{isScrolling:t,reviewData:r?.reviewData,isShowNewSize:u}))):null))})));var _f=n(64561),Ef=n.n(_f);const bf="SizeGuidePopup";var Sf=(0,Xt.A)((0,In.W4)({name:"SizeGuide"}),i.PA)((function(e){const{className:t,contentClassName:n}=e,r=(0,N.Pj)(),{t:i}=(0,p.B)("goods"),{sizeGuide:l,goodsId:s,updateModelTryOn:c,query:u,showSizePopupParams:m}=r,d=(0,a.useRef)(),{perfetchSizePopupData:g,renderSizePopup:h}=(0,pf.$h)();(0,a.useEffect)((()=>{const{auto_show_popup:e}=u||{};e===xn.vs.SIZE_GUIDE&&l?.show&&h({source:pf.Je.Guide,goodsId:s,onChangeUnit:c,...m},(()=>{(0,A.A)(bf,{fields:{data:JSON.stringify({is_auto_show:1,from:"SizeGuide"})}})}))}),[]);const f=(0,Ls.s)((()=>{d.current=(0,$c.x)(),h({source:pf.Je.Guide,goodsId:s,onChangeUnit:c,...m},(()=>{d.current?.end?.({name:"pc_goods_sizePopupContentShowTime"}),(0,A.A)(bf,{fields:{data:JSON.stringify({is_auto_show:0,from:"SizeGuide"})}})}))}),200);return l?.show?a.createElement(kn.nU,{page_el_sn:200353},a.createElement("div",{className:o()(Ef().wrap,t)},a.createElement("div",{className:o()(Ef().guide,n),onClick:f,onMouseDown:()=>{g({goodsId:s,...m})},role:"button","data-aria-enter":"1",tabIndex:0,"aria-label":i("sizeGuide.sizePopupTitle")},a.createElement(ed.i,{"aria-hidden":!0,path:"M870.4 256c56.6 0 102.4 45.8 102.4 102.4l0 358.4c0 56.6-45.8 102.4-102.4 102.4l-716.8 0c-56.6 0-102.4-45.8-102.4-102.4l0-358.4c0-56.6 45.8-102.4 102.4-102.4l716.8 0z m-593.9 61.4l-122.9 0c-22.6 0-41 18.3-41 41l0 358.4c0 22.6 18.3 41 41 41l716.8 0c22.6 0 41-18.3 41-41l0-358.4c0-22.6-18.3-41-41-41l-122.9 0 0 245.8c0 17-13.8 30.7-30.7 30.7-17 0-30.7-13.8-30.7-30.7l0-245.8-143.4 0 0 160.5c0 17-13.8 30.7-30.7 30.7-17 0-30.7-13.8-30.7-30.7l0-160.5-143.4 0 0 245.8c0 17-13.8 30.7-30.7 30.7-17 0-30.7-13.8-30.7-30.7l0-245.8z",width:"20px",height:"20px",className:Ef().sizeIcon}),i("sizeGuide.sizePopupTitle")))):null})),vf=n(86603),If=n.n(vf);const wf=(0,a.memo)((function(e){const{list:t,activeId:n,onChange:r,wrapEle:i,type:l}=e||{},[s,c]=(0,a.useState)(n),[u,m]=(0,a.useState)(!1);(0,a.useEffect)((()=>{c(n)}),[n]);const d=e=>{r?.(e),c(e),m(!1)};(0,a.useEffect)((()=>{if(!u)return;const e=i||window.document,t=e=>{let t=e.target;for(;t;){if(t?.classList?.contains(If().arrow))return void m(!1);if(t?.classList?.contains(If().selectListWrap))return;t=t?.parentNode}m(!1)};return e.addEventListener("click",t),()=>e.removeEventListener("click",t)}),[u]);const p=(0,a.useMemo)((()=>t?.find((e=>e.id===s))),[s,t]);return l!==Zn.inline&&t?.length?l===Zn.buttons?a.createElement("div",{className:o()(If().btns)},t?.map((e=>{const{name:t,id:n}=e||{};return a.createElement("div",{onClick:()=>d(n),className:o()(If().btnItem,{[If().activeBtnItem]:n===s}),key:n},t)}))):l===Zn.list?a.createElement(Yr.A,{trigger:["click"],visible:u,overlay:a.createElement("div",{className:If().listWrap},t?.map((e=>{const{id:t,name:n}=e||{};return a.createElement("div",{className:If().listItem,key:t,onClick:()=>d(t)},n,t===s?a.createElement(fi.A,{className:If().selectedIcon}):null)}))),placement:"bottom"},a.createElement("div",{className:If().selectListWrap},a.createElement("div",{className:If().selectList,onClick:()=>m(!u)},a.createElement("div",{className:If().inner}),p?.name,a.createElement(xa.hu,{direction:"bottom",className:If().arrow})))):void 0:null}));var kf=n(90787),Nf=n.n(kf);const Af=(0,a.memo)((function(e){const{specs:t}=e,{t:n}=(0,p.B)("goods");return a.createElement("span",{className:Nf().remindTip},a.createElement(xa.Xw,{className:Nf().remindTipIcon,"aria-hidden":!0}),a.createElement("span",null,n("main_detail.UnSelectedTipNew",{specs:t})))})),Cf=(0,In.W4)()((0,a.memo)((function(e){const{ifShowUnSelectTip:t,type:n,sizeSpecModule:r,onLocationIdChange:i,selectLocationId:l,isOnlySpec:s,currentSpecValue:c}=e,{specName:u,locationSizeList:m,sizeSpecContentMap:d,type:p=1}=r||{},[g,h]=(0,a.useState)(p),[f,y]=(0,a.useState)(l),_=(0,a.useCallback)((e=>{i?.(e),y(e)}),[]);(0,a.useEffect)((()=>{y(l)}),[l]);const{styleTips:E}=d?.[f]||{},b=(0,a.useRef)(),S=(0,a.useRef)(),v=(0,a.useRef)(),I=(0,a.useRef)(),w=(0,a.useRef)(),[k,N]=(0,a.useState)(!1),[A,C]=(0,a.useState)(!1),[T,x]=(0,a.useState)(!1),P=(0,a.useRef)();(0,a.useEffect)((()=>{const e=()=>{const{width:e=0}=b?.current?.getBoundingClientRect()||{},{width:t=0}=S?.current?.getBoundingClientRect()||{},{width:n=0}=v?.current?.getBoundingClientRect?.()||{},{width:a=0}=I?.current?.getBoundingClientRect?.()||{},{width:r}=w?.current?.getBoundingClientRect?.()||{},o=r-e-t-a;return x(n+a>=r),o>0&&o<n?(N(!0),void C(!1)):r-e-t<a?(N(!1),void C(!0)):(N(!1),void C(!1))};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}}),[t]),(0,a.useEffect)((()=>{const e=()=>{const{width:e=0}=S?.current?.getBoundingClientRect()||{},{width:t}=w?.current?.getBoundingClientRect?.()||{};p===Zn.buttons&&(P.current||(P.current=e),P.current>=t?h(Zn.list):P.current<=t&&h(p))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[p,l]);const R=()=>a.createElement(a.Fragment,null,a.createElement("div",{className:Nf().specName,ref:b},u,g!==Zn.inline||s?null:a.createElement("span",null,": "),s?a.createElement("span",null,": ",c):null),a.createElement(kn.Rp,{page_el_sn:228245,others:{local_size_type:m?.find((e=>e.id===l))?.name,size_switch_type:g}},a.createElement("div",{ref:S,className:Nf().countrySelectWrap},a.createElement(wf,{list:m,activeId:f,onChange:_,type:g}))));return a.createElement("div",{className:o()(Nf().specHead,{[Nf().specHeadMarginBottom]:g===Zn.inline}),ref:w},k?a.createElement(a.Fragment,null,a.createElement("div",{className:o()(Nf().top,t?Nf().prominentColor:""),role:"button","aria-label":n},R(),a.createElement("div",{className:Nf().flexGrow}),a.createElement("div",{ref:I,className:Nf().topRightSizeGuide},a.createElement(Sf,{className:Nf().sizeGuide}))),a.createElement("div",{className:Nf().bottom},t?a.createElement("div",{ref:v,className:Nf().remindTipWrap},a.createElement(Af,{specs:n?.toLowerCase?.()})):null)):A?a.createElement(a.Fragment,null,a.createElement("div",{className:o()(Nf().top,t?Nf().prominentColor:""),role:"button","aria-label":n},R()),a.createElement("div",{className:Nf().bottom},t?a.createElement("div",{ref:v,className:T?Nf().rightTotalNewLineRemindTipWrap:""},a.createElement(Af,{specs:n?.toLowerCase?.()})):null,a.createElement("div",{ref:I},a.createElement(Sf,{className:o()(Nf().sizeGuide,Nf().rightTotalNewLineSizeGuide)})))):a.createElement("div",{className:o()(Nf().top,t?Nf().prominentColor:""),role:"button","aria-label":n},R(),t?a.createElement("div",{ref:v},a.createElement(Af,{specs:n?.toLowerCase?.()})):null,a.createElement("div",{className:Nf().flexGrow}),a.createElement("div",{ref:I,className:Nf().topRightSizeGuide},a.createElement(Sf,{className:Nf().sizeGuide,contentClassName:Nf().contentClassName}))),E?.textRich?.length?a.createElement(kn.Rp,{page_el_sn:228246},a.createElement("div",{className:Nf().styleTipsWrap},a.createElement(tr.l5,{className:Nf().textAlignLeft,newRichText:E}))):null)})));var Tf=n(74735),xf=n(17157);const Pf=e=>{const{currentSpecIdSelect:t,avalibleSpecsId:n,specValue:r,handleSpecChangedById:i,type:l,isSizeType:s,isLast:c,sku:u=[],isShowNewSize:m,specValueId:d,specKeyId:g,sizeSpecModule:h,selectLocationId:f,formatSkuData:y,className:_,showSpecSoldoutTagV1:E,showSpecSoldoutTagV2:b,isFirstSpec:S,isSingleSpec:v,skuSoldOutToast:I,showFindSimilarToast:w,getSkuBySpecId:k,isSupportTouch:N,isEnhanceSpecStyle:C,specCustom:T,getSpecLocalOptimalSku:x,skuUnitBestValueTag:P,skuUnitBestValueTagColors:R,skuUnitPriceRich:M}=e,{t:D}=(0,p.B)("goods"),{hotSpecList:B,freeShippingTagInfo:L}=T||{},{freeShippingTagSkuIds:O,specKeyId:W}=L||{},z=(0,a.useMemo)((()=>t[g]===d),[t,g,d]),{sizeSpecValueContentMap:F}=h?.sizeSpecContentMap?.[f]||{},U=F?.[d]?.specValueStr,{specIdIsOnsaleMap:G,skuTypeValues:H,specIdStrToSkuId:j,skuInfos:V}=y||{},q=`${g}${d}`,K=!G?.[q],$=(0,a.useMemo)((()=>(n||{})[g][d]),[n,g,d]),Q=(0,a.useMemo)((()=>({...t,[g]:d})),[t,g,d]),Y=(0,a.useMemo)((()=>Object.entries(Q).filter((e=>e?.[1])).some((e=>{let[t,n]=e;const a=`${t}${n}`;return!G?.[a]}))),[G,Q]),J=E&&(Y?K:!$&&c)||b&&!$&&(v||S),X=(0,a.useMemo)((()=>x(Q)),[Q,x]),{skuId:Z}=X||{},ee=(0,a.useMemo)((()=>g===W&&Z&&O?.includes(`${Z}`)),[g,W,Z,O]),te=(0,a.useMemo)((()=>B?.find((e=>e.specKeyId===g&&e.specValueId===d))),[B,g,d]),ne=!!te,{bestValTag:ae,unitPriceRich:re,bestValTagColor:oe}=(0,a.useMemo)((()=>v?{bestValTag:P?.[Z],bestValTagColor:R?.[Z],unitPriceRich:M?.[Z]}:{}),[v,Z,P,M,R]),ie=(0,a.useMemo)((()=>(0,Yh.A)({showFireIcon:ne,showSoldouTag:J})),[ne,J]),le=(0,a.useMemo)((()=>({page_el_sn:200330,spec_key:l,spec_value:r,spec_value_id:d,type:$?1:2,little_flame:+ne||0,set:X?.save?1:0,...ie})),[l,r,$,X,ne,ie]),se=()=>a.createElement("span",{className:Fs().soldoutTag},D("specSoldoutTag")),ce=()=>re?.textRich?.length?a.createElement(a.Fragment,null,a.createElement(tr.l5,{newRichText:re,className:o()(Fs().unitPriceRich,Fs().marginLeft)})):null,ue=(0,a.useCallback)((()=>{if(!$&&I){const e={...t,[g]:d},n=k(e);if(0===n?.isOnsale)return w(),void(0,A.A)("chooseSoldOutSkuSpecItem",{fields:{data:JSON.stringify({specKeyId:g,specValueId:d,isSelected:z})}})}i(g,d,{...le,is_selected:z?0:1})}),[g,d,z,le,t]),{onMouseEnter:me,onMouseLeave:de}=(0,Tf.b)({skuInfos:V,isSupportTouch:N,sizeSpecValueContentMap:F,specValueId:d,isSizeType:s,isShowNewSize:m,sizeSpecModule:h,selectLocationId:f});return a.createElement("div",{className:o()(Fs().wrap,_)},a.createElement(kn.Rp,{page_el_sn:200330,others:le,useClick:!1},a.createElement("div",{className:o()(Fs().skuItem,{[Fs().disableSkuItemHover]:N,[Fs().disabled]:!$&&!z,[Fs().selected]:z,[Fs().selectedEnhance]:z&&C}),tabIndex:0,"aria-label":(0,za.ft)(X?.specValueShowRich)||r,role:"button",onClick:ue,"data-aria-enter":"1",onMouseEnter:me,onMouseLeave:de},a.createElement("div",{className:Fs().skuContentWrap},a.createElement("div",{className:o()(Fs().skuItemContent,{[Fs().skuItemContentSelected]:z})},ne?a.createElement(tf,{style:{fill:te.iconColor},specValue:r,showFireIcon:ne,wrapCls:Fs().fireIcon}):null,U||(()=>{const{specValueShowRich:e}=X||{};return e?.length?a.createElement(a.Fragment,null,e.map((e=>{const{text:t,textFormat:n}=e||{},{color:r,fontSize:o,fontWeight:i}=n||{};return t?a.createElement("span",{style:{color:r,fontSize:o,fontWeight:i}},t):null}))):null})()||r,z?J?se():re?.textRich?.length?a.createElement("span",{className:o()(Fs().skuSaleInfo)},a.createElement(xf._,null),ce()):null:null),z?null:J?se():re?.textRich?.length?a.createElement("span",{className:o()(Fs().skuSaleInfo,Fs().unActiveSkuSaleInfo)},a.createElement(xf._,null),ce()):null),(()=>{if(!X?.isOnsale)return null;if(ee){const e=D("free"),t=a.createElement("div",{className:Fs().freeShippingTagContent},a.createElement(rl.A,{className:Fs().freeTagIcon}),a.createElement("span",{className:Fs().freeTagContent},e));return a.createElement("div",{className:o()(Fs().tag,Fs().freeTag)},a.createElement("div",{className:o()(Fs().tagContent,Fs().shadowTagContent)},t),a.createElement(bp.P,{showTransition:!0,speed:30,className:Fs().transitionTagContent,leftMaskClassName:Fs().transitionTagContentLeftMask,rightMaskClassName:Fs().transitionTagContentRightMask,txtClassName:Fs().transitionTagContentTxt},t))}return ae?a.createElement("div",{className:Fs().tag,style:{background:oe}},a.createElement("div",{className:Fs().tagContent},ae)):void 0})())))};var Rf=(0,a.memo)(Pf),Mf=n(59650),Df=n.n(Mf);var Bf=(0,In.W4)({name:"TextSpecItem"})((0,i.PA)((e=>{let{spec:t,isLast:n,isShaking:r,isScrolling:i,showFindSimilarToast:l,isFirstSpec:s}=e;const{selectedSku:c,formatSkuData:u,currentSpecIdSelect:m,control:d,sizeSpecModule:g,isShowNewSize:h,selectLocationId:f,updateSelectLocationId:y,review:_,skuSoldOutToast:E,getSkuBySpecId:b,specStatusById:S,handleSpecChangedById:v,similarSizeSpecData:I,supportActivityAtmosphere:w,specCustom:k,showSpecSoldoutTagV1:A,showSpecSoldoutTagV2:C,isSupportTouch:T,isEnhanceSpecStyle:x,getSpecLocalOptimalSku:P,sku:R,moduleMap:M}=(0,N.Pj)(),{t:D}=(0,p.B)("goods"),B=(0,a.useRef)(),{showPictureSpecKeyId:L,sizeGuideSpecKeyId:O}=d||{},{skuUnitPriceRich:W,skuUnitBestValueTag:z,skuUnitBestValueTagColors:F}=M?.skuSpecSelectorModule?.data||{},{specValueId2SpecValueMap:U,skuTypeValues:G}=u||{},{type:H,values:j,specKeyShowName:V,specKeyId:q,valueIds:K}=t||{},$=j?.length,Q=q===O,Y=!m[q],{specValueShowRich:J}=c||{},[X,Z]=(0,a.useState)(!1),{overSizeOutfit:ee}=g?.sizeSpecContentMap?.[f]||{},te=1===$,ne=1===G?.length,{specText:ae}=ee||I||{},re=U?.[m[q]];(0,a.useEffect)((()=>{q===L||Y||Z(!1)}),[Y]),(0,a.useEffect)((()=>{q!==L&&r&&Y&&Z(!0)}),[r]);const oe=a.createElement("div",{className:X?Df().prominentColor:"","aria-label":H},a.createElement("span",{className:Df().specText},V||H,": ",te?n&&J?.length>0?a.createElement(ml.sD,{richText:J}):a.createElement("em",null,re):null),!te&&!!X&&a.createElement("span",{className:Df().remindTip},a.createElement(xa.Xw,{className:Df().remindTipIcon,"aria-hidden":!0}),D("main_detail.UnSelectedTipNew",{specs:H?.toLowerCase()})));return a.createElement(a.Fragment,null,a.createElement("div",{className:o()(Df().spec,w&&Df().newSpec)},Q&&h?a.createElement(Cf,{isOnlySpec:te,currentSpecValue:re,ifShowUnSelectTip:X,type:H,sizeSpecModule:g,selectLocationId:f,onLocationIdChange:y}):a.createElement("div",{className:Df().specHead},oe,!!n&&a.createElement(Qh,{isScrolling:i,reviewData:_?.reviewData})),!te&&a.createElement("div",{className:o()(Df().specSelector,{shaking:Y,[Df().remindBorder]:Y&&r}),ref:B},j.map(((e,t)=>a.createElement(Rf,{key:t,isLast:n,getSpecLocalOptimalSku:P,currentSpecIdSelect:m,avalibleSpecsId:S,specKeyId:q,specValue:e,specValueId:K?.[t],showSpecSoldoutTagV1:A,showSpecSoldoutTagV2:C,isSingleSpec:ne,isFirstSpec:s,handleSpecChangedById:v,type:H,sku:R,selectLocationId:f,sizeSpecModule:g,specCustom:k,isSupportTouch:T,isSizeType:Q,formatSkuData:u,isShowNewSize:h,showFindSimilarToast:l,skuSoldOutToast:E,getSkuBySpecId:b,skuUnitPriceRich:W,skuUnitBestValueTag:z,skuUnitBestValueTagColors:F,isEnhanceSpecStyle:x}))),ae?a.createElement(Hs,null):null)),h&&Q?a.createElement(yf,{isScrolling:i}):null)}))),Lf=n(74507),Of=n.n(Lf);const Wf=(0,i.PA)((function(e){let{spec:t,isShowSuffix:n}=e;const{type:r,specKeyShowName:o,values:i}=t||{},l=t?.values.length;if(!l)return null;const s=n&&a.createElement(a.Fragment,null,",");return a.createElement("span",{className:Of().spec},o||r,": ",a.createElement("em",null,i?.[0]),s)}));var zf=(0,i.PA)((function(){const{formatSkuData:e,sku:t}=(0,N.Pj)(),n=t[0].sizeDescHoverLists||[],r=(e.skuTypeValues?.length||0)-1;return a.createElement(a.Fragment,null,a.createElement("div",{className:Of().wholeSingleSku},(e.skuTypeValues||[]).map(((e,t)=>a.createElement(Wf,{key:t,spec:e,isShowSuffix:t!==r})))),!!n?.length&&a.createElement("div",{className:Of().sizeDes},a.createElement("div",{className:Of().measurementInfoWrap},n.map((e=>{const{title:t,sizeDescList:n,foldShow:r}=e||{};return t||n?.length?a.createElement(a.Fragment,{key:t},a.createElement("div",{className:Of().measurementTitle},t,":"),a.createElement("div",{className:o()(r&&Of().oneLineTextEllipsis)},(n||[]).map((e=>a.createElement("div",{key:`${e?.name}${e?.content}`,className:Of().measurementInfo},e?.name?a.createElement("span",null,e.name,"-"):null,e?.content))))):null})))))}));const Ff=(0,i.PA)((function(e){let{spec:t,isScrolling:n,isShaking:r,isLast:o,isFirst:i}=e;const l=(0,N.Pj)(),{skuSoldOutToast:s}=l,{showPictureSpecKeyId:c,skuThumbSpecKeyId:u}=l.control||{},{values:m,specKeyId:d}=t||{},p=m.length,{showFindSimilar:g}=Nd(),h=(0,a.useCallback)((()=>{Xr.A.customize(a.createElement(js,{toast:s,onClick:g}),{timeout:3e3})}),[s,g]);return p?d===c||d===u?a.createElement(df,{spec:t,isLast:o,isFirstSpec:i,isScrolling:n,isShaking:r,showFindSimilarToast:h}):a.createElement(Bf,{spec:t,isLast:o,isFirstSpec:i,isScrolling:n,isShaking:r,showFindSimilarToast:h}):null}));var Uf=(0,Xt.A)((0,In.W4)({name:"SimpleSkuSelector"}),i.PA)((e=>{let{isScrolling:t,isShaking:n,className:r}=e;const{formatSkuData:i,sku:l}=(0,N.Pj)();return a.createElement(kn.Rp,{page_el_sn:200224,others:{spec_comb:i.skuTypeValues.map((e=>e.specKeyId)).join(",")},useClick:!1},a.createElement("div",{className:o()(r,{shakingRoot:n})},1===l.length?a.createElement(zf,null):a.createElement("div",null,(i.skuTypeValues||[]).map(((e,r)=>a.createElement(Ff,{key:r,spec:e,isScrolling:t,isShaking:n,isLast:r===i.skuTypeValues?.length-1,isFirst:0===r}))))))})),Gf=n(32919),Hf=n.n(Gf);const jf=e=>{let{data:t}=e;return(0,a.useEffect)((()=>{(0,A.A)("bzTaxInfoShow")}),[]),a.createElement(tr.l5,{newRichText:t,className:Hf().wrap,style:{textAlign:"left"}})};var Vf=(0,In.W4)({name:"TaxInfo"})((()=>{const{goods:e}=(0,N.Pj)(),{instructionRich:t}=e?.complianceInstructions||{};return t?.textRich?.length?a.createElement(jf,{data:t}):null})),qf=n(51064),Kf=n.n(qf);var $f=(0,i.PA)((()=>{const{supportFindSimilar:e,isShowNewSize:t}=(0,N.Pj)(),{t:n}=(0,p.B)("goods"),r=n("main_detail.FindSimilarTip");return e?a.createElement("div",{className:o()(Kf().container,{[Kf().containerMargin]:t})},a.createElement("span",{className:Kf().iconWrap},a.createElement(xa.JE,{className:Kf().icon})),r):null})),Qf=n(41655),Yf=n(84573),Jf=n(39702),Xf=n.n(Jf);function Zf(e){const{textRich:t}=e||{};return t?.find((e=>e?.type===di.aV.text))?.fontColor}var ey=(0,Xt.A)((0,In.W4)({name:"AddMoreInfo"}),i.PA)((e=>{let{onClickAdd:t}=e;const{t:n}=(0,p.B)("goods"),r=(0,N.Pj)(),{qty:i,selectedSku:l,addedAmount:s,optimalSku:c,moduleMap:u,showAddMoreInfo:m}=r,{addMoreInfo:d}=u?.encourageAddMoreModule?.data||{},{reachThresholdItemNum:g=0,reachThresholdRich:h,unreachedThresholdRich:f}=d||{},y=i<g,_=(0,a.useMemo)((()=>Zf(f)),[f]),E=(0,a.useMemo)((()=>Zf(h)),[h]),b=(0,a.useMemo)((()=>l?.skuId?l.limitQuantity||1:Math.min(999,c?.limitQuantity||1)),[l,c]),S=e=>{const{type:t,content:n}=e||{},{confirmText:r,title:o}=n||{};t===di.E.tips&&r&&o&&(0,qn.P)({popupNode:a.createElement(yi.A,{size:"md",onClose:qn.L,confirmButtonLabel:r,onConfirm:qn.L},a.createElement("div",{className:Xf().explainText},o))})};return!m||g>b||s>0?null:a.createElement("div",{className:o()(Xf().wrap,y&&Xf().unreached)},y?a.createElement(tr.l5,{newRichText:f,style:{textAlign:"left",..._?{color:_}:{}},className:Xf().rich,showPopup:S,showPopupWhiteList:[di.E.tips]}):a.createElement(tr.l5,{newRichText:h,style:{textAlign:"left",...E?{color:E}:{}},className:o()(Xf().rich,Xf().reachedRich),showPopup:S,showPopupWhiteList:[di.E.tips]}),y?a.createElement(kn.nU,{page_el_sn:245061},a.createElement(Ut.A,{className:Xf().add,onClick:()=>{t?.({addCount:g,cartScene:xn.xi.MainGoods})}},n("qty.addBtnText"))):null)})),ty=n(75601),ny=n.n(ty);var ay=(0,Xt.A)((0,In.W4)({name:"WrapSelectCount"}),i.PA)((e=>{let{onClickAdd:t,className:n}=e;const{t:r}=(0,p.B)("goods"),i=(0,N.Pj)(),{qty:l,setQty:s,selectedSku:c,selectedSkuSpec:u,message:m,formatSkuData:d,control:g,addedAmount:h,shoppingCartSkuAmountMap:f,sku:y,optimalSku:_,addCountLimit:E,moduleMap:b,qtyModifyPriceMap:S,showAddMoreInfo:v}=i,{supportRemoveQuantitySelector:I=0}=g||{},{skuTypeValues:w}=d,{explain:k,price:A}=b?.qtyModifyModule?.data||{},C=(0,a.useMemo)((()=>c?.skuId?c.limitQuantity||1:Math.min(999,_?.limitQuantity||1)),[c,_]),T=(0,a.useRef)(null),x=r(h>1?"main_detail.AddedPlural":"main_detail.Added"),P=(0,a.useCallback)((()=>{"string"==typeof m?.autoTuneNumberToast&&m?.autoTuneNumberToast&&La.A.warning(m.autoTuneNumberToast)}),[m]),R=(0,Yf.A)(c);(0,a.useEffect)((()=>{if(l>C){const e=c.autoTuneNumberToast;R?.skuId?P():e&&La.A.warning(e),s(C)}else E&&l<E&&E<=C&&(m?.minQuantityToast&&La.A.info(m?.minQuantityToast),s(E))}),[C,P,c,l,E,m]);const M=(0,a.useCallback)(xs()((e=>{let{value:t,isAdd:n,isInputOver:a}=e;if(0===t)return La.A.warning(r("main_detail.warnQuantityEmptyMsg"));if(E&&t<E)return m?.minQuantityToast&&La.A.info(m?.minQuantityToast);const o=c.skuLimitToast||m?.skuLimitToast||"";(n||a)&&o&&La.A.warning(o)}),1e3),[m,c.skuLimitToast,P]),D=u?.length,{isOnsale:L}=c||{},O=(0,a.useCallback)(((e,t)=>!(E&&t<E&&(h&&t<h||!h))),[E,h]),W=E||1,z=(0,B.je)((async()=>{await t({addCount:0,operateType:Sa.Delete})})),F=h||l,[U,G]=(0,a.useState)(F===E?A:null),H=S?.[F];(0,a.useEffect)((()=>{if(E>0){if(null===H)return void G(null);if(H)return void G(H)}}),[E,H]);return I||D>0&&D===w?.length&&1!==L?null:a.createElement("div",{className:o()(ny().qty,n,1===y?.length&&ny().qtyTop,{[ny().qtyWithAddCountLimit]:E}),ref:T},a.createElement("div",{className:ny().qtyTitle,"aria-label":r("main_detail.qtyTitle"),role:"textbox"},r("main_detail.qtyTitle")),a.createElement("div",{className:ny().qtyContentWrap},a.createElement(Qf.A,{className:ny().qtyContent,inputClass:ny().qtyInput,showSelectIcon:!0,selectItemCls:ny().qtySelectItem,selectListCls:ny().qtySelect,min:W,max:Math.min(Math.max(C,1),99),inputMax:99,onDelete:z,value:h||l,onListItemClickVerify:O,valueDeps:[f],onChange:async(e,n)=>{var a;(e-h<=0&&(0,ge.E0)({page_el_sn:212286,cart_scene:xn.xi.MainGoods,cart_type:4,quantity:e,choose_effect:2,sku_number:e-h}),E&&n<E&&(h&&n<h||!h))||(h?(a=e)-h!=0&&t({addCount:a-h,operateType:Sa.Update,clickEventData:{page_el_sn:212286,quantity:a,choose_effect:1}}):s(e))},onOverRangeClick:M,listPageElSn:212253,inputPageElSn:h?209463:204100,inputClickEventData:{cart_scene:xn.xi.MainGoods,cart_type:h?0:4}})),(()=>{const e=E>1&&k?.textRich?.length;return e&&!v?a.createElement("div",{className:ny().afterQtyWrap},a.createElement("div",{className:ny().afterQtyTop},h?a.createElement("div",{className:ny().added,tabIndex:0,"aria-label":x,role:"textbox"},x):null,h&&U?.textRich?.length?a.createElement("span",{className:ny().line}):null,U?.textRich?.length?a.createElement(tr.l5,{newRichText:U,style:{textAlign:"left"},className:ny().afterQtyTotalPrice}):null),a.createElement("div",{className:ny().afterQtyBottom},e?a.createElement("div",{className:ny().addCountLimit},a.createElement(tr.l5,{newRichText:k,style:{textAlign:"left"},className:ny().addCountLimitInfo}),k?.action?.content?.content?a.createElement(an.d,null,a.createElement(Yr.A,{appendToBody:!0,trigger:["hover"],overlay:k?.action?.content?.content},a.createElement(Qr.A,{className:ny().addCountLimitIcon}))):null):null)):h?a.createElement("span",{className:ny().added,"aria-label":x,role:"textbox"},x):null})(),a.createElement(ey,{onClickAdd:t}))})),ry=n(94501),oy=n.n(ry);var iy=(0,Xt.A)((0,In.W4)({name:"Detail"}),i.PA)((function(e){let{className:t}=e;const n=(0,N.Pj)(),{t:r}=(0,p.B)("goods"),{goods:i,selectedSku:l,addCart:s,control:c,formatSkuData:u,addOrderInfoStore:m,query:g,selectedSkuSpec:h,qty:f,skuShow:y,ifTriggerShaking:_,setIfTriggerShaking:E,isGiftGoods:S,addGiftPick:v,showFindSimilarBar:I,showCollectOrderBar:w,description:k,moduleTags:C,isGiftSupportAddOrder:T,queryOrderInfo:x,sku:P,isShowShareBlock:R,bestSeller:M,shipping:D,commitment:B,supportCollectBenefit:L,isShowNewSize:O,isSupportNewCustomized:W,supportActivityAtmosphere:z,activityInfo:F,selectedBenefitTags:U,destoryShoppingCartDataListener:G,buyNowButtonStore:H,serverRenderTime:j,customizedBtnStore:V,redeemPointsBtnStore:q,globalResizeTrigger:K,moduleMap:$,showContentTransition:Q,showActivityPriceWrap:Y,favStore:J,showRankWithSale:X,showNewDomStructure:Z}=n,{showSmallFavBtnPos:ee}=J,{onCustomizedBtnClick:te}=V,{order:ne,onAddOrderClick:ae}=m,{buyNowCallback:re,supportQuickMerge:oe,supportQuickMerge4TimeLimitedActivity:ie}=H,{goodsId:le,goodsName:se}=i,ce=ne?.allowPurchase,{skuId:ue}=l||{};(0,a.useEffect)((()=>()=>G?.()),[]),(0,a.useEffect)((()=>{(()=>{const e=(0,d.Xe)(window.location.href);e?.show_over_size_switch_tips&&(setTimeout((()=>{La.A.info((0,Os.t)("main_detail.switchToast",{ns:"goods"}))}),1e3),(0,Zt.ci)((0,d.rE)({show_over_size_switch_tips:null},location.href)))})()}),[]);const me=(0,Fa.A)((async e=>{const{addType:t=xn.H$.addCart,addCount:n=0,pageSource:o,cartScene:c=xn.xi.MainGoods,operateType:m,clickEventData:d={page_el_sn:200061,acty_type:F?.activityType||0,...U},addedAmount:p,afterAddCartSucc:_,frontControl:b,source:I,trackingInfo:w,addCustomInfoBtnText:k}=e||{},{isOnsale:N,skuId:A,goodsId:C}=l||{},R=n||f;let M=null;if(A&&I!==Ia.TimeLimitedActivity)if(N&&u.skuTypeValues.length){if(W&&b?.supportPersonalize){const e=await te({goodsId:le,skuId:A,qty:R,btnText:k});if(!e)return;M=e}if(t!==xn.H$.redeemPoints)if(t!==xn.H$.addGift)t!==xn.H$.addOrder?t!==xn.H$.buyNow?await s({skuId:A,curGoodsId:C,amount:R,cartScene:c,operateType:m,clickEventData:d,addedAmount:p,afterAddCartSucc:_,customizedInfoDict:M}):re({goodsId:le,skuId:A,goodsNumber:R,skuInfo:l,goods:i,clickEventData:d,customizedInfoDict:M}):ae({skuId:A,qty:R,customizedInfoDict:M});else{(0,tn.Tn)({op:"click",page_el_sn:207367});const e=[v()];T&&e.push(x());const t={goodsId:le,skuId:A,goodsNumber:+f,selectSpecs:h,skuInfo:l,goods:i,sku:P},[n,r]=await Promise.all(e);n&&((e,t,n)=>{let{freeGiftPromotionInfo:r,giftInfoList:o,pickedText:i}=e;const{orderInfo:l,skuData:s}=t||{};let c=du.A;l&&l?.allowPurchase&&(c=pu.A);const u=(0,vn.A)(a.createElement(c,{promotionInfo:r,giftList:o,pickedText:i,pageSn:xn.LM,popupElsn:207368,gift_map:n?.gift_map,buttonElsn:207369,orderInfo:l,skuCallBackInfo:s,onClose:()=>{u?.()}}))})(n,{orderInfo:r,skuData:t},g)}else await q.onRedeemPointsBtnClick({goodsId:le,skuId:A})}else La.A.error(r("main_detail.errorSoldOutMsg"));else{if(A||(0,Pi.ON)({specItemRefMap:(0,Bi.v)(),specKeyIds:u?.skuTypeValues?.map((e=>e.specKeyId))||[],actionWrapRef:pe,fixedActionWrapRef:ge,parentRef:de,eventName:"goodsSpecPositionReportOnClick"}),!S&&!q.isRedeemPoints){const e={addType:t,cartScene:xn.xi.MainGoods,needInitCheckSpec:!0,pageSource:o||(t===xn.H$.addCart?xn.Xh.addCart:void 0),frontControl:b,trackingInfo:w,onSkuShow:()=>{(0,Di.rO)(Di.gn.goodsPullUpSkuTime)}};return!A&&t===xn.H$.buyNow&&oe||I===Ia.TimeLimitedActivity&&ie?void re({goodsId:le,skuId:A,goodsNumber:R,skuInfo:l,goods:i,clickEventData:d,customizedInfoDict:M,skuParams:e}):y(e)}E(!0)}})),de=(0,a.useRef)(null),pe=(0,a.useRef)(null),ge=(0,a.useRef)(null),{isShaking:he}=Ms({firstShakingElementSelector:`.${oy().sku} .shaking`,fixedActionWrapRef:ge,contentRef:de,ifTriggerShaking:_,setIfTriggerShaking:E,skuId:ue}),{isScrolling:fe,needFixedAction:ye,fixedActionStyle:_e,style:Ee,onContentScroll:be}=function(e){let{contentRef:t,actionWrapRef:n,fixedActionWrapRef:r,globalResizeTrigger:o,showNewDomStructure:i}=e;const{isRTL:l}=(0,Aa.Sz)(),{width:s}=(0,a.useContext)(Ps.qc),[c,u]=(0,a.useState)({}),m=(0,a.useRef)(c),d=(0,a.useCallback)((e=>{const t={...e,maxHeight:window.innerHeight-15};m.current=t,u(t)}),[]),[p,g]=(0,a.useState)(!1),h=(0,a.useRef)(),f=(0,a.useCallback)(xs()((()=>{g(!0),h.current=setTimeout((()=>{g(!1)}),100)})),[]),[y,_]=(0,a.useState)({}),E=(0,a.useCallback)((e=>{_((t=>({...t,...e})))}),[]),[b,S]=(0,a.useState)(!1),v=(0,a.useRef)(!1),I=(0,a.useCallback)((e=>{if(!(e||v.current&&b))return;if(v.current=!0,!n.current)return;const{bottom:a,left:o,width:i}=n.current.getBoundingClientRect();if(a)if(e)window.innerHeight<a&&(S(!0),E({opacity:1,pointerEvents:"auto",width:i,left:o,position:"fixed",top:"auto",bottom:0}),(0,A.A)("show fixed cart button",{tags:{page_sn:xn.LM}}));else{const{bottom:e,height:l}=r.current?.getBoundingClientRect();if(e<a){const e={opacity:1,pointerEvents:"auto",width:i,left:o,position:"fixed",top:"auto",bottom:0};if("absolute"===m.current.position&&t.current){const a=t.current,{height:r}=a.getBoundingClientRect();e.position="absolute",e.top=r+a.scrollTop-l,e.bottom="auto",e.left=n.current.offsetLeft}E(e)}else E({opacity:0,pointerEvents:"none",width:i,left:o,position:"fixed",top:"auto",bottom:0})}}),[b]);(0,a.useEffect)((()=>{setTimeout((()=>{I(!0)}),window.__SSR__?0:1e3)}),[]);const w=(0,a.useCallback)((()=>{I(),clearTimeout(h.current),f()}),[b]),k=(0,a.useCallback)((()=>{I(),f()}),[b]);(0,a.useEffect)((()=>{const e=t.current;if(e)return e.addEventListener("scroll",w),window.addEventListener("resize",w),w(),()=>{e.removeEventListener("scroll",w),window.removeEventListener("resize",w)}}),[b]);const N=(0,a.useCallback)((()=>{const e=document.getElementById("leftContent"),n=document.getElementById("leftContentBottom");if(!e||!t.current||i&&!n)return;const a=e.parentElement,{height:r,width:o}=t.current.getBoundingClientRect(),{bottom:s}=n?.getBoundingClientRect()||{},{right:c,left:u,bottom:m,width:p,top:g}=e.getBoundingClientRect(),h=i?s:m,{width:f,height:y}=a?.getBoundingClientRect()||{};p&&(d(g>15?{position:"relative"}:h<r?{position:"absolute",top:y-r+15+5}:{position:"fixed",top:15,width:f?.453859*f:"39%",left:l?u-o+11:c}),k())}),[b]);return(0,a.useEffect)((()=>(document.addEventListener("scroll",N),window.addEventListener("resize",N),N(),()=>{document.removeEventListener("scroll",N),window.removeEventListener("resize",N)})),[N,o]),(0,a.useEffect)((()=>{N()}),[s,N]),{isScrolling:p,style:c,fixedActionStyle:y,onContentScroll:w,needFixedAction:b}}({contentRef:de,actionWrapRef:pe,fixedActionWrapRef:ge,globalResizeTrigger:K,showNewDomStructure:Z});(()=>{const e=(0,N.Pj)(),{queryCollectPromotion:t,optimalSku:n,control:r,addCartBenefitRich:o,buyNowButton:i,buyNowBenefitRich:l,resetBuyNowBenefitRich:s,qty:c,goods:u,supportCollectBenefit:m,isGShoppingRobot:d,addedAmount:p,querySkuInfo:g,qtyModifyPriceMap:h}=e,{isLocalGoods:f}=u||{},{supportAddCartBenefits:y,skuRefreshWaistBanner:_,minBuyQty:E}=r?.detailSupportExperimentControl||{},S=1===_,v=p||c,I=h?.[v],w=1===E&&null!==I&&!I,k=(m||S||w)&&!d,A=(0,a.useCallback)((0,Ls.s)(t,500),[]),{skuId:C}=n||{},T=1===y&&!i&&!o?.[C]?.textRich?.length;(0,Ds.A)((()=>{(T||S)&&A()}),[A,T,C,S]),(0,Ds.A)((()=>{1===y&&i&&!l?.[C]?.textRich?.length&&A()}),[A,C]),(0,Ds.A)((()=>{const e=1===y&&i;(e||w)&&(e&&s(),A({},w))}),[A,c]),(0,Ds.A)((()=>{p&&(s(),A({},w))}),[A,p]),(0,Bs.A)((()=>{k&&t()})),(0,a.useEffect)((()=>{if(k)return(0,b.Xu)((e=>{let{updateCartType:n}=e;n!==b.oi.INITD_LAYOUT_CART&&(t({},!0),f&&g({useCache:!1}))}))}),[f,t,g,k])})();const Se=()=>a.createElement(a.Fragment,null,w?null:I?a.createElement($f,null):l.sensitiveProductTip||i.sensitiveProductTip?a.createElement(mh,null):void 0,a.createElement("div",{className:o()(oy().action,I&&oy().similarTop)},a.createElement("div",{className:oy().actionBtns},a.createElement(Bd,{onClickAdd:me,isScrolling:fe}),ee===oa.BUTTON?a.createElement(qa,null):null))),ve=(0,a.useCallback)((()=>a.createElement("div",{className:o()(R?oy().titleWrap:oy().titleWrapNoShare),"aria-label":se},a.createElement(Wm,{goodsName:se}),R?a.createElement(Gh,null):null)),[se,R]),{rankV4:Ie,rankExplainDialog:we}=$?.bestSellerModule?.data||{},ke=(0,a.useCallback)((()=>{(0,A.A)("rankExplainShow")}),[]);return a.createElement("div",{className:o()(oy().wrap,t)},a.createElement("div",{className:o()(oy().content,{[oy().showContentTransition]:Q}),ref:de,style:Ee,id:"rightContent"},z?a.createElement(hc,{className:oy().activity}):null,ve(),a.createElement("div",{style:{fontSize:0}},a.createElement(Hc,null),a.createElement(Ym,null),X?a.createElement(Wg,null):a.createElement(Gg,null)),a.createElement(xg,null),X?null:a.createElement(Ri.r,{data:M,pageElSn:207303,rankV4:Ie,onRankExplaginShow:ke,rankExplainDialog:we}),a.createElement(vg,{onClickAdd:me}),(()=>{const e=a.createElement(a.Fragment,null,a.createElement(Uf,{isScrolling:fe,isShaking:he,className:o()(oy().sku,z&&!Y&&oy().activityTop)}),a.createElement(Hd,null),O?null:a.createElement(Sf,null),(()=>{const e=h?.length,{supportRemoveQuantitySelector:t=0}=c||{},{isOnsale:n}=l||{};return t||e>0&&e===u?.skuTypeValues?.length&&1!==n?null:a.createElement(ay,{onClickAdd:me})})(),a.createElement(Vf,null));return Y?e:z&&F?a.createElement(ru,{onClick:()=>{1!==P?.length&&me({source:Ia.TimeLimitedActivity,frontControl:{supportPersonalize:!m.isAddOrderScene,supportBuyNowSkuMultiButton:2}})},isShowArrow:1!==P?.length,serverRenderTime:j},e):e})(),a.createElement(Ks,null),L||i?.isLocalGoods?a.createElement(Ag,null):null,a.createElement("div",{className:o()(oy().actionWrap,{[oy().hidden]:1===_e.opacity}),ref:pe},Se()),a.createElement("div",{className:oy().fixedActionWrap,ref:ge,style:_e},!!ye&&Se()),D?a.createElement(Mi.j,{data:D,className:oy().shipping}):null,ce?a.createElement(Bc,null):null,a.createElement(Cs,{isScrolling:fe}),!B&&a.createElement(sh,null),a.createElement(jm,{tag:C}),a.createElement(Fd,null),k?.items?.length?a.createElement(mu,{onExpand:be}):null))})),ly=n(94813),sy=n(30024),cy=n(67644),uy=n(12011),my=n.n(uy);var dy=(0,Xt.A)((0,In.W4)({name:"DynamicMallTags"}),i.PA)((()=>{const e=(0,N.Pj)(),{moduleMallTags:t}=e,n=t?.length,r=t?.findIndex((e=>1===e.type));return n?a.createElement("div",{className:my().wrap},a.createElement("div",{className:my().inner},t.map(((e,t)=>{let n={};const i=1===e.type;return i&&(n={...n,borderRadius:3,background:`url('${e.textureUrl}'), linear-gradient(90deg, ${e.startColor} 0, ${e.endColor} 100%)`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"right",padding:"0 4px"}),a.createElement("div",{className:o()(my().item,{[my().tagItem]:i,[my().tagItem0]:i&&0===t}),key:t,style:n},(-1===r||!i&&r!==t-1)&&a.createElement("div",{className:my().sep}),(!!e.iconUrl||!!e.decoratedTagIconUrl)&&a.createElement(Nn.Ay,{className:my().prefixLogo,src:e.decoratedTagIconUrl||e.iconUrl,alt:"","aria-hidden":!0}),a.createElement("div",{className:my().content,style:{color:i?e.textColor:""}},e.text),!!e.mallTagPopup&&!!e.mallTagPopup?.iconUrl&&a.createElement(Yr.A,{arrowClassName:my().explainArrow,placement:"bottomRight",trigger:["hover"],overlay:a.createElement("div",{className:my().explain},e.mallTagPopup.content),appendToBody:!0,adapted:!0},a.createElement(Nn.Ay,{className:my().icon,src:e.mallTagPopup.iconUrl,alt:""})))})))):null})),py=n(54858),gy=n.n(py);var hy=(0,Xt.A)((0,In.W4)({name:"SellerTag"}),i.PA)((e=>{let{className:t}=e;const n=(0,N.Pj)(),{moduleMallTSellerags:r}=n,i=r?.[0];if(!i)return null;const{textureUrl:l,startColor:s,endColor:c,iconUrl:u,text:m}=i||{},d={backgroundImage:`url('${l}'), linear-gradient(90deg, ${s||"#6F3D91"} 0, ${c||"#520E6F"} 100%)`};return a.createElement("div",{className:o()(gy().sellTag,t),style:d},!!u&&a.createElement(Nn.Ay,{className:gy().prefixLogo,src:u,"aria-hidden":!0,alt:""}),a.createElement("div",{className:gy().content},m))})),fy=n(23225),yy=n.n(fy);var _y=(0,Xt.A)((0,In.W4)({name:"TraderInformationEntrance"}),i.PA)((e=>{let{isDirect:t=!1,inside:n=!1}=e;const r=(0,N.Pj)(),{getMallDetailInfo:i,moduleMallTraderInformationEntrance:l}=r;if(!l)return null;return a.createElement("div",{className:o()(yy().wrap,t?yy().isDirect:"",n?yy().inside:""),onClick:async()=>{const e=await i();e?.result&&(0,Zo.K)(e.result)},role:"button",tabIndex:0},a.createElement("span",{className:yy().text},l),a.createElement(wn.A,{className:yy().icon}))})),Ey=n(24113),by=n.n(Ey);var Sy=(0,Xt.A)((0,In.W4)({name:"DirectArea"}),i.PA)((()=>{const e=(0,N.Pj)(),{review:t,mall:n,mallBrandCard:r,customerServiceData:i,goodsId:l}=e,s=n?.mallData||{},{t:c}=(0,p.B)("goods"),{mallScore:u}=t?.reviewData?.mallReview||{},{supportMallChat:d}=i||{},g=1===d,{brandDetail:h,brandIntro:f,brandLogo:y,brandName:_}=r||{},{followerNumUnit:E,goodsSalesNumUnit:b,mallId:S,mallJumpUrl:v,seoUrl:I}=s,w=(0,a.useMemo)((()=>{const e=[];return E&&e.push({num:E?.[0],text:E?.[1]}),b&&e.push({num:b?.[0],text:b?.[1],others:{dir:"ltr"}}),u&&e.push({num:u,text:a.createElement(sy.A,{className:by().star,"aria-hidden":!0}),type:"star"}),e}),[E,b,u]),[k,A]=(0,a.useState)(!1),C=!!f&&!!h?.length,T=(0,a.useMemo)((()=>(0,On.LV)(I||v)),[I,v]);return a.createElement(a.Fragment,null,a.createElement("div",{className:by().directMall,onClick:()=>{T&&(0,Zt.MJ)(T)},role:"button",tabIndex:0},a.createElement("div",{className:by().bg1}),a.createElement("div",{className:by().bg2}),a.createElement("div",{className:by().wrap},a.createElement("div",{className:by().mallHeader},!!y&&a.createElement(Nn.Ay,{src:y,className:by().brandLogo,alt:_}),a.createElement("div",{className:by().rightArea},a.createElement("div",{className:by().titleArea},a.createElement("span",{className:by().mallName},_),a.createElement(hy,{className:by().sellerTag}),!!g&&a.createElement(Ut.A,{type:"ghost",onClick:e=>{const t={params:{refer_page_el_sn:200973}};l&&(t.params.goods_id=l),e?.stopPropagation(),S&&(0,m.uT)({hostId:`${S}`,...t})},innerCls:by().innerCls,className:by().chatBtn},a.createElement("span",{className:by().btnContainer},a.createElement(cy.A,{className:by().messageIcon}),c("chat")))),a.createElement("div",{className:by().detailArea},a.createElement("div",{className:by().mallInfo},w.map(((e,t)=>{const{num:n,text:r,others:i,type:l}=e||{};return!!n&&!!r&&a.createElement("div",(0,q.A)({key:t,className:by().mallItem},i),a.createElement("div",{className:by().mallItemNum},n),a.createElement("div",{className:o()(by().mallItemText,"star"===l?by().starContainer:null)},r))})))))),a.createElement(dy,null),a.createElement("div",{style:{height:C?12:18}}),!!C&&a.createElement("div",{className:by().body,onClick:e=>{e?.stopPropagation()},role:"button",tabIndex:0},a.createElement("div",{className:by().block},a.createElement("div",{className:o()(by().overflowContainer,{[by().showAuthorized]:k})},a.createElement("div",{className:by().content},!!f&&a.createElement("div",{className:by().blockItem},a.createElement("span",{className:by().tag},f.subTitle),a.createElement("span",{className:by().desc},f.text)),h?.map(((e,t)=>a.createElement("div",{className:by().blockItem,key:t},a.createElement("span",{className:by().tag},e?.subTitle),a.createElement("span",{className:by().desc},e?.text)))),a.createElement("div",{className:by().seeMore,onClick:()=>A(!0),role:"button",tabIndex:0},a.createElement(Po.A,{className:by().seeMoreIcon})))),a.createElement(_y,{inside:!0}))))),!C&&a.createElement(_y,null))})),vy=n(80348),Iy=n.n(vy);var wy=(0,Xt.A)((0,In.W4)({name:"MallTags"}),i.PA)((()=>{const e=(0,N.Pj)(),{moduleMallTags:t}=e,n=t?.length,r=t?.findIndex((e=>1===e.type));return n?a.createElement("div",{className:Iy().wrap},a.createElement("div",{className:Iy().subWrap},t.map(((e,t)=>{let n={};const i=1===e.type;return i&&(n={...n,borderRadius:3,background:`url('${e.textureUrl}'), linear-gradient(90deg, ${e.startColor} 0, ${e.endColor} 100%)`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"right",padding:"0 4px"}),a.createElement("div",{className:o()(Iy().item,{[Iy().tagItem]:i,[Iy().tagItem0]:i&&0===t}),key:t,style:n},(-1===r||!i&&r!==t-1)&&a.createElement("div",{className:Iy().sep}),!!e.iconUrl&&a.createElement(Nn.Ay,{className:Iy().prefixLogo,src:e.iconUrl,"aria-hidden":!0,alt:""}),a.createElement("div",{className:Iy().content,style:{color:i?e.textColor:""}},e.text),!!e.mallTagPopup&&!!e.mallTagPopup?.iconUrl&&a.createElement(Yr.A,{arrowClassName:Iy().explainArrow,placement:"bottomRight",trigger:["hover"],overlay:a.createElement("div",{className:Iy().explain},e.mallTagPopup.content),appendToBody:!0,adapted:!0},a.createElement(Nn.Ay,{className:Iy().icon,src:e.mallTagPopup.iconUrl,alt:""})))})))):null})),ky=n(93788),Ny=n(85098),Ay=n.n(Ny);var Cy=(0,Xt.A)((0,In.W4)({name:"ResponsibilityDivision"}),i.PA)((e=>{let{isDirect:t=!1}=e;const n=(0,N.Pj)(),{contents:r,entrance:i,title:l}=n?.moduleMallResponsibility||{},{t:s}=(0,p.B)("global");if((0,A.r)("mallDivision.shouldNotShowAnyMore"),!r?.length||!i||!l)return null;const c=(e,t)=>{"openChat"===t&&((0,qn.L)(),(0,m.uT)({isOfficialChat:!0,hostId:1,params:{islivechat:1}}))};return a.createElement("div",{className:o()(Ay().wrap,t?Ay().isDirect:""),onClick:()=>{(0,qn.P)({popupNode:a.createElement(yi.A,{title:l,confirmButtonLabel:s("OK"),onClose:qn.L,onConfirm:qn.L},a.createElement("div",{className:Ay().content},r.map((e=>a.createElement("div",null,(0,ky.A)(e,{onBizSceneClick:c}))))))})},role:"button",tabIndex:0},a.createElement("span",{className:Ay().text},i),a.createElement(wn.A,{className:Ay().icon}))})),Ty=n(31312),xy=n(99272),Py=n(51553),Ry=n(40726),My=n.n(Ry);var Dy=(0,Xt.A)((0,In.W4)({name:"ShopBtns"}),i.PA)((e=>{let{isBottomButton:t,showTip:n,onCloseTip:r,isDirectShop:i=!1}=e;const l=(0,N.Pj)(),{t:s}=(0,p.B)("goods"),{isFav:c,toggleFavorite:u,customerServiceData:d,goodsId:g}=l,h=l.mall?.mallData||{},{goodsNumV2:f,mallId:y,mallJumpUrl:_,seoUrl:E}=h,{supportMallChat:b,tips:S}=d||{},v=1===b,I=(0,a.useMemo)((()=>(0,On.LV)(E||_)),[E,_]),[w,k]=(0,a.useState)(!1);(0,Bs.A)((()=>{k(!0)}));return a.createElement("div",{className:o()(My().buttonWrap,My().chatNewStyle,{[My().threeButtons]:v,[My().bottomButton]:t,[My().directShop]:i})},a.createElement(xy.hf,null,!!v&&a.createElement("div",{className:My().chatBtnContainer},a.createElement(kn.nU,{page_el_sn:200973},a.createElement(Ut.A,{type:i?"ghost":"border",size:"lg",autoScale:!0,onClick:e=>{const t={params:{refer_page_el_sn:200973}};g&&(t.params.goods_id=g),e?.stopPropagation(),y&&(0,m.uT)({hostId:`${y}`,...t})},innerCls:o()(My().chatNewStyleInner,My().innerCls),className:My().chatBtn},a.createElement("span",{className:w?My().btnContainer:""},a.createElement(cy.A,{className:My().messageIcon}),s("Contact_provider1")))),a.createElement("div",{className:My().shadowButton},a.createElement(Py.A,{overlay:S,visible:n,onCloseClick:r,outerClassName:My().outerClassName,innerClassName:My().innerClassName,className:My().containerClassName,placement:"bottom"},a.createElement("div",null)))),a.createElement(kn.nU,{page_el_sn:200971},a.createElement(Ut.A,{onClick:u,className:o()(My().button,{[My().fav]:c}),type:i?"ghost":"border",size:"lg",autoScale:!0,innerCls:My().innerCls},a.createElement("span",{className:w?My().btnContainer:""},c?a.createElement("span",null,s("mallInfo.Following")):a.createElement("span",null,a.createElement(Ty.A,{className:My().icon}),s("mallInfo.Follow"))))),a.createElement(kn.nU,{page_el_sn:200446},a.createElement(Ut.A,{className:My().shopAllItemsLink,type:i?"ghost":"border",size:"lg",autoScale:!0,onClick:()=>{I&&(0,Zt.MJ)(I)},innerCls:My().innerCls},a.createElement(cs.N_,{seoUrl:I,url:I,className:w?My().btnContainer:""},f&&"0"!==f?s(v?"all_items_1":"shopAllItemsV2",{0:f,interpolation:{prefix:"{",suffix:"}"}}):s(v?"All_items":"mallInfo.shopAllItems"))))))})),By=n(24008),Ly=n.n(By),Oy=(0,Xt.A)((0,In.W4)({name:"MallInfo"}),i.PA)((function(){const e=(0,N.Pj)(),{t:t}=(0,p.B)("goods"),{globalResizeTrigger:n,shopRankInfo:r,gmtBaseParams:i,review:l,customerServiceData:s,brandCardData:c,mallBrandCard:u}=e,m=(0,qo.d)(),d=e.mall?.mallData||{},{mallScore:g}=l?.reviewData?.mallReview||{},{mallLogo:h,mallName:f,mallJumpUrl:y,seoUrl:_,followerNumUnit:E,goodsSalesNumUnit:b}=d,S=(0,a.useMemo)((()=>(0,On.LV)(_||y)),[_,y]),v=(0,a.useRef)(null),I=(0,a.useRef)(null),w=(0,a.useRef)(null),{supportMallChat:k,maxShowTimes:A,tips:C}=s||{},T=1===k,x=()=>{S&&(0,Zt.MJ)(S)},P=(0,a.useMemo)((()=>{const e=[];return E&&e.push({num:E?.[0],text:E?.[1]}),b&&e.push({num:b?.[0],text:b?.[1],others:{dir:"ltr"}}),g&&e.push({num:g,text:a.createElement(a.Fragment,null,a.createElement("div",{className:Ly().ratingText},t("mallRating")),a.createElement("div",{className:Ly().ratingStar},a.createElement(xa.Nu,{className:Ly().star,"aria-hidden":!0})))}),e}),[E,b,g,t]);(0,a.useEffect)((()=>{const e=(0,za.nF)((()=>{const e=v.current,t=I.current,n=w.current;if(!(n&&t&&e&&e.style))return;const{clientWidth:a}=n,{clientWidth:r}=t,{clientWidth:o}=e,i=r-a,l=Math.min(100,Math.max(60,o+i));e.style.width=`${l}px`,e.style.height=`${l}px`}));return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[n]);const R=(0,a.useRef)(null),[M,B]=(0,a.useState)(!1),L=(0,a.useRef)(!1),[O,W]=(0,a.useState)(!1);(0,a.useEffect)((()=>{if(C&&A>0&&T&&"1"!==c?.brandType)try{+((0,Wa.Lg)(xn.CV.chatBtnTipShowedTimes)||0)<A&&W(!0)}catch(e){(0,D.fL)(e)}}),[A,T,C,c]),(0,Ko.A)({ref:R,options:{rootMargin:"-120px",grayControl:O},onEnter:()=>{if(!L.current){L.current=!0;try{const e=+((0,Wa.Lg)(xn.CV.chatBtnTipShowedTimes)||0);e<A&&(B(!0),(0,ge.WW)({page_el_sn:237651}),setTimeout((()=>{B(!1)}),5e3),(0,Wa.ZB)(xn.CV.chatBtnTipShowedTimes,e+1))}catch(e){(0,D.fL)(e)}}},onLeave:()=>{},deps:[O]});const z=()=>{(0,ge.E0)({page_el_sn:237652}),B(!1)};return f?a.createElement(a.Fragment,null,u?.brandType!==Jn.Direct&&a.createElement("div",{className:Ly().wrap},a.createElement("div",{className:Ly().mallName},h?a.createElement(cs.N_,{seoUrl:S,url:S,onClick:x,className:Ly().mallImgWrapperLinkWrapper},a.createElement("div",{className:Ly().mallImgWrapper,ref:v},a.createElement("div",{className:Ly().mallImgWrap},a.createElement(Ln.A,(0,q.A)({src:h,resizeWidth:300,className:Ly().mallImg,alt:f},m))))):null,a.createElement("div",{className:o()(Ly().contents,{[Ly().onlyItemCenter]:1===P?.length})},a.createElement("div",{className:Ly().contentTop},a.createElement("div",{className:Ly().title,onClick:x},a.createElement("div",{className:Ly().titleText,tabIndex:0,role:"button"}," ",f," "),a.createElement(hy,{className:Ly().sellerTag}),1===P?.length&&a.createElement("div",{className:Ly().items},a.createElement("div",{className:o()(Ly().itemNum,Ly().onlyNum)},P?.[0]?.num),a.createElement("div",{className:Ly().itemText},P?.[0]?.text))),a.createElement("div",{className:o()(Ly().info,{[Ly().onlyOneItem]:1===P?.length}),ref:I},P?.length>1?(F=w,a.createElement("div",{className:Ly().shopInfoNums,ref:F},P.map(((e,t)=>{const{num:n,text:r,others:i}=e||{};return!!n&&!!r&&a.createElement("div",(0,q.A)({key:t,className:o()(Ly().followers,Ly()[`msgLength${P.length}`]),"aria-label":`${n} ${r}`},i),a.createElement("div",{className:Ly().followersNum,"aria-hidden":!0}," ",n),a.createElement("div",{className:Ly().followersText,"aria-hidden":!0}," ",r," "))})))):null)),a.createElement(Dy,{showTip:M,onCloseTip:z}))),r?a.createElement(ly.A,{data:r,page_el_sn:214378,cate2_id:i.item_category2,type:"goods",style:{justifyContent:"space-between",margin:"10px 0 -12px"}}):null,a.createElement("div",{className:Ly().bottomButtonWrap},a.createElement(Dy,{isBottomButton:!0,showTip:M,onCloseTip:z})),a.createElement("div",{ref:R}),a.createElement(wy,null),a.createElement(_y,null),a.createElement(Cy,null)),u?.brandType===Jn.Direct&&a.createElement(Sy,null)):null;var F})),Wy=n(33823),zy=n(29322),Fy=n(8139),Uy=n.n(Fy);const Gy=e=>{let{goodsInfo:t,cartScene:n}=e;const{goodsName:r,goodsId:i,seoLink:l,isMajor:s,thisItemTitle:c,imageUrl:u,pageAlt:m}=t||{},d=(0,qo.d)(),p=(0,a.useCallback)((e=>{e||l&&((0,Ws.N)(u),(0,Zt.MJ)(l,{openTarget:"_blank"}))}),[l]);return a.createElement(kn.Rp,{page_el_sn:202552,others:{goods_id:i}},a.createElement("div",{className:o()(Uy().goodsItem,s?Uy().majorItem:""),onClick:()=>p(s),role:"button",tabIndex:0},a.createElement("div",{className:Uy().imgWrap},u?a.createElement(Ln.A,(0,q.A)({alt:m||r,src:u,className:Uy().goodsImg,resizeWidth:xn.nG},d)):a.createElement("div",{className:Uy().noImgContainer}),s?a.createElement("div",{className:Uy().add},a.createElement(Ft.ib,{path:"M512 106.7c32.4 0 59.2 24.1 63.4 55.3l0.6 8.7 0 277.3 277.3 0c35.3 0 64 28.7 64 64 0 32.4-24.1 59.2-55.3 63.4l-8.7 0.6-277.3 0 0 277.3c0 35.3-28.7 64-64 64-32.4 0-59.2-24.1-63.4-55.3l-0.6-8.7 0-277.3-277.3 0c-35.3 0-64-28.7-64-64 0-32.4 24.1-59.2 55.3-63.4l8.7-0.6 277.3 0 0-277.3c0-35.3 28.7-64 64-64z",width:"22px",height:"22px","aria-hidden":!0})):null),a.createElement("div",{className:Uy().goodsName,title:r},r),s?a.createElement("div",{className:o()(Uy().goodsInfo)},a.createElement("div",{className:Uy().thisItemTitle},c)):a.createElement(zy.A,{pageSn:xn.LM,skuParams:{_oak_page_source:407},goodsInfo:t,cartScene:n})))},Hy=()=>{const{matchingOutfits:e}=(0,N.Pj)(),{matchingGoods:t=[],thisItemGoods:n={},thisItemTitle:r,outfitModuleTitle:o}=e||{},i=(0,a.useMemo)((()=>[{...n,thisItemTitle:r,isMajor:!0},...t]),[t,n,r]);return(0,A.r)("MatchingOutfits"),a.createElement("div",{className:Uy().wrap},a.createElement("div",{className:Uy().title},o),a.createElement("div",{className:Uy().content},a.createElement(Wy.D,{list:i,renderItem:(e,t)=>a.createElement(Gy,{goodsInfo:e,key:t,cartScene:xn.xi.MatchingOutfits}),metricType:"px",control:{forceMetricType:!0,verifyLastByOffset:!0},arrowCls:Uy().arrow})))};var jy=(0,In.W4)({name:"MatchingOutfits"})((0,a.memo)(Hy)),Vy=n(60106),qy=n(41860),Ky=n.n(qy);var $y=(0,Xt.A)((0,In.W4)({name:"ModelTry"}),i.PA)((()=>{const e=(0,N.Pj)(),{modelTryOn:t,goodsId:n,updateModelTryOn:r,showSizePopupParams:o}=e,i=(0,a.useRef)(),{perfetchSizePopupData:l,renderSizePopup:s}=(0,pf.$h)();if(!t?.avatar)return null;const c=(0,Ls.s)((()=>{s({source:pf.Je.Guide,goodsId:n,onChangeUnit:r,...o},(()=>{(0,A.A)("SizeGuidePopup",{fields:{data:JSON.stringify({is_auto_show:0,from:"ModelTry"})}})}))}),200);return a.createElement(kn.nU,{page_el_sn:201366},a.createElement("div",{className:Ky().wrap},a.createElement("div",{className:Ky().content,onClick:c,onMouseDown:()=>{l({goodsId:n,...o},(()=>{i.current?.end?.({name:"pc_goods_sizePopupContentShowTime"})}))},role:"button",tabIndex:0},a.createElement(Vy.A,(0,q.A)({},t,{sizeDescCls:Ky().sizeDesc,itemCls:Ky().item,bodyDescCls:Ky().bodyDesc})))))})),Qy=n(53579);const Yy=e=>{let{url:t,compressParams:n}=e;if(!t||!/^(https?:)?\/\/[^/?#]+?\.(kwcdn)\.com/.test(t))return null;const r=n?(0,Qy.Bp)(t,n):t;return a.createElement("link",{rel:"preload",href:r,as:"image",fetchpriority:"high"})};var Jy=e=>{let{url:t,isSupportWebp:n,needBig:r=!0,needSmall:o=!0}=e;return t&&(r||o)?a.createElement(a.Fragment,null,!!r&&a.createElement(Yy,{url:t,compressParams:{...xn.be,webpEnable:n}}),!!o&&a.createElement(Yy,{url:t,compressParams:{...xn.QH,webpEnable:n}})):null};const Xy={};function Zy(e){const{__req:t,isSupportWebp:n,store:r}=e||{};if(!function(e){const{__res:t,isCSR:n}=e||{};return!n&&!t.__seo__redirect__tag&&t.headersSent&&!t.finished}(e))return;const{preloadFirstImgList:o,webLayoutData:i}=r||{},l=o?.slice(0,xn.au)||[],s=i?.preloadImage||[];if(!o?.length&&!s?.length)return null;const c=a.createElement(a.Fragment,null,l?.map(((e,r)=>{const o=t.$preloadedImg?.includes(e);if(0===r){const{top_gallery_url:r}=t.query;return(Array.isArray(r)?r[0]:r)?null:a.createElement(Jy,{url:e,isSupportWebp:n,needSmall:!o})}return o?null:a.createElement(Jy,{url:e,isSupportWebp:n,needBig:!1})})),s?.map((e=>{let{url:t,compressParams:r}=e;return a.createElement(Yy,{url:t,compressParams:{...r,webpEnable:n}})})));!function(e,t,n){const{__req:a,__res:r}=e||{};a.$preloadedImg=a.$preloadedImg?.length?a.$preloadedImg:[],r.write(Xy.renderToStaticMarkup(t)),a.$preloadedImg.push(...n)}(e,c,[])}var e_=n(19918),t_=n.n(e_);const n_=()=>a.createElement("div",{className:t_().titlePlaceHolder});var a_=(0,Xt.A)((0,In.W4)({name:"Recommend"}),i.PA)((function(e){let{isSoldout:t}=e;const n=(0,N.Pj)(),{recomendHasMore:r,loadRecommendData:i,recommendGoodsList:l,recomendTitle:s,recomendLoaded:c,webpEnable:u,grayConfig:m,pageSize:d,userAgent:g,addOrderInfoStore:h}=n,{afterAddToOrder:f}=h,{t:y}=(0,p.B)("goods");(0,a.useEffect)((()=>{(0,A.A)("LoadRecommendStart",{fields:{data:JSON.stringify({sold_out:t?1:0})}}),i(t)}),[]),(0,a.useEffect)((()=>{if(c){const e={sold_out:t?1:0,length:l?.length||0};(0,A.A)("LoadRecommendEnd",{fields:{data:JSON.stringify(e)}})}}),[c,l]);const _=y(t?"recommend.isSoldoutTitle":"recommend.recommendTitle");return c&&!l?.length?null:a.createElement("div",{className:o()({[t_().wrap]:!t,[t_().wrap4SoldOut]:t}),id:"goodsRecommend"},a.createElement(I.H2,{className:t_().title},c?s||_:a.createElement(n_,null)),a.createElement(mn.A,{pageSn:xn.LM,pageElSn:t?200970:200444,cartScene:xn.xi.BottomRecommend,apiScene:t?xn.Oe.SOLD_OUT:xn.Oe.NORMAL,datasource:l,loadMoreData:()=>i(t),skuOptions:{afterAddToOrder:f,showAdded:!0,frontControl:{supportPersonalize:!0}},hasMore:r,autoOptimize:!1,loadMoreText:y("recommend.loadMore"),pageGoodsNum:d,skuParams:{_oak_page_source:409},rowNum:5,webpEnable:u,grayConfig:m,isBackAutoShowCategoryCard:!0,isShowSkc:!0,userAgent:g}))}));var r_=(0,Xt.A)((0,In.W4)({name:"RedirectLoginRisk"}),i.PA)((e=>{let{error:t,$axiosHttp:n,scene:r}=e;return(0,a.useEffect)((()=>{(0,pa.A)();const{status:e,errorCode:a}=t||{};a===w.D.LoginRisk&&((0,A.A)("RedirectLoginRisk",{fields:{status:e,scene:r}}),(0,l.iD)({silent:!1,loginScene:424===e?1:2,syncLogout:{activeLogout:!1,scene:0}},n))}),[]),a.createElement(g.zj,null)})),o_=(n(16280),n(50453)),i_=n(10504);const l_=1,s_=2;var c_=(0,Xt.A)((0,In.W4)({name:"RiskDialog"}),i.PA)((e=>{let{error:t,scene:n}=e;const r=(0,N.Pj)(),{pageSn:o}=r;return(0,a.useEffect)((()=>{(0,pa.A)(),(async()=>{await(0,_.eY)();const{verifyAuthToken:e,errorCode:a}=t||{};if(!e||!a)return(0,D.fL)(new Error("RiskDialog data not complete"),{error_msg:JSON.stringify({error:t,scene:n})}),void(0,Zt.MJ)("/");try{(0,i_.x)(e)}catch(e){}(0,A.A)("ShowRiskDialog",{fields:{scene:n}});const r=await(0,_.Eo)({verifyAuthToken:e,verifyAuthType:a,pageSN:o});(0,A.A)(""+(r?.isSuccess?"RiskDialogClickSuccess":r?.isClose?"RiskDialogClickClose":"RiskDialogOtherFail"),{fields:{scene:n}}),r?.isSuccess||r?.isClose?(0,Zt.Qw)(location.href):function(e,t){const{reloadCount:n}=(0,d.Xe)(window.location.search);!n||+n<e?o_.Ay.reload((0,d.rE)({...o_.Ay.querySet,reloadCount:Number.isNaN(+n)?1:+n+1},window.location.href)):t?t():o_.Ay.back()}(3,(()=>{(0,D.fL)(new Error("RiskDialog reload > 3")),(0,Zt.MJ)("/")}))})()}),[]),a.createElement(g.zj,null)}));const u_={goods_info_section:"goods_info_section",delivery_section:"delivery_section",trust_section:"trust_section",model_size_section:"model_size_section",evaluation_section:"evaluation_section",goods_general_view_section:"goods_general_view_section",item_review_rating_section:"item_review_rating_section",frequent_bought_together_section:"frequent_bought_together_section",matching_outfits_section:"matching_outfits_section",mall_section:"mall_section",find_similar_section:"find_similar_section",related_search_section:"related_search_section",product_detail_section:"product_detail_section",bottom_recommend_section:"bottom_recommend_section"};var m_=n(13425),d_=n(60055),p_=(n(35639),n(44383)),g_=n.n(p_),h_=n(88055),f_=n.n(h_),y_=n(37451),__=n(84104),E_=n(70074),b_=n(26988),S_=n(52793),v_=n(85778),I_=n(91828),w_=n(59168),k_=n(48958),N_=n(95140),A_=n(68744),C_=n(27427),T_=n(26884),x_=n(19056);const P_="goods";let R_=[P_,(0,dn.A)(6)].join("_");const M_=()=>(0,Ys.T)((()=>localStorage.getItem(P_))),D_=e=>{if(e){const e=M_();e&&(R_=e)}return R_},B_="/api/poppy/v1/goods_detail";class L_ extends N.dD{queryActivityRec(e){return this.postRiskNew({url:(0,fm.w)(B_,e),params:e})}}var O_,W_,z_,F_,U_=L_;let G_=(O_=class extends N.zw{constructor(e){super(e),this.$activityRecService=void 0,this.listId=`activity_rec_${(0,dn.A)(6)}`,this.queryData=async()=>{const{goodsId:e}=this.$parent,{result:t}=await this.$activityRecService.queryActivityRec({scene:"goods_detail_deals_rec",listId:this.listId,mainGoodsId:e,pageSn:xn.LM,pageSize:20,offset:0,mainGoodsIds:[e],excludedKeys:["p_rec"]}),{mainTitle:n,subTitle:a,goodsList:r}=t?.data||{};this.mainTitle=n,this.goodsList=r,this.subTitle=a},(0,m_.A)(this,"goodsList",W_,this),(0,m_.A)(this,"mainTitle",z_,this),(0,m_.A)(this,"subTitle",F_,this),(0,y_.Gn)(this)}initService(e){this.$activityRecService=new U_(e)}get showActivityRec(){const{query:e}=this.$parent;return"true"===e?.detailDealsRecEnable}},(0,d_.A)(O_.prototype,"showActivityRec",[y_.EW],Object.getOwnPropertyDescriptor(O_.prototype,"showActivityRec"),O_.prototype),W_=(0,d_.A)(O_.prototype,"goodsList",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z_=(0,d_.A)(O_.prototype,"mainTitle",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F_=(0,d_.A)(O_.prototype,"subTitle",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O_);var H_=n(18113);const j_="/api/oak/goods_extend/info";class V_ extends N.dD{queryGoodsExtend(e){return this.postRiskNew({url:j_,params:e})}}var q_,K_,$_,Q_,Y_,J_,X_,Z_,eE,tE,nE,aE,rE,oE,iE,lE,sE,cE=V_;let uE=(q_=class extends N.zw{constructor(e){super(e),this.$compatibleVehicles=void 0,(0,m_.A)(this,"propertyRelation",K_,this),(0,m_.A)(this,"dependencyRelation",$_,this),(0,m_.A)(this,"dependencyRelationMap",Q_,this),(0,m_.A)(this,"contentData",Y_,this),(0,m_.A)(this,"baseParams",J_,this),(0,m_.A)(this,"pageNum",X_,this),(0,m_.A)(this,"filterText",Z_,this),(0,m_.A)(this,"currentOptionPid",eE,this),(0,m_.A)(this,"isError",tE,this),this.pageSize=9,(0,m_.A)(this,"updateFilterSelectCount",nE,this),(0,m_.A)(this,"updateFilterValueChecked",aE,this),(0,m_.A)(this,"resetAllFilterValueChecked",rE,this),(0,m_.A)(this,"resetCurrentFilterValueChecked",oE,this),(0,m_.A)(this,"initParams",iE,this),(0,m_.A)(this,"queryGoodsExtend",lE,this),(0,m_.A)(this,"filterAction",sE,this),(0,y_.Gn)(this)}initService(e){this.$compatibleVehicles=new cE(e)}},K_=(0,d_.A)(q_.prototype,"propertyRelation",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$_=(0,d_.A)(q_.prototype,"dependencyRelation",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q_=(0,d_.A)(q_.prototype,"dependencyRelationMap",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Y_=(0,d_.A)(q_.prototype,"contentData",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J_=(0,d_.A)(q_.prototype,"baseParams",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),X_=(0,d_.A)(q_.prototype,"pageNum",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Z_=(0,d_.A)(q_.prototype,"filterText",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),eE=(0,d_.A)(q_.prototype,"currentOptionPid",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tE=(0,d_.A)(q_.prototype,"isError",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nE=(0,d_.A)(q_.prototype,"updateFilterSelectCount",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{Object.keys(this.dependencyRelationMap).forEach((e=>{const{valueSelectMap:t}=this.dependencyRelationMap[e];this.dependencyRelationMap[e].valueSelectCount=(0,H_.IT)(t)}))}}}),aE=(0,d_.A)(q_.prototype,"updateFilterValueChecked",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,_o.A)((async(e,t)=>{const n=this.dependencyRelationMap[e],{valueSelectMap:a}=n;this.dependencyRelationMap={...this.dependencyRelationMap,[e]:{...n,valueSelectMap:{...a,[t]:!a[t]}}},this.updateFilterSelectCount(),this.currentOptionPid=e,await this.filterAction(1)}))}}),rE=(0,d_.A)(q_.prototype,"resetAllFilterValueChecked",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,_o.A)((async()=>{Object.keys(this.dependencyRelationMap).forEach((e=>{const{valueSelectMap:t}=this.dependencyRelationMap[e];Object.keys(t).forEach((e=>{t[e]=!1}))})),await this.filterAction(1)}))}}),oE=(0,d_.A)(q_.prototype,"resetCurrentFilterValueChecked",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,_o.A)((async e=>{const{valueSelectMap:t}=this.dependencyRelationMap[e];Object.keys(t).forEach((e=>{t[e]=!1})),await this.filterAction(1)}))}}),iE=(0,d_.A)(q_.prototype,"initParams",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.pageNum=1,this.baseParams={page_num:this.pageNum,page_size:this.pageSize,need_car_property_relation:1}}}}),lE=(0,d_.A)(q_.prototype,"queryGoodsExtend",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,_o.A)((async e=>{const t=await this.$compatibleVehicles.queryGoodsExtend({car_info:{...this.baseParams,...e},goods_id:this.$root.goods.goodsId}),{propertyRelation:n,filterText:a}=t||{};return n&&a?((0,y_.h5)((()=>{this.filterText=a,this.propertyRelation=n,this.dependencyRelation=n?.dependencyRelation||[],this.dependencyRelationMap=(0,H_.cl)(n?.dependencyRelation)||{},this.contentData=(0,H_.$g)(n?.result,n?.dependencyRelation)||[],this.isError=!1})),t):(this.isError=!0,null)}))}}),sE=(0,d_.A)(q_.prototype,"filterAction",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{const{dependencyRelationMap:t,currentOptionPid:n,dependencyRelation:a}=this,r=await this.queryGoodsExtend({...(0,H_.Pc)({dependencyRelationMap:t,currentOptionPid:n,dependencyRelation:a}),page_num:e});return r&&(0,y_.h5)((()=>{this.pageNum=e})),r}}}),q_);var mE;let dE=(mE=class extends N.zw{constructor(e){super(e),(0,y_.Gn)(this)}get addCartBenefitBlack4Bottom(){const{addCartBenefitRichBlack:e,optimalSku:t}=this.$root;return e?.[t?.skuId]}get addCartBenefit4Bottom(){const{optimalSku:e,addCartBenefitRich:t}=this.$root;return t?.[e?.skuId]}get activityBottomIcon(){const{moduleMap:e}=this.$root,{activityBigIcon:t,activitySmallIcon:n}=e?.bottomButtonModule?.data||{};return{activityBigIcon:t,activitySmallIcon:n}}get buttonWithActivityStyle(){return this.$root.control?.detailSupportExperimentControl?.buttonWithActivityStyle||0}get isShowBeforeContentIcon(){return 2===this.buttonWithActivityStyle&&this.activityBottomIcon.activityBigIcon}get isShowBeforeBtnTextIcon(){return 1===this.buttonWithActivityStyle&&this.activityBottomIcon.activitySmallIcon}get clearanceMainButtonStyleData(){const{clearanceMainButtonStyle:e}=this.$root.moduleMap?.bottomButtonModule?.data||{};return e}get isShowClearanceMainButtonStyle(){const{normalColor:e,clickedColor:t}=this.clearanceMainButtonStyleData||{};return e&&t}get clearanceButtonStyle(){const{normalColor:e,clickedColor:t,mainTitleColor:n}=this.clearanceMainButtonStyleData||{};return{"--clearance-btn-normal":e||"#FB7701","--clearance-btn-clicked":t||"#E76D00",color:n||"#FFFFFF"}}get clearanceButtonStyle4BigImage(){const{bigImageButtonColor:e,bigImageClickedColor:t,bigImageMainTitleColor:n}=this.clearanceMainButtonStyleData||{};return e||t||n?{"--clearance-btn-normal":e||"#FB7701","--clearance-btn-clicked":t||"#E76D00",color:n||"#FFFFFF"}:null}},(0,d_.A)(mE.prototype,"addCartBenefitBlack4Bottom",[y_.EW],Object.getOwnPropertyDescriptor(mE.prototype,"addCartBenefitBlack4Bottom"),mE.prototype),(0,d_.A)(mE.prototype,"addCartBenefit4Bottom",[y_.EW],Object.getOwnPropertyDescriptor(mE.prototype,"addCartBenefit4Bottom"),mE.prototype),(0,d_.A)(mE.prototype,"activityBottomIcon",[y_.EW],Object.getOwnPropertyDescriptor(mE.prototype,"activityBottomIcon"),mE.prototype),(0,d_.A)(mE.prototype,"buttonWithActivityStyle",[y_.EW],Object.getOwnPropertyDescriptor(mE.prototype,"buttonWithActivityStyle"),mE.prototype),(0,d_.A)(mE.prototype,"isShowBeforeContentIcon",[y_.EW],Object.getOwnPropertyDescriptor(mE.prototype,"isShowBeforeContentIcon"),mE.prototype),(0,d_.A)(mE.prototype,"isShowBeforeBtnTextIcon",[y_.EW],Object.getOwnPropertyDescriptor(mE.prototype,"isShowBeforeBtnTextIcon"),mE.prototype),(0,d_.A)(mE.prototype,"clearanceMainButtonStyleData",[y_.EW],Object.getOwnPropertyDescriptor(mE.prototype,"clearanceMainButtonStyleData"),mE.prototype),(0,d_.A)(mE.prototype,"isShowClearanceMainButtonStyle",[y_.EW],Object.getOwnPropertyDescriptor(mE.prototype,"isShowClearanceMainButtonStyle"),mE.prototype),(0,d_.A)(mE.prototype,"clearanceButtonStyle",[y_.EW],Object.getOwnPropertyDescriptor(mE.prototype,"clearanceButtonStyle"),mE.prototype),(0,d_.A)(mE.prototype,"clearanceButtonStyle4BigImage",[y_.EW],Object.getOwnPropertyDescriptor(mE.prototype,"clearanceButtonStyle4BigImage"),mE.prototype),mE);var pE=n(41660);function gE(e){const t=e.result||{},{hasMore:n}=t,a=t.data||{},{goodsList:r}=a,o={goodsList:[],hasMore:n||!1};return Array.isArray(r)&&r?.length?(o.goodsList=(0,pE.A)(r,(e=>e.goodsId),(e=>({complianceInfo:e.complianceInfo,extendFields:e.extendFields,goodsId:e.goodsId,goodsName:e.title,thumbUrl:e.thumbUrl,activityPriceStr:e.priceInfo?.priceStr||"",marketPriceStr:e.priceInfo?.marketPriceStr||"",marketPriceIcon:e.priceInfo?.marketPriceIcon||{},linkUrl:e.linkUrl,salesTipTextList:e.salesTipTextList,salesTip:e.salesTip,skuList:e.skuList||[],cartAmount:e.cartAmount,pRec:e.pRec||e.prec,specIds:e.specIds,activityType:e.activityType}))),{...e,result:o}):{...e,result:o}}const hE="/api/poppy/v1/gd_shopping_cart",fE="/api/bg/bg-uranus-api/uranus_cart/promotion_info",yE="/api/poppy/v1/goods_detail";class _E extends N.dD{getGoodsList(e){return this.postRisk({url:(0,fm.w)(hE,e),params:e,format:gE})}getRecGoodsList(e){return this.postRiskNew({url:(0,fm.w)(yE,e),params:e,format:gE})}getPromotionInfo(e){return this.postRisk({url:fE,params:e})}}var EE,bE,SE,vE,IE,wE,kE,NE=_E;let AE=(EE=class extends N.zw{constructor(e){super(e),this.$addSuccessService=void 0,this.loadMoreLock=!1,this.goodsIdMap={},(0,m_.A)(this,"offset",bE,this),(0,m_.A)(this,"hasInit",SE,this),(0,m_.A)(this,"goodsList",vE,this),(0,m_.A)(this,"hasMore",IE,this),(0,m_.A)(this,"loadMoreData",wE,this),(0,m_.A)(this,"isFrequentlyBought",kE,this),(0,y_.Gn)(this)}initService(e){this.$addSuccessService=new NE(e)}init(){this.offset=0,this.hasInit=!1,this.goodsList=[],this.hasMore=!0,this.loadMoreLock=!1,this.goodsIdMap={},this.isFrequentlyBought=!0}updateIsFrequentlyBought(e){this.isFrequentlyBought=!!e}},bE=(0,d_.A)(EE.prototype,"offset",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),SE=(0,d_.A)(EE.prototype,"hasInit",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vE=(0,d_.A)(EE.prototype,"goodsList",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),IE=(0,d_.A)(EE.prototype,"hasMore",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wE=(0,d_.A)(EE.prototype,"loadMoreData",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const{offset:e,goodsList:t,goodsIdMap:n,hasMore:a,loadMoreLock:r}=this;if(r||!a)return;const{query:o,goodsId:i,pageSn:l,selectedSku:s}=this.$root,{goodsId:c}=s,u={listId:`${D_(!!o?.is_back)}_addPopup`,pageSn:l,offset:e,pageSize:20,source:this.isFrequentlyBought?10079:10016,mrkRec:o.mrk_rec,mainGoodsIds:c||i?[c||i]:void 0,scene:"gd_shopping_cart"};this.loadMoreLock=!0;const m=await this.$addSuccessService.getGoodsList(u),d=m?.result||{},p=(d.goodsList||[]).reduce(((e,t)=>(n[t.goodsId]||(e.push(t),n[t.goodsId]=!0),e)),[]);(0,y_.h5)((()=>{this.offset=e+20,this.goodsList=t.concat(p),this.hasMore=d.hasMore||!1,this.hasInit=!0,this.loadMoreLock=!1}))}}}),(0,d_.A)(EE.prototype,"init",[y_.XI],Object.getOwnPropertyDescriptor(EE.prototype,"init"),EE.prototype),kE=(0,d_.A)(EE.prototype,"isFrequentlyBought",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,d_.A)(EE.prototype,"updateIsFrequentlyBought",[y_.XI],Object.getOwnPropertyDescriptor(EE.prototype,"updateIsFrequentlyBought"),EE.prototype),EE);var CE,TE,xE,PE,RE,ME,DE,BE,LE,OE,WE=n(83799),zE=n(7951);class FE extends N.dD{queryPromotion(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.postRiskNew({url:"/api/oak/add_order/query_promotion",params:e})}}const UE=e=>{if(!e)return null;const{customizedSnapshots:t}=e?.optCustomizedInfo||{};return t?.length?{customized_snapshot_info:JSON.stringify({snapshot_list:t.map((e=>{let{customizedSnapshotId:t,customizedNum:n}=e;return{customized_snapshot_id:t,customized_num:n}}))})}:null};let GE=(CE=class extends N.zw{constructor(e){super(e),(0,m_.A)(this,"order",TE,this),this.promotionDefaultDesc=void 0,(0,m_.A)(this,"additionalOrderPromotion",xE,this),(0,m_.A)(this,"orderSn",PE,this),(0,m_.A)(this,"updateOrderSn",RE,this),this.$addOrderInfoService=void 0,this.initService=e=>{this.$addOrderInfoService=new FE(e)},(0,m_.A)(this,"initData",ME,this),(0,m_.A)(this,"addOrderSkuCallback",DE,this),this.getAddToOrderSourceChannel=()=>{if(this.isGoodsAddOrderAB)return WE.h.GOODS_AB;const{order_source_channel:e,from_order_detail:t}=this.$parent.query||{};return e||(t?WE.h.FROM_ORDER_DETAIL:WE.h.FROM_PAY_SUCCESS)},(0,m_.A)(this,"onAddOrderClick",BE,this),(0,m_.A)(this,"addOrderSuccess",LE,this),(0,m_.A)(this,"onAddOrderSuccess",OE,this),this.afterAddToOrder=async()=>{await(0,yc.A)(1e3),this.addOrderSuccess=!0,this.$parent.refreshIndex(),(0,A.A)("skuPanelAddOrderSuccess")},(0,y_.Gn)(this)}get isFromAddOrderPage(){const{add_order:e,parent_order_sn:t}=this.$parent.query;return 1===Number(e)&&t}get isAddOrderScene(){return!!this.order?.allowPurchase}get isGoodsAddOrderAB(){return this.isAddOrderScene&&!this.isFromAddOrderPage}},TE=(0,d_.A)(CE.prototype,"order",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xE=(0,d_.A)(CE.prototype,"additionalOrderPromotion",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),PE=(0,d_.A)(CE.prototype,"orderSn",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),RE=(0,d_.A)(CE.prototype,"updateOrderSn",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.orderSn=e}}}),ME=(0,d_.A)(CE.prototype,"initData",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{promotionDefaultDesc:t,additionalOrderPromotion:n}=e||{};this.order=e,this.additionalOrderPromotion=n,this.promotionDefaultDesc=t,!this.orderSn&&this.$parent.isNormalStatus&&this.updateOrderSn(e?.orderSn||"")}}}),(0,d_.A)(CE.prototype,"isFromAddOrderPage",[y_.EW],Object.getOwnPropertyDescriptor(CE.prototype,"isFromAddOrderPage"),CE.prototype),(0,d_.A)(CE.prototype,"isAddOrderScene",[y_.EW],Object.getOwnPropertyDescriptor(CE.prototype,"isAddOrderScene"),CE.prototype),(0,d_.A)(CE.prototype,"isGoodsAddOrderAB",[y_.EW],Object.getOwnPropertyDescriptor(CE.prototype,"isGoodsAddOrderAB"),CE.prototype),DE=(0,d_.A)(CE.prototype,"addOrderSkuCallback",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,_o.A)((async e=>{const{attachedSn:t,parentOrder:n,applePayInfo:a,allowPurchase:r}=this.order||{},{shippingMethodId:o,addressSnapshotId:i,addressSnapshotSn:l,tradePaySn:s,parentOrderSn:c}=n||{},u=await(0,fc.p)();if(!u)return void La.A.error((0,Os.t)("main_gallery.networkErrorMsg",{ns:"goods"}));const{addToOrder:m,FrontScene:d,getDoCreatePayHandler:p,renderAddToOrderSuccessDialog:g}=u||{},h=p({applePayInfo:a});if(!c||!r)return void La.A.error((0,Os.t)("addToOrder.dataInvalid",{ns:"goods"}));const f={addressSnapshotId:i,addressSnapshotSn:l,tradePaySn:s,attachedSn:t||c,shippingMethodId:o,parentOrderSn:c||this.$parent.query.parent_order_sn},y=await(0,Ot.ON)()||{};(0,A.A)("addOrderStart"),await m({params:{pageSn:xn.LM,skuData:e,frontScene:d.Goods,sourceChannel:this.getAddToOrderSourceChannel(),preOrderInfo:f,isAddToOrder:!0,applePayInfo:a,currency:y.currency,doCreatePayHandler:h,pageFrom:"200",isShowAddToOrderProcessDialog:!0},onSuccess:t=>this.onAddOrderSuccess({...t,skuData:e,renderAddToOrderSuccessDialog:g}),options:{jumpUrlsRefine:!0},errorPayloadHandler:zE.Ay})}))}}),BE=(0,d_.A)(CE.prototype,"onAddOrderClick",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{let{skuId:t,qty:n,customizedInfoDict:a}=e;const{selectedSku:r}=this.$parent,{goodsId:o}=r||{},i={goodsNumber:n,skuId:t,goodsId:o,goods:{mallId:this.$parent.goods?.mallId,goodsId:o},skuInfo:r,extendMap:{...UE(a)}};this.addOrderSkuCallback(i)}}}),LE=(0,d_.A)(CE.prototype,"addOrderSuccess",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),OE=(0,d_.A)(CE.prototype,"onAddOrderSuccess",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{let{useDelayAuth:t,skuData:n,orderVo:a,payMethod:r,composePayVo:o,payResult:i,renderAddToOrderSuccessDialog:l}=e;const{parentOrder:s}=this.order||{},{subOrderList:c,parentOrderTime:u}=s||{};let m;const d=new Promise((e=>{m=e}));l({orderData:n,orderList:c.map((e=>({orderImg:e.thumbUrl,orderSn:e.orderSn,orderNum:e.goodsNumber}))),parentOrderSn:this.orderSn,isDelayAuth:t,payMethod:r,orderVo:a,composePayVo:o,orderTime:u||0,pageSN:xn.LM,pageFrom:"200",tradePaySn:i?.response?.tradePaySn,orderSn:i?.orderInfo?.parentOrderInfoList?.[0]?.orderSnList?.[0]||i?.orderSnList?.[0],isShowAddToOrderProcessDialog:!0,onClose:()=>{m?.()}}),await d,(0,A.A)("addOrderSuccess",{fields:{data:JSON.stringify({})}}),await(0,yc.A)(1e3),(0,gf.rr)?.(),this.addOrderSuccess=!0,this.$parent.refreshIndex()}}}),CE);var HE=n(51118),jE=n(90521);const VE=(0,n(95436).U)("WEB_LAYOUT_REFRESH_USER"),qE=e=>{const{loginScene:t,regionId:n,onClose:r,onCloseClick:o,onSuccess:i,onAddToCartCb:l,...s}=e||{},c=(0,vn.A)(a.createElement(Wt.Ay,(0,q.A)({regionId:n??(0,la.Ri)("region"),loginScene:t,onCloseClick:()=>{r?.(),o?.(),c?.()},onSuccess:()=>{VE(),i?.(),r?.(),c?.()},onAddToCartCb:()=>{l?.(),c?.()}},s)),{})};var KE,$E;let QE=(KE=class extends N.zw{constructor(e){super(e),(0,m_.A)(this,"buyNowCallback",$E,this),this.buyNowCallback4Normal=async(e,t)=>{const{buyNowButton:n,query:a,addedAmount:r}=this.$root,{checkoutPageLink:o}=n||{},{goodsId:i,skuId:l,goodsNumber:s,customizedInfoDict:c,clickEventData:u={}}=e||{},{customizedSnapshots:m}=c?.optCustomizedInfo||{},{extend_map:d}=a||{};if(!o)return;const p=m?.length?{customized_snapshot_info:JSON.stringify({snapshot_list:m.map((e=>{let{customizedSnapshotId:t,customizedNum:n}=e;return{customized_snapshot_id:t,customized_num:n}}))})}:null,g={destinationUrl:o,goodsList:[{skuId:l,goodsNumber:r||s||1,goodsId:i,extendMap:{...p}}]};d&&(g.checkoutExtendMap=d),(0,A.A)("BuyNowButtonClick",{fields:{data:JSON.stringify({...g,is_login:t,buy_scene:u?.buy_scene||ir.GOODS_DETAIL})}}),t?(0,jE.g0)(g,{otherQuery:{refer_page_el_sn:or}}):qE({onSuccess:()=>{(0,jE.g0)(g,{otherQuery:{refer_page_el_sn:or}})},loginScene:313,businessContext:{buy_now_back:JSON.stringify({goods:[{goods_id:i,sku_id:l}]})},onAddToCartCb:()=>{const e={goodsId:i,skuId:l,fromNum:r||0};return(0,A.A)("BuyNowRetainAddToCart",{fields:{data:JSON.stringify(e)}}),this.operateCart4Add(e)}})},this.operateCart4Add=e=>{const{fromNum:t}=e||{},n={pageSn:xn.LM,pageElSn:200061,clientCartScene:`${xn.xi.MainGoods}`,operateType:0===t?Sa.Add:Sa.Update,num:t+1,...e};return(0,v_.A)(n,{ifForbidCleanPopup:!0})},this.prefetch=()=>{var e;this.supportQuickMerge&&(e=this.checkoutParams,Xc||Zc||(Jc(),Xc=(0,Qc.tr)(e)))},(0,y_.Gn)(this)}get checkoutParams(){const{addedAmount:e,optimalSku:t,selectedSkuSpec:n,goods:a,selectLocationId:r,goodsId:o,qty:i,selectedSku:l,query:s}=this.$root;return{pageSn:xn.LM,goodsId:o,skuId:l?.skuId||t?.skuId,goodsNumber:e||i||1,isBestSkuId:!l?.skuId,defaultSelectSpecs:n,skc:a?.skc,sizeSpecGroupId:r,extendMap:{...s?._oak_color_order?{_oak_color_order:s?._oak_color_order}:null,size_spec_group_id:r}}}get supportQuickMerge(){const{buyNowButton:e,isSupportQuickMergeByFe:t,isLogin:n}=this.$root,{supportQuickMerge:a}=e||{};return!!(t&&a&&n)}get supportQuickMerge4TimeLimitedActivity(){const{buyNowButton:e,isTimeLimitedActivitySupportQuickMerge:t}=this.$root,{supportQuickMerge:n}=e||{};return!(!n||!t)}get buyNowBenefitRich(){const{buyNowBenefitRich:e,optimalSku:t}=this.$root;return e?.[t?.skuId]}get buyNowButtonTag(){const{buyNowButton:e,optimalSku:t}=this.$root,{skuButtonTags:n}=e||{};return n?.[t?.skuId]}},(0,d_.A)(KE.prototype,"checkoutParams",[y_.EW],Object.getOwnPropertyDescriptor(KE.prototype,"checkoutParams"),KE.prototype),(0,d_.A)(KE.prototype,"supportQuickMerge",[y_.EW],Object.getOwnPropertyDescriptor(KE.prototype,"supportQuickMerge"),KE.prototype),(0,d_.A)(KE.prototype,"supportQuickMerge4TimeLimitedActivity",[y_.EW],Object.getOwnPropertyDescriptor(KE.prototype,"supportQuickMerge4TimeLimitedActivity"),KE.prototype),$E=(0,d_.A)(KE.prototype,"buyNowCallback",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,_o.A)((async e=>{const{selectedSku:t,$axiosHttp:n,addedAmount:r,setCurrentSpecIdSelect:o,setQty:i,setIfTriggerShaking:l,skuShow:s}=this.$root,{goodsId:c,skuId:u,clickEventData:m={},skuParams:d}=e||{};(0,ge.OS)({op:"click",sku_id:u,goods_id:c,page_el_sn:or,buy_scene:ir.GOODS_DETAIL,added_number:r||-1,...m});const p=await(0,HE.i)(n);if(!this.supportQuickMerge||!p)return this.buyNowCallback4Normal(e,p);{(0,A.A)("ShowOrderCheckoutPop",{fields:{data:JSON.stringify(this.checkoutParams)}});const n=await(async e=>{if(Zc)return;Zc=!0;const t=(0,$c.x)({type:"click"});t?.stageStart("api");const n=setTimeout(qc.x,300),[r,o]=await Promise.all([tu(e),Jc()]);if(clearTimeout(n),(0,jn.jD)(),t?.stageEnd("api"),!o||!r||r.isError){Zc=!1,(0,Vc.A)({event:"showCheckoutPop network error",data:JSON.stringify({jsError:!o,apiError:r?.isError})});const{showDefaultErrorToast:t=!0}=e;return t&&(0,Kc.A)(Os.Ay.t("networkErrorHint",{ns:"bec-fe.web-order-checkout"})),{errorType:nu.ErrorNetwork}}if((r?.notSupportActionType||0)>0)return Zc=!1,(0,Vc.A)({event:"showCheckoutPop notSupport"}),{errorType:nu.NotSupport};const i=a.createRef();let l=()=>{};l=(0,vn.A)(a.createElement(o,{ref:i,userInteraction:t,onClose:()=>{Zc=!1,l()}}),{}),await(i.current?.init({options:e,firstRenderData:r}))})({...this.checkoutParams,onCloseCallback:e=>{const{goodsNumber:t,selectSpecs:n}=e;if((0,A.A)("CloseOrderCheckoutPop",{fields:{data:JSON.stringify(e)}}),Array.isArray(n)){const e=n.reduce(((e,t)=>Number.isFinite(t.specKeyId)&&Number.isFinite(t.specValueId)?{...e,[t.specKeyId]:t.specValueId}:e),{});o(e||{})}l(!0),i(t||1)}}),{errorType:r}=n||{};if(n&&(0,A.A)("OrderCheckoutPopError",{fields:{data:JSON.stringify(n)}}),[nu.NotSupport].includes(r)){if(t?.skuId)return this.buyNowCallback4Normal(e,p);if(d)return s?.(d)}}}))}}),(0,d_.A)(KE.prototype,"buyNowBenefitRich",[y_.EW],Object.getOwnPropertyDescriptor(KE.prototype,"buyNowBenefitRich"),KE.prototype),(0,d_.A)(KE.prototype,"buyNowButtonTag",[y_.EW],Object.getOwnPropertyDescriptor(KE.prototype,"buyNowButtonTag"),KE.prototype),KE);var YE=n(5887);class JE extends N.zw{constructor(e){super(e),this.onCustomizedBtnClick=async e=>{let{goodsId:t,skuId:n,qty:a,btnText:r}=e;const{isLogin:o,showPopLogin:i}=this.$parent;if((0,A.A)("goodsDetail start customized"),!o)return(0,A.A)("goodsDetail customized unLogin"),i();const l=await(async()=>new Promise(((e,o)=>{(0,YE.r)({goodsId:t,skuId:n,clickCb:t=>{let{customizedSnapshotId:n,customizedText:r}=t;(0,A.A)("goodsDetail generate customizedSnapshotId"),e({optCustomizedInfo:{customizedSnapshots:[{customizedSnapshotId:n,customizedNum:a}],...n?null:{customizedText:r}}})},btnText:r,onClose:()=>e(!1),onError:()=>e(!1)})})))();if(l)return l;(0,A.A)("goodsDetail cancel customized")},(0,y_.Gn)(this)}}const XE="/api/bg/bg-wish-api/wish_goods_v3",ZE="/api/bg/bg-wish-api/cancel_wish_goods";class eb extends N.dD{favGoodV3(e){return this.postRiskNew({url:XE,params:e})}unfavGoodV3(e){return this.postRiskNew({url:ZE,params:e})}}var tb,nb,ab,rb,ob,ib=eb;let lb=(tb=class extends N.zw{constructor(e){super(e),this.$favService=void 0,this.goodsId=void 0,(0,m_.A)(this,"isFavRecord",nb,this),(0,m_.A)(this,"ifSupportWish",ab,this),this.ifLocateGoodsDetailV2=!1,(0,m_.A)(this,"updateIsFavRecord",rb,this),(0,m_.A)(this,"toggleFavStateV3",ob,this),this.favGoodsV3=e=>this.$favService.favGoodV3({page_sn:this.$root.pageSn,goods_id:+e}),this.unfavGoodsV3=()=>this.$favService.unfavGoodV3({page_sn:this.$root.pageSn,goods_id:+this.goodsId}),this.refreshFavState=()=>{const{goodsId:e,refreshIndex:t}=this.$root;if(this.ifLocateGoodsDetailV2){const n=(0,Wa.VA)(xn.Jm.wishlistDelGoodsIds)||[],a=n.findIndex((t=>t===+e));a>=0&&(n.splice(a,1),(0,Wa.FS)(xn.Jm.wishlistDelGoodsIds,n),t())}},(0,y_.Gn)(this)}initService(e){this.$favService=new ib(e)}initDataAction(e){this.goodsId=e.goodsId,this.isFavRecord=e.initIsFav,this.ifSupportWish=!!e.supportWish,this.ifLocateGoodsDetailV2=6===e.supportWish}get showSmallFavBtnPos(){return this.ifShowSmallFavBtn?this.supportWishlist||oa.DETAIL:0}get supportWishlist(){return this.$root.control?.detailSupportExperimentControl?.supportWishlist}get ifShowSmallFavBtn(){const{favStore:e,isGiftGoods:t,goodsSoldOut:n,isSEOSoldOut:a,redeemPointsBtnStore:r}=this.$root,{ifSupportWish:o,ifLocateGoodsDetailV2:i}=e||{},{isRedeemPoints:l}=r;return!(n||a||t||!o||!i||l)}},nb=(0,d_.A)(tb.prototype,"isFavRecord",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ab=(0,d_.A)(tb.prototype,"ifSupportWish",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,d_.A)(tb.prototype,"initDataAction",[y_.XI],Object.getOwnPropertyDescriptor(tb.prototype,"initDataAction"),tb.prototype),rb=(0,d_.A)(tb.prototype,"updateIsFavRecord",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.isFavRecord!==t&&n&&(0,b.YY)(),(0,y_.h5)((()=>{e.isFavRecord=t}))}}}),(0,d_.A)(tb.prototype,"showSmallFavBtnPos",[y_.EW],Object.getOwnPropertyDescriptor(tb.prototype,"showSmallFavBtnPos"),tb.prototype),(0,d_.A)(tb.prototype,"supportWishlist",[y_.EW],Object.getOwnPropertyDescriptor(tb.prototype,"supportWishlist"),tb.prototype),(0,d_.A)(tb.prototype,"ifShowSmallFavBtn",[y_.EW],Object.getOwnPropertyDescriptor(tb.prototype,"ifShowSmallFavBtn"),tb.prototype),ob=(0,d_.A)(tb.prototype,"toggleFavStateV3",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const e=e=>{const{success:t,result:n,error:r}=e||{};if(r)throw r;var o;return n?.successToast?.length&&this.supportWishlist?(o=n.successToast,La.A.customize(a.createElement("div",{className:Ga().toastWrap},a.createElement(Oa.WK,{displayItems:o,imageClassName:Ga().toastImg})))):n?.toast&&(t?La.A.success:La.A.warning)(n.toast),t&&(0,y_.h5)((()=>{this.updateIsFavRecord(!this.isFavRecord)})),!!t};if(this.isFavRecord)try{return e(await this.unfavGoodsV3())}catch(e){return(0,D.fL)(e),La.A.warning((0,Os.t)("fav.failedToRemoveV2",{ns:"goods"})),!1}else try{return e(await this.favGoodsV3(this.goodsId))}catch(e){return(0,D.fL)(e),La.A.warning((0,Os.t)("fav.failedToSaveV2",{ns:"goods"})),!1}}}}),tb);var sb;let cb=(sb=class extends N.zw{constructor(e){super(e),this.showFindSimilarPopup=async()=>{(0,kd.r)(this.params)},(0,y_.Gn)(this)}get params(){const{selectedSku:e,selectedSkuSpec:t,goodsId:n}=this.$root,{skuId:a,goodsId:r,thumbUrl:o}=e||{},i=r||n,l={};return(t||[]).forEach((e=>{l[e.specKey]=e.specValue})),{request:{list_id:`find_similar_${Date.now()}_${(0,dn.A)()}`,main_goods_ids:[i],main_goods:[i],top_goods:[i],goods_sku_pairs:[{goods_id:i,sku_id:a,spec_info_map:l}]},config:{pageSn:xn.LM,showQuickLook:!0,pageSource:418,frontControl:{supportPersonalize:!0}}}}},(0,d_.A)(sb.prototype,"params",[y_.EW],Object.getOwnPropertyDescriptor(sb.prototype,"params"),sb.prototype),sb);var ub=n(7682),mb=n(97216),db=n(5476),pb=n(64773);const gb={2:"goToCart",3:"ok",4:"shopnow"};let hb=function(e){return e[e.TEXT=0]="TEXT",e}({}),fb=function(e){return e[e.CancelAndConfirm=1]="CancelAndConfirm",e[e.GoToCart=2]="GoToCart",e[e.OK=3]="OK",e[e.ShopNow=4]="ShopNow",e}({});const yb=(0,a.memo)((function(e){let{items:t}=e;return t?.length?t.map(((e,t)=>{const{text:n,displayType:r,fontColor:o,fontSize:i,fontWeight:l,isBold:s}=e||{};return r===hb.TEXT&&n?a.createElement("span",{key:t,style:{color:o,fontSize:i,fontWeight:l||(s?"bold":"normal")}},n):null})):null}));var _b=n(30015),Eb=n(40119),bb=n(85213),Sb=n.n(bb);const vb=e=>{let{endTime:t,callback:n,cellClassName:r,colonClassName:i,className:l,isRTL:s=!1}=e;const c=r||Sb().time,u=i||Sb().colon;return a.createElement(_b.A,{intervalGap:1e3,endTime:Number(t),nowTime:Date.now(),renderFunc:e=>{let{hour:t,minute:n,second:r,day:i}=e;return a.createElement("span",{"aria-hidden":!0,className:o()(Sb().countdown,l,{[Sb().rtl]:s})},i?a.createElement(a.Fragment,null,a.createElement("span",{"data-type":"time",className:c},(0,Eb.yg)(i)),a.createElement("span",{"data-type":"colon",className:u},":")):null,a.createElement("span",{"data-type":"time",className:c},(0,Eb.yg)(t)),a.createElement("span",{"data-type":"colon",className:u},":"),a.createElement("span",{"data-type":"time",className:c},(0,Eb.yg)(n)),a.createElement("span",{"data-type":"colon",className:u},":"),a.createElement("span",{"data-type":"time",className:c},(0,Eb.yg)(r)))},callback:n,rAF:!0})},Ib=e=>{let{endTime:t,callback:n,isRTL:r}=e;return a.createElement(_b.A,{intervalGap:1e3,endTime:Number(t),nowTime:Date.now(),renderFunc:e=>{let{hour:t,minute:n,second:i,day:l}=e;return a.createElement("span",{"aria-hidden":!0,className:o()(Sb().countdown1,{[Sb().countDownWithDay]:l,[Sb().rtl]:r})},l?a.createElement(a.Fragment,null,a.createElement("span",{"data-type":"time",className:Sb().time1},(0,Eb.yg)(l)),a.createElement("span",{"data-type":"colon",className:Sb().colon1},":")):null,a.createElement("span",{"data-type":"time",className:Sb().time1},(0,Eb.yg)(t)),a.createElement("span",{"data-type":"colon",className:Sb().colon1},":"),a.createElement("span",{"data-type":"time",className:Sb().time1},(0,Eb.yg)(n)),a.createElement("span",{"data-type":"colon",className:Sb().colon1},":"),a.createElement("span",{"data-type":"time",className:Sb().time1},(0,Eb.yg)(i)))},callback:n,rAF:!0})};var wb=n(81411),kb=n(33673),Nb=n.n(kb);var Ab=e=>{let{closePopup:t,giftPopupVo:n,redeemSuccess:r}=e;const{t:i}=(0,p.B)("bec-fe.web-sku-selector",{keyPrefix:"RedeemPoints4Goods"}),{endTime:l,giftInfo:s,buttonType:c="",titleText:u,maxPoints:m}=n||{},{thumbUrl:d,priceStr:g,marketPriceStr:h}=s||{},[f,y]=(0,wb.A)(),{isRTL:_}=(0,Aa.Sz)(),E=(0,pn.w)((()=>{c!==fb.GoToCart&&c!==fb.ShopNow||(0,Zt.MJ)("/shopping_cart.html"),t()})),b=gb?.[c];return a.createElement(on.A,{closeClassName:Nb().closeIcon,onClose:t,dialogProps:{className:Nb().wrapper}},a.createElement(kn.nU,{page_el_sn:r?235967:null},a.createElement("div",{className:o()(Nb().content,{[Nb().rtlContent]:_})},a.createElement("div",{className:Nb().outTitle},a.createElement("span",{className:Nb().outTitleText},u)),a.createElement(Nn.Ay,{src:"https://aimg.kwcdn.com/upload_aimg/th/ebbe2073-d8ba-4474-a287-e36fe059c101.png.slim.png",alt:"",className:Nb().topLight}),a.createElement(ps.n,(0,q.A)({onClick:t,"aria-label":i("close"),className:o()(Nb().closeIcon1,f)},y),a.createElement(Ft.rI,{fill:"#fff",width:"33px",height:"33px",style:{fill:"#fff"}})),a.createElement("div",{className:Nb().title},a.createElement(Qe.x,{t:i,ns:"bec-fe.web-sku-selector",i18nKey:"successTitle",components:{strong:a.createElement("span",{className:Nb().titlePoints})},values:{count:m}})),a.createElement("div",{className:Nb().middle},a.createElement("div",{className:Nb().leftCoupon},a.createElement(Nn.Ay,{src:d,className:Nb().goodsImg,alt:""}),a.createElement("div",{className:Nb().tagBox},a.createElement(fr.v,{type:"gray",breakWord:!0,style:{maxWidth:"96px"}},a.createElement("span",{className:Nb().salePrice},g?.join("")),a.createElement("span",{className:Nb().linePrice},h?.join("")))),a.createElement(Nn.Ay,{src:"https://aimg.kwcdn.com/upload_aimg/th/4abe5227-270e-4f9e-8415-43368bf6547d.png.slim.png",className:Nb().bottomShadow,alt:""})),a.createElement("div",{className:Nb().arrow},"+"),a.createElement("div",{className:Nb().rightCoupon},a.createElement("div",{className:Nb().rightCouponContent},a.createElement(Nn.Ay,{className:Nb().rightCouponBg,src:"https://aimg.kwcdn.com/upload_aimg/th/cbb169d3-c150-4ad9-8103-2a6b40181fc5.png.slim.png",alt:""}),a.createElement("div",{className:Nb().maxPoints},a.createElement(pb.y,{adapterScale:e=>{const{isScale:t,fontSize:n}=e;let a={};if(n<=12)return a={fontSize:"14px",overflow:"hidden",lineHeight:"16px",textOverflow:"ellipsis"},a;if(t){const e=n+2;a.lineHeight=`${e}px`,a.maxHeight=1*e}return a}},a.createElement("span",null,i("max")),a.createElement("span",{className:Nb().maxRewardPointsAmount},m)),a.createElement("p",{className:Nb().points},i("points")))),a.createElement(Nn.Ay,{src:"https://aimg.kwcdn.com/upload_aimg/th/4c21dd2d-f8e6-452b-964e-ae379255cd20.png.slim.png",alt:"",className:Nb().rightCouponBottomShadow}))),b?a.createElement("div",{className:Nb().bottom},a.createElement("div",{className:Nb().btn,onClick:E,role:"button",tabIndex:0},a.createElement("span",{className:Nb().btnText},i(b)),l?a.createElement("div",{className:o()(Nb().countdownWrap)},a.createElement(Qe.x,{t:i,ns:"bec-fe.web-sku-selector",i18nKey:"countdown2"},a.createElement(vb,{className:Nb().countdown,cellClassName:Nb().cell,colonClassName:Nb().colon,endTime:l,callback:t,isRTL:_}))):null),a.createElement(Nn.Ay,{src:"https://aimg.kwcdn.com/upload_aimg/th/ae4d4d89-56c6-4fce-8dc6-05ad728f926b.png.slim.png",alt:"",className:Nb().btnBottomShadow})):null)))};var Cb=e=>{let{closePopup:t,giftPopupVo:n,redeemSuccess:r}=e;const{t:i}=(0,p.B)("bec-fe.web-sku-selector",{keyPrefix:"RedeemPoints4Goods"}),{giftInfo:l,title:s,endTime:c,subTitle:u,buttonType:m="",subTitleOfRichText:d,popupStyleType:g,popupStyle:h}=n||{},{isRTL:f}=(0,Aa.Sz)(),y=()=>{m===fb.GoToCart&&(0,Zt.MJ)("/shopping_cart.html"),t()},{thumbUrl:_,priceStr:E,marketPriceStr:b,priceText:S}=l||{},v=gb?.[m],I=(0,pn.w)((()=>({maxWidth:"90px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})));return 1===g?"guide_use"===h?a.createElement(Ab,{giftPopupVo:n,closePopup:t}):a.createElement(Ka.Ay,{onClick:t,isShowClose:!1,showClassName:Sb().popupShow1},a.createElement(kn.nU,{page_el_sn:r?235967:null},a.createElement("div",{className:Sb().bg1},a.createElement("div",{className:Sb().closeIcon1,onClick:t,role:"button",tabIndex:0},a.createElement(db.A,{fill:"#fff",width:"33px",height:"33px",style:{fill:"#fff"}})),s?a.createElement("div",{className:Sb().title1},a.createElement("div",{className:Sb().title1Content},a.createElement(pb.y,{minFontSize:16,maxFontSize:26},a.createElement(yb,{items:s})))):null,_?a.createElement("div",{className:Sb().goods1Wrapper},a.createElement("div",{className:Sb().goodsHat}),a.createElement("div",{className:Sb().goods1},a.createElement("div",{className:Sb().goodsImgWrapper},a.createElement(Nn.Ay,{className:Sb().img1,src:_,alt:""}),c?a.createElement("div",{className:o()(Sb().timeWraper1,{[Sb().rtlReverse]:f})},a.createElement("span",{className:Sb().priceText1},a.createElement(pb.y,{minFontSize:18,maxFontSize:30,adapterScale:I},S)),a.createElement(Ib,{isRTL:f,endTime:c,callback:t})):null))):null,d?a.createElement("div",{className:Sb().desc1RichText},a.createElement(yb,{items:d})):null,v?a.createElement(kn.nU,{page_el_sn:m===fb.GoToCart?235968:null},a.createElement("div",{className:Sb().btns1},a.createElement(Ut.A,{className:Sb().btn1,size:"xl",type:Gt.el.primary,onClick:y,autoScale:!0},i(v)))):null))):a.createElement(Ka.Ay,{closeClassName:Sb().closeIcon,onClick:t,showClassName:Sb().popupShow},a.createElement(kn.nU,{page_el_sn:r?235967:null},a.createElement("div",{className:Sb().wrap},c?a.createElement("div",{className:Sb().header},a.createElement(Qe.x,{t:i,ns:"bec-fe.web-sku-selector",i18nKey:"countdown"},a.createElement(vb,{endTime:c,callback:t}))):null,a.createElement("div",{className:Sb().bg},s?.length?a.createElement("div",{className:Sb().title},a.createElement(yb,{items:s})):null,u?.length?a.createElement("div",{className:Sb().desc},u):null,_?a.createElement("div",{className:Sb().goods},a.createElement(Nn.Ay,{className:Sb().img,src:_,alt:""}),a.createElement("div",{className:Sb().price},a.createElement("span",{className:Sb().salePrice},E?.join("")),a.createElement("span",{className:Sb().linePrice},b?.join("")))):null,v?a.createElement(kn.nU,{page_el_sn:m===fb.GoToCart?235968:null},a.createElement("div",{className:Sb().btns},a.createElement(Ut.A,{className:Sb().btn,size:"lg",type:Gt.el.primary,onClick:y},i(v)))):null))))},Tb=n(65115),xb=n.n(Tb);var Pb,Rb=e=>{let{closePopup:t,data:n,goodsId:r,skuId:o,mallId:i,eventSn:l,pointsThreshold:s,onConfirmSuccess:c,onRedeemCallback:u}=e;const{t:m}=(0,p.B)("bec-fe.web-sku-selector",{keyPrefix:"RedeemPoints4Goods"}),{giftInfo:d,title:g,subTitle:h,subTitleOfRichText:f,buttonType:y,linkUrl:_}=n||{},{thumbUrl:E,priceStr:b,marketPriceStr:S,pointsThresholdText:v}=d||{},I=()=>{t()},w=y===fb.OK,k=y===fb.ShopNow,N=(0,Fa.A)((async()=>{const{result:e}=await(0,mb.b)({url:"/api/bologna/points/redeem",params:(0,ub.qi)({goodsId:r,skuId:o,mallId:i,eventSn:l,pointsThreshold:s}),config:{useAntiToken:!0}}),{giftPopupVo:n,failToastMsg:m,redeemSuccess:d}=e||{};if(u?.(e),t(),n){n?.buttonType===fb.GoToCart&&c?.(e);const t=(0,vn.A)(a.createElement(Cb,{redeemSuccess:d,giftPopupVo:n,closePopup:()=>t?.()}),{})}else m&&La.A.error(m)})),A=()=>{_&&(0,Zt.MJ)(_)};return a.createElement(Ka.Ay,{onClick:t},a.createElement(kn.nU,{page_el_sn:235964},a.createElement("div",{className:xb().wrap},g?.length?a.createElement("div",{className:xb().title},a.createElement(yb,{items:g})):null,h&&!f?a.createElement("div",{className:xb().desc},h):null,f&&f.length>0?a.createElement("div",{className:xb().subTitleWrapper},a.createElement(yb,{items:f})):null,E?a.createElement("div",{className:xb().goods},a.createElement(Nn.Ay,{className:xb().img,src:E,alt:""}),a.createElement("div",{className:xb().price},v?a.createElement("span",{className:xb().point},v):null,a.createElement("span",{className:xb().linePrice},S?.join("")))):null,a.createElement("div",{className:xb().btns},w?a.createElement(Ut.A,{className:xb().singleBtn,size:"lg",type:Gt.el.primary,onClick:I},m("ok")):k?a.createElement(Ut.A,{className:xb().singleBtn,size:"lg",type:Gt.el.primary,onClick:A},m("shopnow")):a.createElement(a.Fragment,null,a.createElement(Ut.A,{className:xb().btn,size:"lg",type:Gt.el.border,onClick:I},a.createElement(kn.nU,{page_el_sn:235966},a.createElement("span",null,m("cancel")))),a.createElement(Ut.A,{className:xb().btn,size:"lg",type:Gt.el.primary,onClick:N},a.createElement(kn.nU,{page_el_sn:235965},a.createElement("span",null,m("redeem")))))))))},Mb=class extends N.dD{constructor(){super(...arguments),this.queryRedeemPointsPopup=e=>this.postRiskNew({url:"/api/bologna/points/query/redemption_popup",params:e})}};let Db=(Pb=class extends N.zw{constructor(e){super(e),this.$RedeemPointsService=void 0,this.onRedeemPointsBtnClick=async e=>{let{goodsId:t,skuId:n}=e;const{moduleMap:r,query:o,getMallId:i}=this.$parent,{_oak_points_redeem_sn:l}=o||{},{pointsRedeemButtonMap:s}=r?.bottomButtonModule?.data||{},{pointsThreshold:c}=s?.[n]||{},u=i(),{result:m,success:d}=await this.$RedeemPointsService.queryRedeemPointsPopup({goods_id:t,sku_id:n,mall_id:u,points_activity_sn:l}),{giftPopupVo:p}=m||{};if(!p)return void La.A.error((0,Os.t)("main_detail.error_net_work",{ns:"goods"}));const g=()=>{h?.()},h=(0,vn.A)(a.createElement(Rb,{closePopup:g,data:p,onCancel:g,goodsId:t,skuId:n,mallId:i(),eventSn:l,pointsThreshold:c}),{})},(0,y_.Gn)(this)}get isRedeemPoints(){return 1===this.$parent.control?.enablePointsRedeemStyle}initService(e){this.$RedeemPointsService=new Mb(e)}},(0,d_.A)(Pb.prototype,"isRedeemPoints",[y_.EW],Object.getOwnPropertyDescriptor(Pb.prototype,"isRedeemPoints"),Pb.prototype),Pb);class Bb extends N.zw{constructor(e){super(e),(0,y_.Gn)(this)}}var Lb=n(26294),Ob=n.n(Lb);const Wb=(0,a.memo)((function(e){let{data:t}=e;const{tipText:n,tipButton:r}=t||{},o=(0,a.useCallback)((()=>(0,qn.L)(null)),[]);return(0,A.r)("RegionMismatchDialog"),a.createElement(In.Ay,null,a.createElement(on.A,{containerProps:{className:Ob().dialog}},a.createElement(on.A.Title,null,n),a.createElement("div",{className:Ob().btnArea,dir:"dir"},a.createElement(Ut.A,{className:Ob().btn,onClick:o,size:"xl"},r)),a.createElement(on.A.CloseButton,{onClick:o})))}));var zb=n(53826),Fb=n(90230);const Ub=e=>{const t=e?.isSimilarReview||!1,n=(e?.data||e||[]).map((e=>{const n=[];let{pictures:a,video:r,specs:o,goodsInfo:i,goodsName:l,goodsLinkUrl:s,goodsSeoLinkUrl:c,...u}=e||{};if(r){const t=e.video,a={url:t.coverImageUrl,width:t.coverImageWidth,height:t.coverImageHeight,videoUrl:t.url,videoHeight:t.height,videoWidth:t.width};n.push(a)}return(s||c)&&(i={...i||{},linkUrl:c||s,goodsName:l}),i?.seoLinkUrl&&(i.linkUrl=i.seoLinkUrl),u.goodsInfo=i,a&&n.push(...e.pictures),u.isSimilarReview=t,u.list=n,u.specs=o?JSON.parse(o):[],u}));return n.reviewMaxListSize=e.maxListSize??0,n.popupTitle=e.popupTitle??"",n};function Gb(e){e.isSimilarReview=!0;const t=Ub(e);return{...e,reviewList:t}}const Hb=e=>{const t=e.sku||[];e.sku=t;const n=e.goods||{};let a=[];const r=[],o=[];if(n.gallery&&n.gallery.sort(((e,t)=>e.priority-t.priority)).forEach((e=>{(e={...e,video:null}).type===fa.Detail&&r.push(e),e.type!==fa.Carousel&&e.type!==fa.NewCarousel||a.push(e),e.type===fa.Custom&&o.push(e)})),!a.length){const{hdThumbUrl:e,thumbUrl:r,imageUrl:o}=n,i=e||r||o;a=i?[{url:i}]:t.map((e=>({url:e.thumbUrl})))}try{const t=e.review.reviewData;t.reviewInfoList=Ub(t.reviewInfoList),t.mallReview?.reviewInfoList?.length&&(t.mallReview.reviewInfoList=Ub(t.mallReview.reviewInfoList)),t.similarReview?.reviewInfoList?.length&&(t.similarReview.reviewInfoList=Ub(t.similarReview.reviewInfoList))}catch(e){}return n?.video&&(a[0].video=n.video),n.bannerList=a,n.detailList=r,n.customImageList=o,n.skc=(n.skc||[])?.map((e=>(e.gallery?.length&&(e.gallery=e.gallery.sort(((e,t)=>e.priority-t.priority))),e))),e.isSkc=!!n.skc.length,e.goods=n,e};function jb(e){const t=e.result||{},{hasMore:n,controlParam:a}=t,r=t.data||{},{goodsList:o,title:i}=r,l={goodsList:(o||[]).map((e=>{const t={};return t.data=e,t})),hasMore:n||!1,title:i,controlParam:a};return{...e,result:l}}function Vb(e){const{crumbOptList:t}=e?.result?.data||{},n=(t||[]).map((e=>{const{optName:t,seoLinkUrl:n,linkUrl:a}=e||{};return{...e,href:n||a,title:t}}));return{...e,result:{crumbOptList:n}}}const qb="/api/oak/integration/render",Kb="/api/bg/circle/c/mall/newMallFavorite",$b="/api/oak/integration/refresh",Qb="/api/poppy/v1/opt",Yb="/api/poppy/v1/goods_detail",Jb="/api/bg/circle/c/mall/mallCompanyInfo",Xb="/api/oak/share_card/render",Zb="/api/bg/bg-uranus-api/uranus_cart/user_cart_num",eS="/api/bg/engels/reviews/mall/pic/list",tS="/api/bg/engels/reviews/pic/list",nS="/api/bg/engels/reviews/similar/pic/list",aS="/api/bg/engels/reviews/temu/faq/list",rS="/api/bg/bg-uranus-api/uranus_cart/add_cart",oS="/api/oak/carted_goods/query_tip",iS="/api/bg/morse/gift/pick",lS="/api/bg/bg-uranus-api/uranus_cart/promotion_info",sS="/api/oak/collect_order/query_benefit",cS="/api/bg/aristotle/recommend_paid_order_detail",uS="/api/oak/instructions/img_list",mS="/api/bg-barbera-api/privacy/adult/setting",dS="/api/bg-barbera-api/user/size/recommend",pS="/api/oak/goods/certification",gS="/api/oak/goods_extend/info",hS="/api/oak/restock/subscribe",fS="/api/oak/restock/unsubscribe",yS="/api/vela/goods/condition_definition";var _S,ES,bS,SS,vS,IS,wS,kS,NS,AS,CS,TS,xS,PS,RS,MS,DS,BS,LS,OS,WS,zS,FS,US,GS,HS,jS,VS,qS,KS,$S,QS,YS,JS,XS,ZS,ev,tv,nv,av,rv,ov,iv,lv,sv,cv,uv,mv,dv,pv,gv,hv,fv,yv,_v,Ev,bv,Sv,vv,Iv,wv,kv,Nv,Av,Cv,Tv,xv,Pv,Rv,Mv,Dv,Bv,Lv,Ov,Wv,zv,Fv,Uv,Gv,Hv,jv,Vv,qv,Kv,$v,Qv,Yv,Jv,Xv,Zv,eI,tI,nI,aI,rI,oI,iI,lI,sI,cI,uI,mI,dI,pI,gI,hI,fI,yI,_I,EI,bI,SI,vI,II,wI,kI,NI,AI,CI,TI,xI,PI,RI,MI,DI=class extends N.dD{constructor(){super(...arguments),this.queryCollectOrderInfo=e=>this.postRiskNew({url:sS,params:e}),this.queryOrderInfo=e=>this.postRiskNew({url:cS,params:{...e,...(0,Fb.N)()}}),this.loadRecommendData=e=>this.postRiskNew({url:(0,fm.w)(Yb,e),params:e,format:jb}),this.queryGuideFileImg=e=>this.basePost({url:uS,params:e})}queryCommentList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:eS,params:{...e,mode:1},format:Ub})}queryIndex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{useRiskShowDialog:t,useLoginRisk:n,...a}=e,r={};return t&&(r[w.D.VerifyRisk]=()=>{}),n&&(r[w.D.LoginRisk]=()=>{}),this.postRiskNew({url:qb,params:{...a,excludedKeys:["track","sku_ext","goods_ext"],errorCodeHandlers:r},format:Hb,errorHandler:async e=>{if(t&&(0,zb.OQ)(e)){const{errorType:t,errorCode:n,errorMsg:a,response:r}=e||{},{verify_auth_token:o}=r?.data||{};return{error:{errorType:t,errorCode:n,errorMsg:a,verifyAuthToken:o}}}if(n&&(0,zb.mi)(e)){const{errorType:t,errorCode:n,errorMsg:a,response:r}=e||{},{status:o}=r||{};return{error:{errorType:t,errorCode:n,errorMsg:a,status:o}}}return{error:(0,zb.nD)(e)}}})}refreshIndex(e){return this.postRiskNew({url:$b,params:{...e,excludedKeys:["track","sku_ext","goods_ext"]},format:Hb})}queryMallCompanyInfo(e){return this.postRiskNew({url:Jb,params:{...e,errorCodeHandlers:{[w.D.VerifyRisk]:()=>{}}},errorHandler:async t=>{if([w.D.VerifyRisk].includes(t.errorCode)){const n=t?.response?.data||{},{verify_auth_token:a,error_code:r}=n;if(!a||!r)return t;try{localStorage.setItem("VerifyAuthToken",a)}catch(e){}const o=await(0,_.Eo)({verifyAuthToken:a,verifyAuthType:r});if(o?.isSuccess)return this.queryMallCompanyInfo(e)}return{error:(0,zb.nD)(t)}}})}queryShareInfo(e){return this.postRiskNew({url:Xb,params:e})}queryShopCartInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.basePost({url:Zb,params:e})}addCart(e){return this.postRiskNew({url:rS,params:e})}queryMallFav(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.postRiskNew({url:Kb,params:e})}queryBreadCrumbInfo(e){const{useRiskShowDialog:t,useLoginRisk:n,...a}=e,r={};t&&(r[w.D.VerifyRisk]=()=>{}),n&&(r[w.D.LoginRisk]=()=>{});const o={pageSn:xn.LM,errorCodeHandlers:r,...a};return this.postRiskNew({url:(0,fm.w)(Qb,o),params:o,format:Vb,errorHandler:async e=>{if(t&&(0,zb.OQ)(e)){const{errorType:t,errorCode:n,errorMsg:a,response:r}=e||{},{verify_auth_token:o}=r?.data||{};return{error:{errorType:t,errorCode:n,errorMsg:a,verifyAuthToken:o}}}if(n&&(0,zb.mi)(e)){const{errorType:t,errorCode:n,errorMsg:a,response:r}=e||{},{status:o}=r||{};return{error:{errorType:t,errorCode:n,errorMsg:a,status:o}}}return{error:(0,zb.nD)(e)}}})}queryGoogleShoppingJson(e){return this.getRisk({url:"/api/product/schema",params:e,timeout:800})}queryCommentPicList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{activeTopIndex:t,...n}=e||{},a=t?eS:tS,r=t?1:0;return this.getRisk({url:a,params:{...n,mode:r},format:Ub})}querySkuInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.postRiskNew({url:"/api/oak/sku/info",params:{...e,excludedKeys:["track","sku_ext","goods_ext"]}})}queryFaqData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:aS,params:e})}queryReviewSeoCommonData(e){return this.postRiskNew({url:"/api/seo/get_common_biz_data",params:e})}querySortCommentPicList(e){let t="/api/bg/engels/reviews/mall/escalator/pic/list";return e.activeTopIndex||(t="/api/bg/engels/reviews/escalator/pic/list"),this.postRisk({url:t,params:e,format:Ub})}giftPick(e){return this.postRiskNew({url:iS,params:e})}queryPromotionInfo(e){return this.postRiskNew({url:lS,params:e})}queryShareInfoRes(e){return this.basePost({url:"/api/bg/engels/reviews/share/info",params:e})}queryTip(e){return this.postRiskNew({url:oS,params:e})}reportAdult(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.postRisk({url:mS,params:e})}querySizeRecommend(e){return this.postRiskNew({url:dS,params:e})}querySimilarCommentPicList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:nS,params:e,format:Gb})}queryCertification(e){return this.postRiskNew({url:pS,params:e})}queryGoodsExtend(e){return this.postRiskNew({url:gS,params:e})}subscribe(e){return this.postRiskNew({url:hS,params:{...e,...(0,Fb.L8)()}})}unSubscribe(e){return this.postRiskNew({url:fS,params:{...e,...(0,Fb.L8)()}})}queryUsedInfo(e){return this.postRiskNew({url:yS,params:{...e}})}};function BI(e,t,n){return n}const LI=["afterSale","activityInfo","control","custom","selectLocationId","delivery","deliveryTag","skuDeliveryTag","environment","energyTag","goods","guarantee","goodsExt","isSkc","mall","message","modelTryOn","payLater","payLaterAll","promotionUnderThePriceModule","promotionUnderThePriceModuleV2","payBenefit","review","richTextBlockUnderThePriceModule","serverTime","sizeGuide","sku","skuControl","video","waistBanner","specCustom","giftGoodsInfo","sectionList","multiItemsPercentage","guideFile","groupOrderBenefit","imgInstruction","moduleMap","description","skuModuleMap","sizeSpecModule","report","shipping","canNotSaleTip","matchingOutfits","commitment","selectSkuTip","error"],OI=["order","promotionDefaultDesc"];let WI=(_S=class extends N.LP{constructor(){super(),this.serverRenderTime=void 0,this.isMetaRefresh=!1,this.crawlerType=void 0,(0,m_.A)(this,"shoppingCartSkuAmountMap",ES,this),this.originShoppingCartSkuAmountMap={},this.prevShoppingCartSkuAmountMap=void 0,(0,m_.A)(this,"pageSN",bS,this),(0,m_.A)(this,"sizeSpecModule",SS,this),(0,m_.A)(this,"CartScene",vS,this),(0,m_.A)(this,"REVIEW_TYPE",IS,this),(0,m_.A)(this,"trackingInfo",wS,this),(0,m_.A)(this,"shoppingCartGoodsAmountMap",kS,this),(0,m_.A)(this,"groupOrderBenefit",NS,this),this.destoryShoppingCartDataListener=void 0,this.shoppingCartDataListener=()=>{this.destoryShoppingCartDataListener=(0,b.Xu)((e=>{let{cartGoodsNumMap:t,cartSkuNumMap:n}=e;this.isOperateMerging?this.isOperateMerging=!1:(this.shoppingCartSkuAmountMap=n,this.shoppingCartGoodsAmountMap=t,this.prevShoppingCartSkuAmountMap?this.prevShoppingCartSkuAmountMap=this.originShoppingCartSkuAmountMap:this.prevShoppingCartSkuAmountMap=n,this.originShoppingCartSkuAmountMap=n)}))},this.updateSkuAmountMap=e=>{this.shoppingCartSkuAmountMap=e},this.pageSn=xn.LM,this.activityRecStore=new G_(this),this.favStore=new lb(this),this.galleryStore=new Bb(this),this.addSuccessStore=new AE(this),this.addOrderInfoStore=new GE(this),this.compatibleVehiclesStore=new uE(this),this.commonCommentStore=new N_.A(this),this.commentBigPictureStore=new k_.A(this),this.reviewStore=new C_.Ay(this),this.customizedBtnStore=new JE(this),this.redeemPointsBtnStore=new Db(this),this.findSimilarStore=new cb(this),this.buyNowButtonStore=new QE(this),this.addCartButtonStore=new dE(this),(0,m_.A)(this,"title",AS,this),(0,m_.A)(this,"calcForCartShippingVo",CS,this),(0,m_.A)(this,"userRegion",TS,this),(0,m_.A)(this,"goodsId",xS,this),(0,m_.A)(this,"description",PS,this),(0,m_.A)(this,"deliveryTag",RS,this),(0,m_.A)(this,"moduleMap",MS,this),(0,m_.A)(this,"matchingOutfits",DS,this),this.isRobot=void 0,(0,m_.A)(this,"collectPromotion",BS,this),this.lastBestCollectPromotionIdList=void 0,(0,m_.A)(this,"googleShoppingJson",LS,this),(0,m_.A)(this,"error",OS,this),this.extendHeaderData={toolBarData:{showMessages:!0,showChatRoom:!1,showFeedback:!0},showEventCard:!1,seoNavGray:!1},(0,m_.A)(this,"isFav",WS,this),(0,m_.A)(this,"toggleFavorite",zS,this),this.offset=0,this.pageSize=xn.l_,(0,m_.A)(this,"optId",FS,this),(0,m_.A)(this,"optLevel",US,this),(0,m_.A)(this,"crumbOptList",GS,this),(0,m_.A)(this,"supportTouch",HS,this),this.setSupportTouch=e=>{this.supportTouch=e},(0,m_.A)(this,"queryBreadCrumbInfo",jS,this),this.showPopLogin=()=>{this.popLogin({onSuccess:()=>{(0,Zt.Qw)(location.href)}})},this.isLogin=void 0,(0,m_.A)(this,"query",VS,this),this.isNativePlatform=void 0,this.isIOSSystem=void 0,this.webpEnable=void 0,this.guideFile=void 0,this.switches={},this.dr=void 0,this.localInfo=void 0,this.getMallId=()=>{const{mall:e,goods:t}=this,{mallData:n}=e||{};return n?.mallId||t?.mallId},(0,m_.A)(this,"seoPageAltInfo",qS,this),(0,m_.A)(this,"countryIndexMap",KS,this),this.useRiskShowDialog=!1,this.useLoginRisk=!1,this.useOptSoldOutImg=!1,(0,m_.A)(this,"queryReviewSeoCommonData",$S,this),this.beforeQueryLayoutData=e=>{const{cookies:t,__res:n}=e,a=(0,Dh.Ay)("switches",e.__res,"")||{},r=!a.disableRiskDialog&&!ua()(t),o=!a.disableLoginRisk;this.layoutDataOptions={needApiErrorInfo:!0,banApiRiskError:r,banApiLoginError:o}},this.webLayoutError=void 0,this.afterQueryLayoutData=(e,t)=>{const{cartSkuNumMap:n,cartGoodsNumMap:a}=e?.headerData?.shoppingCartData||{};this.shoppingCartGoodsAmountMap=a||{},this.shoppingCartSkuAmountMap=n||{};const{apiErrorInfo:r}=e||{};Object.values(r||{}).length>0&&(this.webLayoutError=Object.values(r)[0])},this.pageListId=`goods_detail_page_${(0,dn.A)(6)}`,this.supported_apple_pay=void 0,this.sendExtraEvent=()=>{const{shoppingCartGoodsAmountMap:e,goods:t,query:n,activityInfo:a}=this,{soldQuantity:r,salePriceRich:o,goodsId:i=""}=t||{},l=+e?.[i]||0,{activityType:s,detailId:c}=a||{},u={op:"impr",page_el_sn:"205915",goods_added_status:l,is_sold_out:+(t?.status!==ya.Normal),freesia_scene:n?.freesia_scene,img_repl_type:t?.imageReplacedType,acty_type:s||0};c&&(u.detail_id=c),null!=r&&(u.render_showsales=r),(o||[]).forEach((e=>{let{type:t,text:n}=e;"currency"===t&&n&&(u.render_showcurrency=n),"price"===t&&n&&(u.render_showprice=n)})),(0,ge.OS)(u)},this.waitTimeUnAddCartSearch=15,this.notificationBackRecTimer={},(0,m_.A)(this,"isEmpty",QS,this),this.initCurrentSpecIdSelect=()=>{this.currentSpecIdSelect;const{currentIdSelect:e,skuTypeValues:t}=this.formatSkuData;if(this.currentSpecIdSelect=e,1===this.sku.length)return void this.sku[0]?.specs?.forEach((e=>{const{specKeyId:t="",specValueId:n}=e;this.currentSpecIdSelect[t]=n}));const n=this.control?.defaultSelectSpec||[],a=n.length,r=n.reduce(((e,t)=>{const{specKeyId:n="",specValueId:a}=t||{};return e[n]=a,e}),{});let o;this.sku.some((t=>{let n=0;return o={...e},(t.specs||[]).some((e=>{const{specKeyId:t="",specValueId:i}=e;return r[t]===i&&(o[t]=i,n++),n===a}))}))&&(this.currentSpecIdSelect=o);t.some((e=>!!this.currentSpecIdSelect[(e||{}).specKeyId]));t.forEach((e=>{const{specKeyId:t,values:n,valueIds:a}=e||{};1===n?.length&&(this.currentSpecIdSelect[t]=a[0])}))},this.getQueryIndexParams=()=>{const{sku_id:e,spec_id:t,spec_gallery_id:n,spec_ids:a,refer_page_sn:r,parent_order_sn:o}=this.query,i=Array.isArray(a)?a[a.length-1]:a;return{goods_id:this.goodsId,_oak_gallery:this.topGalleryUrl,_oak_sku_id:e,_oak_spec_id:t,_oak_spec_gallery_id:n,_oak_spec_ids:i,_oak_query_app_only:1,_oak_query_used_wish:1,_oak_show_leaf_category_low_price_tag:1,_oak_show_sale_price_suffix:1,_oak_show_what_rrp:1,spec_ids:"string"==typeof i?i.split(","):void 0,refer_page_sn:r,parent_order_sn:o,select_address:{address_snapshot_id:this.query?.address_snapshot_id,address_snapshot_sn:this.query?.address_snapshot_sn},_oak_stage:this.addOrderInfoStore.isFromAddOrderPage?xn.Ez.addToOrder:xn.Ez.goodsDetail,...(0,xn.bv)(this.query)}},(0,m_.A)(this,"afterSale",YS,this),(0,m_.A)(this,"delivery",JS,this),(0,m_.A)(this,"control",XS,this),this.skuControl=void 0,(0,m_.A)(this,"rank",ZS,this),this.environment=void 0,(0,m_.A)(this,"goods",ev,this),this.imgInstruction=void 0,(0,m_.A)(this,"custom",tv,this),(0,m_.A)(this,"guarantee",nv,this),this.isSkc=void 0,(0,m_.A)(this,"mall",av,this),this.message=void 0,(0,m_.A)(this,"payLater",rv,this),(0,m_.A)(this,"payLaterAll",ov,this),(0,m_.A)(this,"payLaterPricePos",iv,this),(0,m_.A)(this,"setPayLaterPricePos",lv,this),(0,m_.A)(this,"serverTime",sv,this),(0,m_.A)(this,"sizeGuide",cv,this),(0,m_.A)(this,"sku",uv,this),(0,m_.A)(this,"waistBanner",mv,this),(0,m_.A)(this,"review",dv,this),(0,m_.A)(this,"specCustom",pv,this),(0,m_.A)(this,"isSupportTouch",gv,this),this.initIsSupportTouch=()=>{"ontouchstart"in window&&(this.isSupportTouch=!0)},this.canNotSaleTip=void 0,(0,m_.A)(this,"addCartBenefitRich",hv,this),(0,m_.A)(this,"goToCartBenefitRich",fv,this),(0,m_.A)(this,"addCartBenefitRichBlack",yv,this),(0,m_.A)(this,"buyNowBenefitRich",_v,this),(0,m_.A)(this,"resetBuyNowBenefitRich",Ev,this),(0,m_.A)(this,"defaultGalleryIndex",bv,this),(0,m_.A)(this,"initGalleryIndex",Sv,this),this.sectionList=void 0,(0,m_.A)(this,"goodsSection",vv,this),(0,m_.A)(this,"initProductDetail",Iv,this),(0,m_.A)(this,"productDetailFlatList",wv,this),(0,m_.A)(this,"productDetail",kv,this),(0,m_.A)(this,"expParams",Nv,this),this.preloadFirstImgList=[],(0,m_.A)(this,"initReviewStoreData",Av,this),(0,m_.A)(this,"queryIndex",Cv,this),(0,m_.A)(this,"initSkuInfo",Tv,this),(0,m_.A)(this,"goodsProperty",xv,this),(0,m_.A)(this,"goodsEnhanceProperty",Pv,this),(0,m_.A)(this,"initGoodsProperty",Rv,this),(0,m_.A)(this,"refreshSku",Mv,this),(0,m_.A)(this,"queryShopCartInfo",Dv,this),(0,m_.A)(this,"isManualChangeSpec",Bv,this),(0,m_.A)(this,"skuInfoMap",Lv,this),(0,m_.A)(this,"goodsExt",Ov,this),(0,m_.A)(this,"qtyModifyPriceMap",Wv,this),this.updateQtyModifyPriceMap=(e,t)=>{this.qtyModifyPriceMap[e]=t},this.initQtyModifyPriceMap=()=>{this.addCountLimit>1&&(this.qtyModifyPriceMap[this.addCountLimit]=this.moduleMap?.qtyModifyModule?.data?.price)},this.querySkuInfoReqId=0,(0,m_.A)(this,"querySkuInfo",zv,this),(0,m_.A)(this,"refreshIndex",Fv,this),(0,m_.A)(this,"recomendLoaded",Uv,this),(0,m_.A)(this,"recommendGoodsList",Gv,this),(0,m_.A)(this,"recomendHasMore",Hv,this),(0,m_.A)(this,"recomendTitle",jv,this),(0,m_.A)(this,"loadRecommendData",Vv,this),this.formatSkuData={},this.updateFormatSkuData=()=>{this.formatSkuData=function(e,t,n){const a=[],r={},o={},i={},l={},s={},c={},u={},m={},d={},p={};return(t||[]).forEach(((e,t)=>{const{specId:n}=e;l[n]||(l[n]=t)})),(e||[]).forEach((e=>{const{specs:t,skuId:g,isOnsale:h}=e,f=n[g]||{};o[g]={...e,salePriceTextRich:f},(t||[]).forEach((e=>{const{specKey:t,specKeyId:n,specValue:r,specValueId:o,specKeyShowName:f}=e||{},y=`${n}${o}`;h&&(p[y]=!0),u[o]||(u[o]=e),m?.[y]||(m[y]=[]),d[y]||(d[y]={}),d[y][g]||(m[y].push(g),d[y][g]=g);const _=a.find((e=>e?.specKeyId===n)),E=l[o],b="number"==typeof E;if(void 0===c?.[o]&&(c[o]=r),_){const{values:e,valueIds:t}=_;t.includes(o)||(b?(e[E]=r,t[E]=o):(e.push(r),t.push(o)))}else{i[n]=null;const e=[],l=[];b?(e[E]=r,l[E]=o):(e.push(r),l.push(o)),a.push({type:t,specKeyId:n,specKeyShowName:f,values:e,valueIds:l})}s[n]||(s[n]=t)}));const y=Xa(t||[]);r[y]=g})),{skuTypeValues:a,skuInfos:o,currentIdSelect:i,specKeyId2SpecKeyMap:s,specIdStrToSkuId:r,specValueId2SpecValueMap:c,specValueId2SpecMap:u,specIdStr2SkuIdsMap:m,specIdIsOnsaleMap:p}}(this.sku,this.goods?.skc,this.skuSalePriceRichMap)},this.getSpecLocalOptimalSku=e=>{if(!e)return null;const{sku:t,formatSkuData:n,bestSkuByQuantityTip:a}=this,{stockQuantityTipThreshold:r}=this.control||{},{skuTypeValues:o,skuInfos:i,specIdStrToSkuId:l}=n;if(Object.entries(e).filter((e=>e[1]))?.length===o?.length){const t=Za(e);return i?.[l?.[t]]}return Js({sku:t,formatSkuData:n,currentSpecIdSelect:e,bestSkuByQuantityTip:a,stockQuantityTipThreshold:r})},(0,m_.A)(this,"currentSpecIdSelect",qv,this),(0,m_.A)(this,"setCurrentSpecIdSelect",Kv,this),(0,m_.A)(this,"handleSpecChangedById",$v,this),(0,m_.A)(this,"qty",Qv,this),(0,m_.A)(this,"setQty",Yv,this),this.addCartRequestId=0,this.addCart=async e=>{let{skuId:t,curGoodsId:n,amount:a,cartScene:r=xn.xi.MainGoods,operateType:o=Sa.Add,clickEventData:i={page_el_sn:200061},addedAmount:l,afterAddCartSucc:s,customizedInfoDict:c,selectedSku:u,extraAddCartOptions:m}=e;(0,A.A)("operateCart",this.getBizLogOptions()),await this.addOperateCart({skuId:t,curGoodsId:n,amount:a,cartScene:r,operateType:o,clickEventData:i,addedAmount:l,afterAddCartSucc:s,customizedInfoDict:c,selectedSku:u,extraAddCartOptions:m})},this.isOperateMerging=!1,(0,m_.A)(this,"addOperateCart",Jv,this),this.addCartCallback=async e=>{let{remoteData:t,addData:n,openedPopupTypes:r,originRemoteData:o,selectedSku:i}=e;if(o?.isApiError||o?.error)return void(0,A.A)("sku operateCart error",this.getBizLogOptions({e:JSON.stringify(o)}));const{skuId:l,goodsId:s}=i||this.selectedSku||{},{amount:c,operateType:u,cartScene:m,isAdd:d,clickEventData:p={page_el_sn:200061}}=n||{},{success:g}=t||{},h=m===xn.xi.BigPicture;(0,A.A)("sku operateCart "+(g?"success":"failed"),this.getBizLogOptions(g?{}:{e:JSON.stringify(t)}));const f=u===Sa.Delete;g?(this.queryShopCartInfo(),!r?.length&&!f&&c>0&&!h&&((e,t,n)=>{const r=(0,vn.A)(a.createElement(sm,(0,q.A)({goods:e,store:t},n,{onClose:()=>{r?.()}})))})(this.goods,this,{selectedSku:i,extend:{popupCoreHead:t?.toast}})):this.refreshSku();const y=g?0:2;d&&(0,ge.OS)({op:"click",cart_scene:m,cart_type:y,sku_id:l,goods_id:s,...p})},this.getBizLogOptions=e=>({tags:{page_sn:this.pageSn},fields:{hasBee:(0,la.Ri)("_bee")?1:0,...e}}),(0,m_.A)(this,"bannerRatio",Xv,this),(0,m_.A)(this,"galleryIndex",Zv,this),(0,m_.A)(this,"setGalleryIndex",eI,this),(0,m_.A)(this,"modelTryOn",tI,this),this.updateModelTryOn=e=>{this.modelTryOn={...this.modelTryOn,selectUnit:e}},(0,m_.A)(this,"queryFaqData",nI,this),this.graySceneList=["cp97166","cp145133","cp146095","cp147255","cp166075","cp142994","cp147195","cp143314","cp158269","cp166780","cp176780","cp174289","cp184047","cp187798","cp186607",...I_.Hq,...__.SE],(0,m_.A)(this,"globalResizeTrigger",aI,this),(0,m_.A)(this,"triggerGlobalResize",rI,this),(0,m_.A)(this,"ifTriggerShaking",oI,this),(0,m_.A)(this,"setIfTriggerShaking",iI,this),(0,m_.A)(this,"skuShow",lI,this),(0,m_.A)(this,"giftGoodsInfo",sI,this),(0,m_.A)(this,"addGiftPick",cI,this),(0,m_.A)(this,"queryOrderInfo",uI,this),(0,m_.A)(this,"isShowMarketPrice",mI,this),this.setIsShowMarketPrice=e=>{this.isShowMarketPrice=e},(0,m_.A)(this,"report",dI,this),(0,m_.A)(this,"isChangeSpecBySkuSelector",pI,this),this.setIsChangeSpecBySkuSelector=e=>{this.isChangeSpecBySkuSelector=e},(0,m_.A)(this,"isSkuSelectorCloseChange",gI,this),(0,m_.A)(this,"setIsSkuSelectorCloseChange",hI,this),(0,m_.A)(this,"sideBarPromo",fI,this),this.setSideBarPromo=e=>{this.sideBarPromo=e},(0,m_.A)(this,"promotionCarousel",yI,this),(0,m_.A)(this,"bottomButtonBenefit",_I,this),this.promotionRequestId=0,(0,m_.A)(this,"quantitySelectorBenefit",EI,this),this.promotionLastUniqueId="",(0,m_.A)(this,"queryWaistBannerInit",bI,this),(0,m_.A)(this,"queryCollectPromotion",SI,this),(0,m_.A)(this,"selectLocationId",vI,this),(0,m_.A)(this,"initSelectLocationId",II,this),(0,m_.A)(this,"updateSelectLocationId",wI,this),(0,m_.A)(this,"promotionUnderThePriceModule",kI,this),(0,m_.A)(this,"promotionUnderThePriceModuleV2",NI,this),(0,m_.A)(this,"richTextBlockUnderThePriceModule",AI,this),(0,m_.A)(this,"payBenefit",CI,this),this.querySizeRecommend=async()=>await this.$service.querySizeRecommend({goods_id:this.goodsId}),(0,m_.A)(this,"activityInfo",TI,this),(0,m_.A)(this,"waistBannerFreightType",xI,this),this.isGShoppingRobot=void 0,(0,m_.A)(this,"commitment",PI,this),(0,m_.A)(this,"video",RI,this),(0,m_.A)(this,"shipping",MI,this),this.mallDetailInfoData=null,this.isFetchingMallDetailInfo=!1,this.getMallDetailInfo=async()=>{if(this.isFetchingMallDetailInfo)return null;if(this.mallDetailInfoData)return this.mallDetailInfoData;const e=this.mall?.mallData?.mallId||this.goods.mallId;if(!e)return null;this.isFetchingMallDetailInfo=!0;const t=await this.$service.queryMallCompanyInfo({mall_id:e,is_managed_mall_id:!0,source_type:x_.UJ.GOODS});return this.isFetchingMallDetailInfo=!1,t.success&&t.result?(this.mallDetailInfoData=t,this.mallDetailInfoData):null},this.showContentTransition=!1,this.updateShowContentTransition=e=>{this.showContentTransition=e},this.getSkuBySpecId=e=>{const{specIdStrToSkuId:t,skuInfos:n}=this.formatSkuData;return n[t[Za(e)]]||{}},this.initQty=()=>{const{addMoreInfo:e}=this.moduleMap?.encourageAddMoreModule?.data||{},{reachThresholdItemNum:t}=e||{};this.showAddMoreInfo&&0===this.addedAmount?this.setQty(t):this.addCountLimit>1&&this.setQty(this.addCountLimit)},this.galleryRef=void 0,this.updateGalleryRef=e=>{this.galleryRef=e},(0,y_.Gn)(this),this.shoppingCartDataListener(),this.updateFormatSkuData(),this.serverRenderTime=Date.now()}static createMetaParams(e){const{goods_id:t}=e||{};return{page_type:"g",page_id:Array.isArray(t)?t[0]:t}}get addedAmount(){const{skuId:e}=this.selectedSku||{};return this.addOrderInfoStore.isAddOrderScene||this.isSupportNewCustomized?0:this.shoppingCartSkuAmountMap?.[e]||0}get isSpecialRegion(){return["12","144"].includes(`${this.localInfo?.region}`)}get recParams(){return{mrkRec:this.query.mrk_rec,mainGoodsIds:this.goodsId?[this.goodsId]:void 0,linkUrlBypass:this.query.bottom_rec_bypass}}get hasSidebar(){return!this.addOrderInfoStore.order?.allowPurchase&&this.webLayoutData?.headerData?.sidebarLayoutSwitch&&!!this.webLayoutData?.headerData?.cartNum}get showCollectOrderBar(){return!(this.showFindSimilarBar||this.goodsSoldOut||this.addOrderInfoStore.isAddOrderScene||this.selectedSku?.sensitiveProductTip||this.goods.sensitiveProductTip)}get selectedSkuSoldOut(){const e=this.selectedSkuSpec?.length,{skuId:t,isOnsale:n}=this.selectedSku||{},{skuTypeValues:a}=this.formatSkuData||{};return!!t&&!n||!t&&e>0&&e===a?.length}get showFindSimilarBar(){return this.supportFindSimilar&&this.selectedSkuSoldOut}get moduleAfterSale(){return this.moduleMap?.servicePromiseModule?.data?.afterSale}get moduleTaxPolicy(){return this.moduleMap?.taxPolicyModule?.data?.taxPolicy}get moduleTags(){return this.moduleMap?.marketingTagModule?.data?.tag}get goodsSoldOut(){return!this.goods.isOnsale||!this.formatSkuData.skuTypeValues.length}get shopRankInfo(){return this.moduleMap?.mallModule?.data?.mallData?.shopRankInfo}get moduleMallTags(){return this.moduleMap?.mallModule?.data?.mallData?.mallTags}get moduleMallTSellerags(){return this.moduleMap?.mallModule?.data?.mallData?.comprehensiveMallTags}get moduleMallResponsibility(){return this.moduleMap?.mallModule?.data?.responsibilityDivision}get moduleMallTraderInformationEntrance(){return this.moduleMap?.mallModule?.data?.traderInformationEntrance}get bestSeller(){return this.moduleMap?.bestSellerModule?.data?.newRank}get gmtBaseParams(){const{catId1:e,catId2:t,catId3:n,catId4:a}=this.goods||{};return{item_category:"number"==typeof e?`${e}`:e,item_category2:"number"==typeof t?`${t}`:t,item_category3:"number"==typeof n?`${n}`:n,item_category4:"number"==typeof a?`${a}`:a}}initServices(e,t){const{goods_id:n}=t?.query||{},a=Array.isArray(n)?n[0]:n;this.$service=new DI(e,{requestContext:t}),this.favStore.initService(e),this.activityRecStore.initService(e),this.addSuccessStore.initService(e),this.addOrderInfoStore.initService(e),this.commonCommentStore.initService(e),this.compatibleVehiclesStore.initService(e),this.redeemPointsBtnStore.initService(e),this.footerLinkNoFollow=((0,Dh.Ay)("switches",t.__res,"")||{}).footerNofollow;const r=(0,Dh.Ay)("navLayoutConfig",t,""),o="A"===(0,E_.M6)({...r,salt:r.graySalt},a);this.extendHeaderData={...this.extendHeaderData,seoNavGray:o}}get curGoodsOptId(){return this.crumbOptList?.[this.crumbOptList?.length-1]?.optId}get fromOrderDetail(){return!!this.query?.from_order_detail}get pageAltMap(){return this.seoPageAltInfo?.pageAltMap}get seoDataPageAlt(){return this.seoPageAltInfo?.pageAlt}getDatasource(){return[e=>{const{userInfo:t,query:n,cookies:a,__req:r,__res:o}=e,i=r?.crawlerType,{goods_id:l,parent_order_sn:s}=n,c=Array.isArray(l)?l[0]:l;this.addOrderInfoStore.updateOrderSn(s),this.localInfo=(0,Ot.ON)(e);let u="";u=e?e.userAgent||"":window.navigator.userAgent;const m=(0,h.H_)(u),d=(0,Dh.Ay)("switches",o,"")||{},p=[xn.h$.A,xn.h$.C].includes((0,Dh.Ay)("use_prefetch_size",o)||xn.h$.D),g=[xn.h$.A,xn.h$.C].includes((0,Dh.Ay)("use_prefetch_goods",o)||xn.h$.D);return{...(0,T_.Ay)(e),switches:d,waitTimeUnAddCartSearch:(0,Dh.Ay)("waitTimeUnAddCartSearch",e.__res),useRiskShowDialog:!d.disableRiskDialog&&!ua()(a),useLoginRisk:!d.disableLoginRisk,useOptSoldOutImg:g,isLogin:!!t,goodsId:c,isRobot:m,isGShoppingRobot:(0,b_.A)(n,u),pageSn:xn.LM,crawlerType:i,usePrefetchVideo:p}},{queryIndex:{dump:!0,loader:async e=>{let t="";t=window.location.pathname,await this.queryIndex({_oak_share_url:t})}},queryReviewSeoCommonData:{dump:!0,loader:async e=>{await this.queryReviewSeoCommonData(e)}},queryBreadCrumbInfo:{dump:!0,loader:this.queryBreadCrumbInfo},queryGoogleShoppingJson:{dump:!0,loader:async e=>{let{query:t}=e;const{goods_id:n,sku_id:a}=t;if(!n||!a)return;const r=Array.isArray(n)?n[0]:n,o=await this.$service.queryGoogleShoppingJson({sku_id:a,goods_id:r});(0,y_.h5)((()=>{this.googleShoppingJson=o?.result}))}}}]}get useSyncAddToCartInfo(){return{useSyncAddToCart:1===this.grayConfig?.cp143314?.val}}get isSEOSoldOut(){return this.goods?.status===ya.SEOSoldOut&&!this.isEmpty}get isNormalStatus(){return this.goods?.status===ya.Normal&&!this.isEmpty}async prepareClientData(){this.sendExtraEvent();const e=M_();this.query.is_back&&e||(R_?(0,Ys.T)((()=>localStorage.setItem(P_,R_))):console.error("listId is null")),this.canNotSaleTip&&((e,t)=>{const{tipButton:n,tipText:r}=t||{};if(n&&r)(0,qn.P)({store:e,popupNode:a.createElement(Wb,{data:t})}).then((()=>(0,Zt.MJ)("/")))})(this,this.canNotSaleTip)}get addCountLimit(){return 1!==this.control?.detailSupportExperimentControl?.minBuyQty||this.addOrderInfoStore?.isAddOrderScene||this.isGiftGoods||this.isSupportNewCustomized||this.redeemPointsBtnStore.isRedeemPoints||this.showAddMoreInfo||this.selectedSku?.limitQuantity&&this.selectedSku?.limitQuantity<this.moduleMap?.qtyModifyModule?.data?.minQty?0:this.moduleMap?.qtyModifyModule?.data?.minQty||0}get isRegular(){return 1!==this.control.bigPictureStyle}get specStatusById(){return function(e,t){const n={},a={};return t.forEach((t=>{const{specs:n}=t;(n||[]).forEach((t=>{const{specKeyId:n,specValueId:r}=t,o={...e,[n]:r};a[`${n}${r}`]={specKeyId:n,specValueId:r,mock:o}}))})),Object.values(a).forEach((e=>{let{mock:a,specKeyId:r,specValueId:o}=e;const i=((e,t)=>{for(const n of t)if(n.isOnsale){const t={},{specs:a}=n;(a||[]).forEach((e=>{const{specKeyId:n,specValueId:a}=e;t[n]=a}));let r=!0;for(const n in e)e[n]&&t[n]!==e[n]&&(r=!1);if(r)return n.skuId}return!1})(a,t);n[r]={...n[r],[o]:i}})),n}(this.currentSpecIdSelect,this.sku)}get selectedSku(){const{specIdStrToSkuId:e,skuInfos:t}=this.formatSkuData;return t[e[Za(this.currentSpecIdSelect)]]||{}}get selectedSkuSpec(){const{formatSkuData:e,currentSpecIdSelect:t}=this;return Xs({formatSkuData:e,currentSpecIdSelect:t})}get picSpecList(){const{showPictureSpecKeyId:e,skuThumbSpecKeyId:t}=this.control||{},n=e||t,{skcIdAlts:a}=this.pageAltMap||{},{specIdStr2SkuIdsMap:r,skuInfos:o}=this.formatSkuData,i=function(e){let{formatSkuData:t,specKeyId:n}=e;const{skuTypeValues:a}=t;return n?a.find((e=>e?.specKeyId===n)):null}({formatSkuData:this.formatSkuData,specKeyId:n});return i?(i.values||[]).map(((e,t)=>{const l=i.valueIds?.[t],s=`${n}${l}`,c=Array.from(r[s])?.map((e=>o?.[e])).filter((e=>!!e)),u=c?.every((e=>!e.isOnsale)),m=c?.[0],{thumbUrl:d,specShowImageUrl:p,specs:g}=m||{},{skc:h}=this.goods||{},f=h?.find((e=>e.specId===l)),{skcId:y=""}=this.goods.skc?.find((e=>{const{specId:t,specValueId:n}=e||{};return g?.some((e=>e.specValueId===t&&e.specValueId===n))||{}}))||{},_=g?.find((e=>e.specKeyId===n&&e.specValueId===l));return{imgUrl:(this.isSkc?f?.gallery?.[0]?.url:p)||d,text:e,specValueId:l,alt:a?.[y],spec:_,isAllSoldout:u,skcId:y}})):[]}get optimalSku(){const{sku:e,currentSpecIdSelect:t,formatSkuData:n,isManualChangeSpec:a,bestSkuByQuantityTip:r}=this,{showPictureSpecKeyId:o,defaultSkuId:i,stockQuantityTipThreshold:l}=this.control||{},{skuTypeValues:s}=n,{specKeyId:c}=s[s.length-1]||{};return Js({sku:e,formatSkuData:n,currentSpecIdSelect:t,selectedLastSpec:null!==t[c]&&c!==o,defaultSkuId:i,isManualChangeSpec:a,bestSkuByQuantityTip:r,stockQuantityTipThreshold:l})}get topGalleryUrl(){const e=Array.isArray(this.query.top_gallery_url)?this.query.top_gallery_url[0]:this.query.top_gallery_url;if("string"==typeof e&&!e.includes("watermark"))return(0,d.VG)(e.split("?")[0])}initBannerRatio(){const{width:e,height:t}=this.gallery[0]||{};e&&t&&(this.bannerRatio=t/e)}get gallery(){if(this.isSkc){const e=(()=>{const e=this.goods?.skc?.[0];return this.isRobot&&e&&e.gallery?.[0]?.video?.videoUrl?e:this.selectedSkc||e||{}})(),{skcId:t="",gallery:n}=e||{},{skcIdAlts:a}=this.pageAltMap||{},r=this.goods.skc?.findIndex((e=>this.selectedSkuSpec.some((t=>t.specValueId===e.specId))),{});return n?.map(((e,n)=>({...e,alt:a?.[t],video:0===n&&0===r?this.goods?.video:null})))||[]}return this.goods.bannerList||[]}get selectedSkc(){return this.goods.skc?.find((e=>this.selectedSkuSpec.some((t=>t.specValueId===e.specId))),{})}get currentPictureSpecValueId(){const{showPictureSpecKeyId:e}=this.control||{};if(!e)return;const t=this.selectedSkuSpec.find((t=>{let{specKeyId:n}=t;return n===e}));return t?.specValueId}get originConcatGallery(){const{isSkc:e,sku:t,gallery:n,goods:a,pageAltMap:r}=this,{skuIdAlts:o}=r||{};if(e)return n;const i=(a.gallery||[]).filter((e=>e.type===fa.Spec)).map((e=>{const{specKeyId:n,specValueId:a}=e?.showTextSpecs?.[0]||{},{skuId:r,goodsId:i}=t.find((e=>e.specs?.some((e=>e.specKeyId===n&&e.specValueId===a))))||{},l=r?o?.[r]:"";return{...e,skuId:r,goodsId:i,alt:l}})).sort(((e,t)=>e.priority-t.priority));return n.concat(i)}get concatGallery(){const{originConcatGallery:e,isSkc:t,control:n}=this,{defaultSelectSpec:a}=n||{};let r=e;const{specId:o}=this.selectedSkc||{};return this.defaultGalleryIndex>0&&!this.isRobot&&(t&&a?.find((e=>e.specValueId===o))||!t)&&(r=[].concat(e[this.defaultGalleryIndex],e.slice(0,this.defaultGalleryIndex),e.slice(this.defaultGalleryIndex+1))),r}get supportFindSimilar(){const{control:e,selectedSku:t}=this,{isOnsale:n}=t||{};return!!e?.findSimilar&&!n}get preOrderTip(){const{skuId:e}=this.selectedSku||{};return this.skuInfoMap[e]?.selectSkuTip}get isGiftGoods(){return!!this.giftGoodsInfo}get isGiftSupportAddOrder(){return this.control?.supportGiftAddOrder&&this.query?.parent_order_sn&&this.isGiftGoods}get skuSalePriceRichMap(){const{priceModule:e}=this.moduleMap||{};return e?.data?.skuSalePriceRichMap||{}}get skuSalePricePrefixRichMap(){const{priceModule:e}=this.moduleMap||{};return e?.data?.skuSalePricePrefixRich||{}}get skuSalePriceSuffixRichMap(){const{priceModule:e}=this.moduleMap||{};return e?.data?.skuSalePriceSuffixRich||{}}get goodsSalePriceRich(){const{priceModule:e}=this.moduleMap||{};return e?.data?.goodsSalePriceRich||{}}get skuSalePriceInfoRichMap(){const{priceModule:e}=this.moduleMap||{};return e?.data?.skuSalePriceInfoRich||{}}get promotionExtraPriceOffMap(){const{priceModule:e}=this.moduleMap||{};return e?.data?.promotionExtraPriceOffMap||{}}get selectedBenefitTags(){if(!this.selectedSku?.skuId)return null;const{specs:e}=this.selectedSku,{hotSpecList:t}=this.specCustom||{},n=e?.some((e=>{let{specKeyId:n,specValueId:a}=e;t?.some((e=>e.specKeyId===n&&e.specValueId===a))}));return(0,Yh.A)({showFireIcon:n})}get customerServiceData(){const{customerServiceModule:e}=this.moduleMap||{};return e?.data?.customerServiceData||{}}get brandCardData(){const{brandCardModule:e}=this.moduleMap||{};return e?.data?.brandCard||{}}get mallBrandCard(){const{brandCardModule:e}=this.moduleMap||{};return e?.data?.mallBrandCard||{}}get isShowShareBlock(){return 1===this.moduleMap?.shareModule?.showModule}get isShowReport(){return!!this.report?.jumpUrl}get showProductWarning(){const{tips:e}=this.goods?.productWarning||{};return e?.some?.((e=>{const{richText:t,floatingLayer:n}=e||{},{entranceText:a}=n||{};return!!t?.textRich?.length||!!a?.textRich?.length}))}get similarSizeSpecData(){const{overSizeOutfit:e}=this.moduleMap?.skuSpecSelectorModule?.data||{};return e}get linePriceExplainSumerKey(){return 1===this.moduleMap?.priceModule?.control?.linePriceStyle?this.moduleMap?.priceModule?.data?.linePriceDialogContent:""}get showNewDomStructure(){return 1===this.grayConfig?.cp186607?.val}get quantityContentShow(){return this.control.detailSupportExperimentControl?.quantityContentShow}get recentlyLowestPriceNotice(){return this.moduleMap?.priceModule?.data?.lowestRecentPrice}get bestSkuByQuantityTip(){return 1===this.control.detailSupportExperimentControl?.bestSkuByQuantityTip}get shareInfo(){return this.moduleMap?.shareModule?.data?.share||{}}get isShowPayLaterV2(){const e=this.payLaterAll||{};return Object.values(e).some((e=>!!e?.firstPeriodContentList?.length))}get supportCollectBenefit(){return!this.isGiftGoods&&!this.addOrderInfoStore.isAddOrderScene&&!this.redeemPointsBtnStore.isRedeemPoints}get isShowNewSize(){return!!this.sizeSpecModule&&this.sku?.length>1}get isSupportNewCustomized(){const{skuId:e}=this.selectedSku||{};return e&&this.control?.detailSupportExperimentControl?.supportNewCustom}get isShowPayBenefit(){return!!this.payBenefit?.promotionDisplayContentList?.length}get supportSizeRecommend(){const{control:e}=this||{};return 1===e?.detailSupportExperimentControl?.supportSizeRecommend}get supportActivityAtmosphere(){return!!this?.activityInfo?.defaultActivityName}get buyNowButton(){const e=this.moduleMap?.bottomButtonModule?.data?.buyNowButton,{checkoutPageLink:t}=e||{};return t?e:null}get supportFreeShippingInWaistBanner(){return 1===this.control?.detailSupportExperimentControl?.collectOrder4FreeShipping1}get isShowAgePopup(){const{data:e,showModule:t}=this.moduleMap?.ageConfirmationPopupModule||{},{popupType:n,popupRich:a}=e?.popup||{};return t&&n===Qn.AgeVerifyPopup&&a?.textRich?.length}get soldoutPicSpecValueIds(){if(1===this.control?.detailSupportExperimentControl?.foldSoldOutColorSpec){const e=this.picSpecList?.filter((e=>e.isAllSoldout));return e?.length>=2?e:[]}return[]}get showSpecSoldoutTagV1(){return(0,wd.xc)(this.localInfo?.region)===Id.DR.eu?1===this.grayConfig?.cp166075?.pcShowSoldOut:1===this.grayConfig?.cp147255?.pcShowSoldOut}get showSpecSoldoutTagV2(){return(0,wd.xc)(this.localInfo?.region)===Id.DR.eu?2===this.grayConfig?.cp166075?.pcShowSoldOut:2===this.grayConfig?.cp147255?.pcShowSoldOut}get isGoodsDetailRecSupportU2i(){return 1===this.grayConfig?.cp166780?.val}get isEnhanceSpecStyle(){return(0,wd.xc)(this.localInfo?.region)===Id.DR.eu?3===this.grayConfig?.cp180501?.strengthenExp:3===this.grayConfig?.cp173855?.strengthenExp}get isEnhancedStockGroupClearanceStyle(){return 1===this.control?.detailSupportExperimentControl?.enhancedStockGroupClearanceStyle}get explicitlySelected(){const{specs:e}=this.optimalSku||{};return!!e?.every?.((e=>this.currentSpecIdSelect[e?.specKeyId]===e?.specValueId))?jc.t.ExplicitlySelected:jc.t.UnExplicitlySelected}get showGoodsDetailModuleOptimized(){return 1===this.control?.detailSupportExperimentControl?.goodsDetailModuleOptimized}get hideBottomRec(){return 1==+this.query?.hide_bottom_recommend&&!this.isRobot}get skuSoldOutToast(){const{toastModule:e}=this.moduleMap||{};return e?.data?.skuSoldOutToast}get showActivityPriceWrap(){return 3===this.control?.detailSupportExperimentControl?.activityFrameStyle}get titleSpecHighlight(){const{goodsDetailTitleModule:e}=this.moduleMap||{};return e?.data?.titleSpecHighlight}get showSizePopupParams(){return 1===this.control?.detailSupportExperimentControl?.passGroupToSizePage?{chooseGroupId:this.selectLocationId}:null}get showRankWithSale(){const{rankWithSale:e}=this.moduleMap?.bestSellerModule?.data||{},{mallTag:t}=this.moduleMap?.salesTipModule?.data||{},{category:n,bestSeller:a}=e||{},{foldReviewStar:r}=this.control?.detailSupportExperimentControl||{};return a?.textRich?.length&&n?.textRich?.length&&r&&!t?.text}get isSupportQuickMergeByFe(){return 1===this.grayConfig?.cp176780?.val}get isTimeLimitedActivitySupportQuickMerge(){return 1===this.grayConfig?.cp174289?.val}get showAddMoreInfo(){const{addMoreInfo:e}=this.moduleMap?.encourageAddMoreModule?.data||{},{reachThresholdItemNum:t,reachThresholdRich:n,unreachedThresholdRich:a}=e||{};return!!t&&!!n&&!!a&&1===this.sku?.length&&this.supportCollectBenefit&&!this.isSupportNewCustomized}},ES=(0,d_.A)(_S.prototype,"shoppingCartSkuAmountMap",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),bS=(0,d_.A)(_S.prototype,"pageSN",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xn.LM}}),SS=(0,d_.A)(_S.prototype,"sizeSpecModule",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vS=(0,d_.A)(_S.prototype,"CartScene",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xn.xi}}),IS=(0,d_.A)(_S.prototype,"REVIEW_TYPE",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xn.qf}}),wS=(0,d_.A)(_S.prototype,"trackingInfo",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xn.Sw}}),kS=(0,d_.A)(_S.prototype,"shoppingCartGoodsAmountMap",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),NS=(0,d_.A)(_S.prototype,"groupOrderBenefit",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,d_.A)(_S.prototype,"addedAmount",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"addedAmount"),_S.prototype),AS=(0,d_.A)(_S.prototype,"title",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Temu"}}),CS=(0,d_.A)(_S.prototype,"calcForCartShippingVo",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),TS=(0,d_.A)(_S.prototype,"userRegion",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),xS=(0,d_.A)(_S.prototype,"goodsId",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),PS=(0,d_.A)(_S.prototype,"description",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),RS=(0,d_.A)(_S.prototype,"deliveryTag",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),MS=(0,d_.A)(_S.prototype,"moduleMap",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),DS=(0,d_.A)(_S.prototype,"matchingOutfits",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),BS=(0,d_.A)(_S.prototype,"collectPromotion",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),LS=(0,d_.A)(_S.prototype,"googleShoppingJson",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),OS=(0,d_.A)(_S.prototype,"error",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,d_.A)(_S.prototype,"isSpecialRegion",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"isSpecialRegion"),_S.prototype),(0,d_.A)(_S.prototype,"recParams",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"recParams"),_S.prototype),(0,d_.A)(_S.prototype,"hasSidebar",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"hasSidebar"),_S.prototype),(0,d_.A)(_S.prototype,"showCollectOrderBar",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"showCollectOrderBar"),_S.prototype),(0,d_.A)(_S.prototype,"selectedSkuSoldOut",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"selectedSkuSoldOut"),_S.prototype),(0,d_.A)(_S.prototype,"showFindSimilarBar",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"showFindSimilarBar"),_S.prototype),(0,d_.A)(_S.prototype,"moduleAfterSale",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"moduleAfterSale"),_S.prototype),(0,d_.A)(_S.prototype,"moduleTaxPolicy",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"moduleTaxPolicy"),_S.prototype),(0,d_.A)(_S.prototype,"moduleTags",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"moduleTags"),_S.prototype),(0,d_.A)(_S.prototype,"goodsSoldOut",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"goodsSoldOut"),_S.prototype),(0,d_.A)(_S.prototype,"shopRankInfo",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"shopRankInfo"),_S.prototype),(0,d_.A)(_S.prototype,"moduleMallTags",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"moduleMallTags"),_S.prototype),(0,d_.A)(_S.prototype,"moduleMallTSellerags",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"moduleMallTSellerags"),_S.prototype),(0,d_.A)(_S.prototype,"moduleMallResponsibility",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"moduleMallResponsibility"),_S.prototype),(0,d_.A)(_S.prototype,"moduleMallTraderInformationEntrance",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"moduleMallTraderInformationEntrance"),_S.prototype),(0,d_.A)(_S.prototype,"bestSeller",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"bestSeller"),_S.prototype),(0,d_.A)(_S.prototype,"gmtBaseParams",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"gmtBaseParams"),_S.prototype),WS=(0,d_.A)(_S.prototype,"isFav",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zS=(0,d_.A)(_S.prototype,"toggleFavorite",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{if(!this.isLogin)return void this.showPopLogin();const e=this.mall.mallData||{},{mallId:t,followerNumUnit:n}=e||{},a=!this.isFav;this.isFav=a;const r=await this.$service.queryMallFav({is_favorite:a,mall_id:t,follower_num_unit:n||["0","Followers"]}),{result:o}=r||{},{favoriteResult:i,followerNumUnit:l,followedShopsGuideTips:s,followedShopsGuideType:c,followedShopsGuideImage:u,followedShopsGuideTitle:m}=o||{};(0,y_.h5)((()=>{if(!i)return this.isFav=!a,(0,Kc.A)((0,Os.t)("store.operationFailedToast",{ns:"goods"}));this.mall={...this.mall,mallData:{...this.mall?.mallData||{},followerNumUnit:l}},1===c&&u?(0,A_.y)({followedShopsGuideTitle:m,followedShopsGuideImage:u,followedShopsGuideTips:s}):s&&La.A.success(s)}))}}}),FS=(0,d_.A)(_S.prototype,"optId",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 62}}),US=(0,d_.A)(_S.prototype,"optLevel",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),GS=(0,d_.A)(_S.prototype,"crumbOptList",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,d_.A)(_S.prototype,"curGoodsOptId",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"curGoodsOptId"),_S.prototype),HS=(0,d_.A)(_S.prototype,"supportTouch",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),jS=(0,d_.A)(_S.prototype,"queryBreadCrumbInfo",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{if(!this.goodsId)return;const e=await this.$service.queryBreadCrumbInfo({list_id:`pc_crumb_list_${(0,dn.A)(6)}`,pageSn:xn.LM,offset:0,page_size:-1,mainGoodsId:this.goodsId,scene:"pc_crumb_list",useRiskShowDialog:this.useRiskShowDialog,useLoginRisk:this.useLoginRisk});(0,y_.h5)((()=>{e?.error&&(this.error=e.error);const{crumbOptList:t}=e?.result||{};this.crumbOptList=t||[]}))}}}),VS=(0,d_.A)(_S.prototype,"query",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qS=(0,d_.A)(_S.prototype,"seoPageAltInfo",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,d_.A)(_S.prototype,"pageAltMap",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"pageAltMap"),_S.prototype),(0,d_.A)(_S.prototype,"seoDataPageAlt",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"seoDataPageAlt"),_S.prototype),KS=(0,d_.A)(_S.prototype,"countryIndexMap",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$S=(0,d_.A)(_S.prototype,"queryReviewSeoCommonData",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{if(!this.goodsId)return;let t="";t=window.location.pathname;const n={page_id:this.goodsId,page_type:"g",biz_scenes:["seo_page_alt_info","hidden_multi_country_index"],origin_url:t},a=await this.$service.queryReviewSeoCommonData(n),{seoPageAltInfo:r,countryIndexMap:o}=a?.result||{};(0,y_.h5)((()=>{this.seoPageAltInfo=r,this.countryIndexMap=o}))}}}),(0,d_.A)(_S.prototype,"isSEOSoldOut",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"isSEOSoldOut"),_S.prototype),(0,d_.A)(_S.prototype,"isNormalStatus",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"isNormalStatus"),_S.prototype),QS=(0,d_.A)(_S.prototype,"isEmpty",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),YS=(0,d_.A)(_S.prototype,"afterSale",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),JS=(0,d_.A)(_S.prototype,"delivery",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),XS=(0,d_.A)(_S.prototype,"control",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ZS=(0,d_.A)(_S.prototype,"rank",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ev=(0,d_.A)(_S.prototype,"goods",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),tv=(0,d_.A)(_S.prototype,"custom",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),nv=(0,d_.A)(_S.prototype,"guarantee",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),av=(0,d_.A)(_S.prototype,"mall",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),rv=(0,d_.A)(_S.prototype,"payLater",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ov=(0,d_.A)(_S.prototype,"payLaterAll",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),iv=(0,d_.A)(_S.prototype,"payLaterPricePos",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{offsetLeft:0,offsetWidth:0,parentWidth:0}}}),lv=(0,d_.A)(_S.prototype,"setPayLaterPricePos",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.payLaterPricePos=e}}}),sv=(0,d_.A)(_S.prototype,"serverTime",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Math.ceil(Date.now()/1e3)}}),cv=(0,d_.A)(_S.prototype,"sizeGuide",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),uv=(0,d_.A)(_S.prototype,"sku",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mv=(0,d_.A)(_S.prototype,"waistBanner",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dv=(0,d_.A)(_S.prototype,"review",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),pv=(0,d_.A)(_S.prototype,"specCustom",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gv=(0,d_.A)(_S.prototype,"isSupportTouch",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hv=(0,d_.A)(_S.prototype,"addCartBenefitRich",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),fv=(0,d_.A)(_S.prototype,"goToCartBenefitRich",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yv=(0,d_.A)(_S.prototype,"addCartBenefitRichBlack",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_v=(0,d_.A)(_S.prototype,"buyNowBenefitRich",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ev=(0,d_.A)(_S.prototype,"resetBuyNowBenefitRich",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.buyNowBenefitRich={}}}}),bv=(0,d_.A)(_S.prototype,"defaultGalleryIndex",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sv=(0,d_.A)(_S.prototype,"initGalleryIndex",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const e=(()=>{if(this.selectedSku&&this.selectedSku.galleryId&&this.sku?.length>1)return this.originConcatGallery.findIndex((e=>e.id===this.selectedSku.galleryId));if(this.topGalleryUrl){const e=(0,za.Nw)(this.topGalleryUrl);return this.originConcatGallery.findIndex((t=>(0,za.Nw)(t.url)===e))}return-1})();e>=0&&(this.defaultGalleryIndex=e)}}}),vv=(0,d_.A)(_S.prototype,"goodsSection",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u_}}),Iv=(0,d_.A)(_S.prototype,"initProductDetail",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{e?.floorList?.length&&(this.productDetailFlatList=e.floorList?.reduce(((e,t)=>{let{items:n,type:a}=t;const r=e.length;return[ea.video,ea.img].includes(a)?(n=n||[],n?.forEach(((e,t)=>{e&&(e.index=r+t,e?.video?.videoUrl&&(e.videoUrl=e.video.videoUrl))})),e.push(...n),e):e}),[])),this.productDetail=e}}}),wv=(0,d_.A)(_S.prototype,"productDetailFlatList",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kv=(0,d_.A)(_S.prototype,"productDetail",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nv=(0,d_.A)(_S.prototype,"expParams",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Av=(0,d_.A)(_S.prototype,"initReviewStoreData",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{const{reviewData:n}=e||{},{expParams:a}=n||{};this.expParams=a,this.reviewStore.initDataAction(n,t)}}}),Cv=(0,d_.A)(_S.prototype,"queryIndex",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.goodsId)return;const n={...e.getQueryIndexParams(),...t,useRiskShowDialog:e.useRiskShowDialog,useLoginRisk:e.useLoginRisk},a=await e.$service.queryIndex(n),{order:r,...o}=a||{};(0,y_.h5)((()=>{LI.forEach((t=>{const n=o[t];null!=n&&(e[t]=n)})),e.updateFormatSkuData(),e.goodsSection=(e=>{let t;return e?.length&&(t=e.reduce(((e,t)=>(t?.sectionId&&(e[t.sectionId]=t.sectionId),e)),{})),ua()(t)?u_:t})(e.sectionList),e.initProductDetail(o?.productDetail),e.addOrderInfoStore.initData(r),e.initReviewStoreData(o?.review,!1),e.initCurrentSpecIdSelect(),e.initSelectLocationId(),e.initBannerRatio(),e.initGalleryIndex(),e.initSkuInfo(o),e.initGoodsProperty(),e.initQty(),e.initQtyModifyPriceMap(),e.favStore.initDataAction({goodsId:e.goodsId,initIsFav:!!e.goods.inWishlist,supportWish:e.control?.supportExperimentControl?.supportWish||0});const{errorCode:t}=a?.error||{};if(t===_a.NotExist&&(e.isEmpty=!0),e.isRobot&&t===_a.Limit&&(e.isMetaRefresh=!0),e.isFav=!!e?.mall?.mallData?.favorite,!e.isRobot){const t=e.goods?.status===ya.Normal&&!e.isEmpty;e.useOptSoldOutImg&&!t||(e.preloadFirstImgList=e.concatGallery?.map((e=>{let{url:t}=e;return t}))||[])}}))}}}),Tv=(0,d_.A)(_S.prototype,"initSkuInfo",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{skuInfos:t}=this.formatSkuData,n=Object.keys(t).reduce(((e,n)=>(e[n]={loading:!1,loaded:!1,control:t[n]?.control},e)),{});this.skuInfoMap={...n,...this.skuInfoMap};const a={};if(this.isEnhancedStockGroupClearanceStyle){const{forExplicitlySelected:e}=this.activityInfo?.defaultSkuActivityInfo||{};this.activityInfo.defaultSkuActivityInfo&&void 0!==e&&au(e)&&(a.skuActivityInfo={[e]:this.activityInfo.defaultSkuActivityInfo})}if(this.control?.defaultSkuId&&this.skuInfoMap[this.control.defaultSkuId]){const t=this.skuInfoMap[this.control.defaultSkuId]||{};this.skuInfoMap[this.control.defaultSkuId]={...t,selectSkuTip:e?.selectSkuTip,delivery:e?.delivery,skuSalePriceTipRich:this.moduleMap?.priceModule?.data?.skuSalePriceTipRich?.[this.control.defaultSkuId]||[],...a}}}}}),xv=(0,d_.A)(_S.prototype,"goodsProperty",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pv=(0,d_.A)(_S.prototype,"goodsEnhanceProperty",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Rv=(0,d_.A)(_S.prototype,"initGoodsProperty",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const e=this.goods?.goodsProperty,t=[],n=[];if(Array.isArray(e)){if(e.forEach((e=>{1===e?.enhanceDisplay&&e?.enhanceIcon?t.push(e):n.push(e)})),3===t?.length)return this.goodsEnhanceProperty=t,void(this.goodsProperty=n);this.goodsProperty=e}}}}),Mv=(0,d_.A)(_S.prototype,"refreshSku",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const e=this.$service.refreshIndex(this.getQueryIndexParams()),t=await e;(0,y_.h5)((()=>{t.sku&&(this.sku=t.sku,this.updateFormatSkuData())}))}}}),Dv=(0,d_.A)(_S.prototype,"queryShopCartInfo",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const e=await this.$service.queryShopCartInfo({shipping_scene:2,pageSn:xn.LM});return(0,y_.h5)((()=>{this.calcForCartShippingVo=e.result?.calcForCartShippingVo||{}})),e}}}),Bv=(0,d_.A)(_S.prototype,"isManualChangeSpec",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lv=(0,d_.A)(_S.prototype,"skuInfoMap",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ov=(0,d_.A)(_S.prototype,"goodsExt",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wv=(0,d_.A)(_S.prototype,"qtyModifyPriceMap",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),zv=(0,d_.A)(_S.prototype,"querySkuInfo",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{useCache:!0};const{optimalSku:n,skuInfoMap:a,qty:r,isEnhancedStockGroupClearanceStyle:o}=e,{skuId:i,skuExt:l,goodsId:s}=n||{},c=a[i];if(!i)return;if((()=>{if(!t?.useCache)return!1;if(o){const{skuActivityInfo:e,skuSalePricePrefixInfoRich:n,skuSalePriceSuffixRich:a,skuSalePriceInfoRich:r}=c||{},o=[n,a,r].every((e=>!!e?.length));return!(!e?.[t?.explicitly_selected]&&!e?.[jc.t.All]||!o)}return!(!c.loading&&!c.loaded)})())return;e.querySkuInfoReqId++;const u=e.querySkuInfoReqId,m=await e.$service.querySkuInfo({goods_id:s,sku_id:i,sku_ext:l,select_address:{address_snapshot_id:e.query?.address_snapshot_id,address_snapshot_sn:e.query?.address_snapshot_sn},goods_ext:e.goodsExt,scene:ka.GoodsDetail,sku_count:e.selectedSku?.skuId&&e.originShoppingCartSkuAmountMap?.[i]||r,_oak_show_what_rrp:1,_oak_support_hire_purchase_tag:1,...t});m&&u===e.querySkuInfoReqId&&(0,y_.h5)((()=>{const e=m.delivery,n=m.selectSkuTip||null;c.selectSkuTip=n,c.control=m.control;const{skuSalePriceInfoRich:a,skuSalePriceTipRich:r,skuSalePricePrefixInfoRich:l,skuSalePriceSuffixRich:s}=m.priceModule||{};if(c.skuSalePricePrefixInfoRich=l||[],c.skuSalePriceSuffixRich=s||[],c.skuSalePriceInfoRich=a||[],o){const{forExplicitlySelected:e}=m.skuActivityInfo||{},n=e===t.explicitly_selected?e:jc.t.All,a=au(e)&&m.skuActivityInfo?m.skuActivityInfo:null;c.skuActivityInfo={...c.skuActivityInfo,[n]:a}}e&&(c.delivery=e),m.deliveryTag&&(c.deliveryTag=m.deliveryTag),i&&(c.skuSalePriceTipRich=r||[]),m?.error||(c.loaded=!0)}))}}}),Fv=(0,d_.A)(_S.prototype,"refreshIndex",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const e=this.$service.refreshIndex(this.getQueryIndexParams()),t=await e;(0,y_.h5)((()=>{this.updateFormatSkuData(),this.addOrderInfoStore.initData(t?.order),this.favStore.updateIsFavRecord(!!t?.goods?.inWishlist)}))}}}),Uv=(0,d_.A)(_S.prototype,"recomendLoaded",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gv=(0,d_.A)(_S.prototype,"recommendGoodsList",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Hv=(0,d_.A)(_S.prototype,"recomendHasMore",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),jv=(0,d_.A)(_S.prototype,"recomendTitle",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Vv=(0,d_.A)(_S.prototype,"loadRecommendData",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{const{offset:t}=this,n=e?void 0:-1,a=this.isRobot?xn.l_/2:this.pageSize,r=D_(!!this.query?.is_back),o={listId:e?`${r}_sold_out_similar`:`${r}_recommend`,pageSn:xn.LM,pageElSn:e?200970:200444,source:10016,offset:t,optId:n,pageSize:a,pageListId:this.pageListId,scene:e?xn.Oe.SOLD_OUT:this.isGoodsDetailRecSupportU2i?xn.Oe.NORMAL4U2i:xn.Oe.NORMAL,optType:e?void 0:2,...this.recParams},i=await this.$service.loadRecommendData(o),{result:l,success:s}=i;if(!s)return(0,y_.h5)((()=>{this.recomendLoaded=!0})),(0,w_.y)({page:"load recommend fail",goods_id:this.goodsId,sold_out:e?1:0}),1;(0,y_.h5)((()=>{this.recomendLoaded=!0,this.recomendHasMore=l.hasMore;const{res:e}=(0,za.k6)({data:l.goodsList||[],scene:"similarAndMallRecommend",filter:(e,t)=>t?.filter((t=>(0,za.yQ)(e,t?.data)))});this.recommendGoodsList=this.recommendGoodsList.concat(e||[]),this.recomendTitle=l.title,this.offset=this.recommendGoodsList.length,this.pageSize=l?.controlParam?.pageSize||xn.l_}))}}}),(0,d_.A)(_S.prototype,"isRegular",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"isRegular"),_S.prototype),(0,d_.A)(_S.prototype,"specStatusById",[y_.EW,BI],Object.getOwnPropertyDescriptor(_S.prototype,"specStatusById"),_S.prototype),(0,d_.A)(_S.prototype,"selectedSku",[y_.EW,BI],Object.getOwnPropertyDescriptor(_S.prototype,"selectedSku"),_S.prototype),(0,d_.A)(_S.prototype,"selectedSkuSpec",[y_.EW,BI],Object.getOwnPropertyDescriptor(_S.prototype,"selectedSkuSpec"),_S.prototype),(0,d_.A)(_S.prototype,"picSpecList",[y_.EW,BI],Object.getOwnPropertyDescriptor(_S.prototype,"picSpecList"),_S.prototype),(0,d_.A)(_S.prototype,"optimalSku",[y_.EW,BI],Object.getOwnPropertyDescriptor(_S.prototype,"optimalSku"),_S.prototype),qv=(0,d_.A)(_S.prototype,"currentSpecIdSelect",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Kv=(0,d_.A)(_S.prototype,"setCurrentSpecIdSelect",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const t="function"==typeof e?e(this.currentSpecIdSelect):e;if(this.currentSpecIdSelect=t,this.selectedSkuSpec?.length&&this.optimalSku?.galleryId){const e=this.concatGallery.findIndex((e=>e.id===this.optimalSku.galleryId));e>=0&&this.setGalleryIndex(e)}this.selectedSkuSpec?.length===this.sku[0]?.specs?.length&&ua()(this.selectedSku)&&(0,D.fL)(new Error(`sku find by specIdHashToSkuId error ${JSON.stringify(this.selectedSkuSpec||{})}`),{error_message:"sku find by specIdHashToSkuId error"})}}}),$v=(0,d_.A)(_S.prototype,"handleSpecChangedById",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t,n)=>{this.setCurrentSpecIdSelect((n=>{const a=()=>{const n=this.sku?.filter?.((e=>!!e.isOnsale))||[],a={};let r=!1,o=[];return n?.some((n=>{let{specs:i}=n;return r=!!i?.some((n=>{let{specKeyId:a,specValueId:r}=n;return e===a&&t===r})),r&&(o=i,i?.forEach((e=>{let{specKeyId:t="",specValueId:n}=e;a[t]=n}))),r})),{currentSpecIdSelect:a,specs:o}},r=this.specStatusById?.[e]?.[t];if(!this.control.findSimilar&&!r){const{currentSpecIdSelect:e}=a();return ua()(e)?n:e}const{skuTypeValues:o,specValueId2SpecValueMap:i,specIdIsOnsaleMap:l}=this.formatSkuData||{};if(1===this.control?.detailSupportExperimentControl?.soldOutSpecJumpNext&&!r&&e===o?.[0]?.specKeyId&&o?.length>1&&l?.[`${e}${t}`]&&o.every((e=>e.values?.length>=2))&&n[e]!==t){const{sizeSpecValueContentMap:e}=this.sizeSpecModule?.sizeSpecContentMap?.[this.selectLocationId]||{},t=o?.[1]?.specKeyId,r=n?.[t],l=i?.[r],s=e?.[r]?.specValueStr||l,{currentSpecIdSelect:c,specs:u}=a(),{specValueId:m,specValue:d}=u?.find((e=>e.specKeyId===t))||{};if(m&&((0,ge.OS)({op:"impr",page_el_sn:245005}),Xr.A.success((0,Os.t)("soldoutAutoChangeSpecToast",{ns:"goods",val1:s,val2:e?.[m]?.specValueStr||d}))),!ua()(c))return c}const s=n[e]===t,c=this.isSkc&&e===this.control?.showPictureSpecKeyId;return{...n,[e]:!s||c?t:null}})),this.isManualChangeSpec=!0,n&&(0,ge.E0)({...n,sku_id:this.selectedSku?.skuId}),(0,A.A)("chooseSpecItem",{fields:{data:JSON.stringify({specKeyId:e,specValueId:t,sku_id:this.selectedSku?.skuId||0})}})}}}),Qv=(0,d_.A)(_S.prototype,"qty",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Yv=(0,d_.A)(_S.prototype,"setQty",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.qty=e}}}),Jv=(0,d_.A)(_S.prototype,"addOperateCart",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{let{skuId:t,curGoodsId:n,amount:a,cartScene:r,operateType:o,clickEventData:i,addedAmount:l,afterAddCartSucc:s,customizedInfoDict:c,selectedSku:u,extraAddCartOptions:m}=e;const d="number"==typeof l?l:this.addedAmount,p=o===Sa.Delete,g=p?0:d+Number(a),{customizedSnapshots:h,customizedOperateType:f=1,customizedText:y}=c?.optCustomizedInfo||{},_={pageSn:xn.LM,goodsId:n||this.goodsId,skuId:t,fromNum:d,num:g,operateType:Zs({num:g,fromNum:d,operateType:o}),cartDataType:1,extraMap:{...(0,xn.bv)(this.query)},pageElSn:214972,clientCartScene:`${r}`,addSuccToastType:1,customizedInfo:c?.optCustomizedInfo?{customizedSnapshots:h?.length?(0,_m.qi)(h):void 0,customizedOperateType:f,customizedText:h?.length?void 0:y}:null},E=++this.addCartRequestId,b=g-d,S=this.sku.find((e=>e.skuId===t))?.normalPriceStr,v=e=>{const{success:n,reason:l,remoteData:c,openedPopupTypes:m,originRemoteData:d}=e||{};if(this.isOperateMerging=!1,!n&&l===S_.U.MERGED_UNCHANGED||E!==this.addCartRequestId||!c)return;(0,y_.h5)((()=>{this.setSideBarPromo({pcSideBarPromo:c?.pcSideBarPromo})}));const p={remoteData:c,addData:{amount:a,operateType:o,cartScene:r,clickEventData:{...i,sku_id:t,sku_number:b,sku_price:S},isAdd:b>0},selectedSku:u,openedPopupTypes:m,originRemoteData:d};this.addCartCallback(p),c?.success&&s?.()},I=r===xn.xi.BigPicture;this.useSyncAddToCartInfo.useSyncAddToCart&&this.updateSkuAmountMap({...this.shoppingCartSkuAmountMap,[t]:g});const w=await(0,v_.A)(_,{ifForbidToast:e=>{let{openedPopupTypes:t,remoteData:n}=e;return n?.success&&!t?.length&&!p&&!I&&Number(a)>0},asyncCallback:v,syncCallback:v,isSync:this.useSyncAddToCartInfo.useSyncAddToCart&&!d,...m});if(!w)return null;const{success:k,fakeOperatedData:N,reason:A}=w;let C=g;if(k&&N&&A===S_.U.OPERATION_MERGED){this.isOperateMerging=!0;const{num:e}=N;C=e}else this.isOperateMerging=!1;this.updateSkuAmountMap({...this.shoppingCartSkuAmountMap,[t]:C})}}}),(0,d_.A)(_S.prototype,"topGalleryUrl",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"topGalleryUrl"),_S.prototype),Xv=(0,d_.A)(_S.prototype,"bannerRatio",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Zv=(0,d_.A)(_S.prototype,"galleryIndex",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),eI=(0,d_.A)(_S.prototype,"setGalleryIndex",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.galleryIndex===e||e<0||e>this.concatGallery.length-1||(this.galleryIndex=e)}}}),(0,d_.A)(_S.prototype,"gallery",[y_.EW,BI],Object.getOwnPropertyDescriptor(_S.prototype,"gallery"),_S.prototype),(0,d_.A)(_S.prototype,"selectedSkc",[y_.EW,BI],Object.getOwnPropertyDescriptor(_S.prototype,"selectedSkc"),_S.prototype),(0,d_.A)(_S.prototype,"currentPictureSpecValueId",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"currentPictureSpecValueId"),_S.prototype),(0,d_.A)(_S.prototype,"originConcatGallery",[y_.EW,BI],Object.getOwnPropertyDescriptor(_S.prototype,"originConcatGallery"),_S.prototype),(0,d_.A)(_S.prototype,"concatGallery",[y_.EW,BI],Object.getOwnPropertyDescriptor(_S.prototype,"concatGallery"),_S.prototype),(0,d_.A)(_S.prototype,"supportFindSimilar",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"supportFindSimilar"),_S.prototype),(0,d_.A)(_S.prototype,"preOrderTip",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"preOrderTip"),_S.prototype),tI=(0,d_.A)(_S.prototype,"modelTryOn",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),nI=(0,d_.A)(_S.prototype,"queryFaqData",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>await this.$service.queryFaqData({page:1,size:10})}}),aI=(0,d_.A)(_S.prototype,"globalResizeTrigger",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rI=(0,d_.A)(_S.prototype,"triggerGlobalResize",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.globalResizeTrigger+=1}}}),oI=(0,d_.A)(_S.prototype,"ifTriggerShaking",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),iI=(0,d_.A)(_S.prototype,"setIfTriggerShaking",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.ifTriggerShaking=e}}}),lI=(0,d_.A)(_S.prototype,"skuShow",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{let{addType:t=xn.H$.addCart,cartScene:n=xn.xi.MainGoods,needInitCheckSpec:a=!1,pageSource:r,beforeShow:o=za.lQ,autoAddSingleSku:i=!0,directAddGoodsId:l,directAddSkuId:s,currentSpecIdSelect:c,isAutoShowToast:u=!0,defaultGoodsNumber:m,needSyncSpecInfo:d,defaultSkuId:p,frontControl:g,onSkuShow:h,trackingInfo:f}=e;const{goods:y,selectedSku:_,buyNowButtonStore:E,addOrderInfoStore:b,formatSkuData:S}=this,{orderSn:v,promotionDefaultDesc:I,isGoodsAddOrderAB:w,afterAddToOrder:k,addOrderSkuCallback:N,order:C}=b,{buyNowCallback:T}=E,{refer_p_rec:x,refer_p_search:P}=this.query,{goodsId:R}=y||{},M=t===xn.H$.addOrder,D=t===xn.H$.buyNow,B=(()=>{if(M)return C?.buttonDesc||(0,Os.t)("main_detail.btnAllowPurchaseText",{ns:"goods"})})(),L=!M&&!w,O=f_()({...g_()(this,[...LI,"isManualChangeSpec"]),...g_()(this.addOrderInfoStore,OI)});if(O)if(O.control=O.skuControl,O.isChangeSpec=O.isManualChangeSpec,D){if(s)return void T({goodsId:R,skuId:s,goodsNumber:m,clickEventData:f});O.bottomButtonSection={buttonList:[{type:7}]}}else 2===g?.supportBuyNowSkuMultiButton&&(O.bottomButtonSection={buttonList:[{type:8},{type:7}]});fu.hb.show({imprEventData:f,clickEventData:f,actionType:M?Fr.QO.ADD_TO_ORDER:D?Fr.QO.COMMON:Fr.QO.ADD_TO_CART,notAutoClose:M,pageSn:xn.LM,params:{goods_id:R||this.goodsId,_oak_sku_id:_?.skuId,_oak_page_source:r},isRemote:!1,mainData:O,beforeShow:o,onSkuShow:h,grayConfig:this.grayConfig,parentOrderSn:v,promotionDefaultDesc:I,showAdded:L,addCart:!0,...(()=>{const e={...c||this.currentSpecIdSelect},{sizeGuideSpecKeyId:t="",detailSupportExperimentControl:n}=this.control||{};this.optimalSku?.isOnsale&&1===n?.skuPanelDefaultSelect&&this.optimalSku?.specs?.filter((e=>e.specKeyId!==t))?.forEach((t=>{const{specKeyId:n,specValueId:a}=t||{};e[n]||(e[n]=a)}));return{defaultSelectSpecs:Xs({formatSkuData:S,currentSpecIdSelect:e})}})(),frontControl:g,cartScene:n,defaultSkuId:p,defaultGoodsNumber:m,initSkuAmountMap:this.shoppingCartSkuAmountMap,hideAllDetailsEntry:!0,confirmContent:B,needInitCheckSpec:a,onChangeSizeUnit:this.updateModelTryOn,directAddGoodsId:l,directAddSkuId:s,hideAddOrderList:!(M&&w||1===C?.parentOrder?.addPurchaseShowCloseTimeExperimentVo?.styleVersion),addCartWithAddOrder:!M&&w,isAutoShowToast:u,skuInfoParams:{skuInfoScene:ka.DefaultSkuSelector},userCloseCallback:e=>{let{currentSpecIdSelect:t,qty:n,isChangeSpec:r,selectLocationId:o}=e;o&&this.updateSelectLocationId(o),a&&((r||d)&&this.setCurrentSpecIdSelect(t||{}),this.setQty(n||1),this.setIfTriggerShaking(!0),this.setIsChangeSpecBySkuSelector(r),this.setIsSkuSelectorCloseChange())},afterAddToOrder:k,autoAddSingleSku:i,recExtraData:{refer_p_rec:x,refer_p_search:P},callback:e=>{const{addCartRes:t,error:n}=e;return M?n?((0,A.A)("addOrderCbError",{fields:{data:JSON.stringify(n)}}),void La.A.error((0,Os.t)("main_gallery.oneClickPayFailToast",{ns:"goods"}))):void N(e):n?(0,Fr.Ku)(n):void 0}})}}}),sI=(0,d_.A)(_S.prototype,"giftGoodsInfo",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,d_.A)(_S.prototype,"isGiftGoods",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"isGiftGoods"),_S.prototype),cI=(0,d_.A)(_S.prototype,"addGiftPick",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const e=await this.$service.giftPick({pick_goods:[{pick_mall_id:this.goods?.mallId,pick_goods_id:this.goods?.goodsId,pick_sku_id:this.selectedSku?.skuId,event_sn:this.query._oak_activity_sn}]});if(1===e?.pickedStatus){const t=await this.$service.queryPromotionInfo({page_sn:this.pageSn,promotion:this.query.promotion,promotion_source:2});return t?.result?.freeGiftInfoVo?((0,A.A)("AddGiftPickSuccess",{groupId:"90647"}),{...t.result.freeGiftInfoVo,pickedText:e.pickedText}):void(0,A.A)("AddGiftPickException",{groupId:"90647",fields:{data:JSON.stringify(e)}})}if(e?.pickedText)return(0,A.A)("AddGiftPickError",{groupId:"90647"}),void La.A.error(e.pickedText);(0,A.A)("AddGiftPickException",{groupId:"90647",fields:{data:JSON.stringify(e)}})}}}),uI=(0,d_.A)(_S.prototype,"queryOrderInfo",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const{parent_order_sn:e}=this.query||{};if(!e)return null;const t={query_sn:e,page_from:200,refer_page_sn:xn.LM};return await this.$service.queryOrderInfo(t)}}}),(0,d_.A)(_S.prototype,"skuSalePriceRichMap",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"skuSalePriceRichMap"),_S.prototype),(0,d_.A)(_S.prototype,"skuSalePricePrefixRichMap",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"skuSalePricePrefixRichMap"),_S.prototype),(0,d_.A)(_S.prototype,"skuSalePriceSuffixRichMap",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"skuSalePriceSuffixRichMap"),_S.prototype),(0,d_.A)(_S.prototype,"goodsSalePriceRich",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"goodsSalePriceRich"),_S.prototype),(0,d_.A)(_S.prototype,"skuSalePriceInfoRichMap",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"skuSalePriceInfoRichMap"),_S.prototype),(0,d_.A)(_S.prototype,"promotionExtraPriceOffMap",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"promotionExtraPriceOffMap"),_S.prototype),(0,d_.A)(_S.prototype,"selectedBenefitTags",[y_.EW,BI],Object.getOwnPropertyDescriptor(_S.prototype,"selectedBenefitTags"),_S.prototype),(0,d_.A)(_S.prototype,"customerServiceData",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"customerServiceData"),_S.prototype),(0,d_.A)(_S.prototype,"brandCardData",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"brandCardData"),_S.prototype),(0,d_.A)(_S.prototype,"mallBrandCard",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"mallBrandCard"),_S.prototype),(0,d_.A)(_S.prototype,"isShowShareBlock",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"isShowShareBlock"),_S.prototype),mI=(0,d_.A)(_S.prototype,"isShowMarketPrice",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),dI=(0,d_.A)(_S.prototype,"report",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,d_.A)(_S.prototype,"isShowReport",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"isShowReport"),_S.prototype),pI=(0,d_.A)(_S.prototype,"isChangeSpecBySkuSelector",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gI=(0,d_.A)(_S.prototype,"isSkuSelectorCloseChange",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hI=(0,d_.A)(_S.prototype,"setIsSkuSelectorCloseChange",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.isSkuSelectorCloseChange++}}}),fI=(0,d_.A)(_S.prototype,"sideBarPromo",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),yI=(0,d_.A)(_S.prototype,"promotionCarousel",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_I=(0,d_.A)(_S.prototype,"bottomButtonBenefit",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),EI=(0,d_.A)(_S.prototype,"quantitySelectorBenefit",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),bI=(0,d_.A)(_S.prototype,"queryWaistBannerInit",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),SI=(0,d_.A)(_S.prototype,"queryCollectPromotion",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.isGShoppingRobot)return{};const a=`${t?.sku_id||e.optimalSku?.skuId}-${e.qty||1}`;if(e.promotionLastUniqueId===a&&!n)return{};e.promotionLastUniqueId=a;const r=++e.promotionRequestId;let o={};const{buyNowInstallmentBenefit:i}=e.control?.detailSupportExperimentControl||{};e.buyNowButton&&(o={need_buy_now_benefit:1,buy_now_quantity:e.addedAmount||e.qty||1,need_buy_now_installment_benefit:i?1:0});const l=1===e.control?.detailSupportExperimentControl?.skuRefreshWaistBanner,s=1===e.control?.detailSupportExperimentControl?.minBuyQty,c=s?e.addedAmount||e.qty:null,u={last_best_collect_promotion_id_list:e.lastBestCollectPromotionIdList,goods_id:e.goodsId,need_waist_banner:l?1:0,scene:0,need_complete_order_benefits:1,need_add_cart_stock_tag:1,goods_ext:e.goodsExt,sku_id:e.optimalSku?.skuId,need_quantity_selector_benefits:e.quantitySelectorBenefit?0:1,need_add_cart_benefits:e.control?.detailSupportExperimentControl?.supportAddCartBenefits?1:0,sku_ext:e.optimalSku?.skuExt,need_min_qty_benefit:s?1:0,sku_count:c,sku_change_status:(()=>{const{skuId:t}=e.optimalSku||{},n=e.originShoppingCartSkuAmountMap?.[t]||0,a=e.prevShoppingCartSkuAmountMap?.[t]||0;return n>a?1:n<a?2:0})(),need_black_add_cart_benefits:e.buyNowButton?1:0,_oak_page_source:e.query?._oak_page_source,...o,...t},{collectPromotion:m,error:d,lastBestCollectPromotionIdList:p,progressShow:g,cartLink:h,carousel:f,quantitySelectorBenefit:y,addCartBenefit:_,goToCartBenefit:E,waistBanner:b,waistBannerFreightType:S,bottomButtonBenefit:v,minQtyBenefit:I}=await e.$service.queryCollectOrderInfo(u),{addCartBenefitRich:w,addCartBenefitRichBlack:k,buyNowBenefitRich:N}=_||{},{benefit:A}=E||{};return e.addCartBenefitRich&&u.sku_id&&(e.addCartBenefitRich[u.sku_id]=w?.[u.sku_id]||null),s&&c&&e.updateQtyModifyPriceMap(c,I?.price||null),e.addCartBenefitRichBlack&&u.sku_id&&(e.addCartBenefitRichBlack[u.sku_id]=k?.[u.sku_id]||null),e.buyNowBenefitRich&&u.sku_id&&(e.buyNowBenefitRich[u.sku_id]=N?.[u.sku_id]||null),e.quantitySelectorBenefit||(e.quantitySelectorBenefit=y),l&&(e.queryWaistBannerInit=!0,e.waistBanner=b),r!==e.promotionRequestId||d||(e.collectPromotion={...m,progressShow:g,cartLink:h},e.lastBestCollectPromotionIdList=p,e.promotionCarousel=f,e.waistBannerFreightType=S,e.bottomButtonBenefit=v,e.goToCartBenefitRich=A),d?(e.promotionLastUniqueId="",{}):{collectPromotion:m,promotionCarousel:f,waistBannerFreightType:S}}}}),(0,d_.A)(_S.prototype,"showProductWarning",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"showProductWarning"),_S.prototype),(0,d_.A)(_S.prototype,"similarSizeSpecData",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"similarSizeSpecData"),_S.prototype),(0,d_.A)(_S.prototype,"linePriceExplainSumerKey",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"linePriceExplainSumerKey"),_S.prototype),(0,d_.A)(_S.prototype,"showNewDomStructure",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"showNewDomStructure"),_S.prototype),(0,d_.A)(_S.prototype,"quantityContentShow",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"quantityContentShow"),_S.prototype),(0,d_.A)(_S.prototype,"recentlyLowestPriceNotice",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"recentlyLowestPriceNotice"),_S.prototype),(0,d_.A)(_S.prototype,"bestSkuByQuantityTip",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"bestSkuByQuantityTip"),_S.prototype),(0,d_.A)(_S.prototype,"shareInfo",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"shareInfo"),_S.prototype),(0,d_.A)(_S.prototype,"isShowPayLaterV2",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"isShowPayLaterV2"),_S.prototype),(0,d_.A)(_S.prototype,"supportCollectBenefit",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"supportCollectBenefit"),_S.prototype),(0,d_.A)(_S.prototype,"isShowNewSize",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"isShowNewSize"),_S.prototype),vI=(0,d_.A)(_S.prototype,"selectLocationId",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),II=(0,d_.A)(_S.prototype,"initSelectLocationId",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.selectLocationId||(this.selectLocationId=this.sizeSpecModule?.selectLocationId)}}}),wI=(0,d_.A)(_S.prototype,"updateSelectLocationId",[y_.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.selectLocationId=e}}}),(0,d_.A)(_S.prototype,"isSupportNewCustomized",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"isSupportNewCustomized"),_S.prototype),kI=(0,d_.A)(_S.prototype,"promotionUnderThePriceModule",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),NI=(0,d_.A)(_S.prototype,"promotionUnderThePriceModuleV2",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),AI=(0,d_.A)(_S.prototype,"richTextBlockUnderThePriceModule",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),CI=(0,d_.A)(_S.prototype,"payBenefit",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,d_.A)(_S.prototype,"isShowPayBenefit",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"isShowPayBenefit"),_S.prototype),(0,d_.A)(_S.prototype,"supportActivityAtmosphere",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"supportActivityAtmosphere"),_S.prototype),TI=(0,d_.A)(_S.prototype,"activityInfo",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,d_.A)(_S.prototype,"buyNowButton",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"buyNowButton"),_S.prototype),(0,d_.A)(_S.prototype,"supportFreeShippingInWaistBanner",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"supportFreeShippingInWaistBanner"),_S.prototype),xI=(0,d_.A)(_S.prototype,"waistBannerFreightType",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),PI=(0,d_.A)(_S.prototype,"commitment",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),RI=(0,d_.A)(_S.prototype,"video",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),MI=(0,d_.A)(_S.prototype,"shipping",[y_.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,d_.A)(_S.prototype,"isShowAgePopup",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"isShowAgePopup"),_S.prototype),(0,d_.A)(_S.prototype,"soldoutPicSpecValueIds",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"soldoutPicSpecValueIds"),_S.prototype),(0,d_.A)(_S.prototype,"showSpecSoldoutTagV1",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"showSpecSoldoutTagV1"),_S.prototype),(0,d_.A)(_S.prototype,"showSpecSoldoutTagV2",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"showSpecSoldoutTagV2"),_S.prototype),(0,d_.A)(_S.prototype,"isGoodsDetailRecSupportU2i",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"isGoodsDetailRecSupportU2i"),_S.prototype),(0,d_.A)(_S.prototype,"isEnhanceSpecStyle",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"isEnhanceSpecStyle"),_S.prototype),(0,d_.A)(_S.prototype,"isEnhancedStockGroupClearanceStyle",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"isEnhancedStockGroupClearanceStyle"),_S.prototype),(0,d_.A)(_S.prototype,"explicitlySelected",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"explicitlySelected"),_S.prototype),(0,d_.A)(_S.prototype,"showGoodsDetailModuleOptimized",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"showGoodsDetailModuleOptimized"),_S.prototype),(0,d_.A)(_S.prototype,"skuSoldOutToast",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"skuSoldOutToast"),_S.prototype),(0,d_.A)(_S.prototype,"showActivityPriceWrap",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"showActivityPriceWrap"),_S.prototype),(0,d_.A)(_S.prototype,"titleSpecHighlight",[y_.EW],Object.getOwnPropertyDescriptor(_S.prototype,"titleSpecHighlight"),_S.prototype),_S);const zI=(0,Xt.A)((0,N.HF)({store:WI},xn.jd),i.PA)((()=>{(0,p.B)(["goods","global","comments","bec-fe.web-pay","bec-fe.web-share","bec-fe.web-card-bind","bec-fe.web-address"]);const e=(0,N.Pj)(),{$axiosHttp:t,isNormalStatus:n,isSEOSoldOut:r,goods:i,query:h,triggerGlobalResize:P,webLayoutData:R,goodsSection:M,isRobot:D,countryIndexMap:B,favStore:L,matchingOutfits:O,crawlerType:W,setSupportTouch:z,isGiftGoods:F,skuShow:U,sku:G,switches:H,error:j,useLoginRisk:V,useRiskShowDialog:q,webLayoutError:K,addOrderInfoStore:$,isShowAgePopup:Q,showGoodsDetailModuleOptimized:Y,hideBottomRec:J,activityRecStore:X,initIsSupportTouch:Z,moduleMap:ee,showNewDomStructure:te}=e,{isAddOrderScene:ne,order:ae}=$,re=(0,a.useRef)(null),[oe,ie]=(0,a.useState)(!1);(0,a.useEffect)((()=>{ie(!0)}),[]),(0,T.Z)({$axiosHttp:t,pageName:"shopping_cart"}),(0,a.useEffect)((()=>{Z()}),[]),(0,a.useEffect)((()=>{(0,_.eY)()}),[]),(0,s.A)(),(0,c.A)((()=>{(0,m.e3)(),E.x.close()})),(0,u.A)((()=>{(0,b.YY)(),L.refreshFavState(),(0,m.g5)(),E.x.connect()})),(0,a.useEffect)((()=>{"ontouchstart"in window&&z(!0)}),[]),(0,nn.T)((()=>{const{auto_show_sku_panel:e}=h||{},{disableAutoShowSku:t=!1}=H||{},{popup:a}=ee?.ageConfirmationPopupModule?.data||{};!(!t&&"1"===e&&n&&G?.length>1)||F||ne||Q||a?.popupType&&a?.popupRich||(U({addType:xn.H$.addCart,cartScene:xn.xi.MainGoods,needInitCheckSpec:!0,pageSource:xn.Xh.addCart,frontControl:{supportPersonalize:!0}}),(0,A.A)("autoShowSkuPanel"))})),(0,a.useEffect)((()=>{const{pay_success:e,...t}=h;if("1"===e){const e=(0,d.rE)(t,location.pathname);(0,Zt.ci)(e)}else(0,k.f)();const n=["thumb_url","_web_cover","pic_h","pic_w","auto_show_sku_panel","auto_show_popup"].reduce(((e,t)=>(h[t]&&(e[t]=null),e)),{});Object.keys(n).length&&(0,Zt.ci)((0,d.rE)(n,location.href))}),[]),(0,a.useEffect)((()=>{(0,C.A)();const e=()=>{(0,en.x)()>0&&((0,tn.Tn)({op:"up_slide"}),document.removeEventListener("scroll",e))};document.addEventListener("scroll",e),(0,l.Wz)(t,"goods_detail_page");const n=window.navigator.userAgent,a=[y.YK.BingBot,y.YK.BingBotIp,y.YK.BingBotIpShopping,`${y.YK.BingBotIp}Shopping`],r=(0,y.EU)(n),o=n.indexOf("HeadlessChrome")>-1||n.indexOf("bingbot")>-1||n.indexOf("adidxbot")>-1||n.indexOf("MicrosoftPreview")>-1;W&&a.includes(W)||a.includes(r)||o?(0,f.ZM)():(0,f.Vi)()}),[]),function(){const e=(0,a.useRef)(),t=(0,a.useRef)(),n=(0,a.useCallback)((function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!async function(){const a=await(0,f.im)();(0,f.Ay)({tags:{type:"report_pwa_install_status",status:e.current,reason:t.current,hasManifestLink:!!document.querySelector('link[rel="manifest"]'),registered:a,pageName:"w/goods",inPWA:(0,f.WX)(),...n}})}()}),[]);(0,a.useEffect)((()=>{const a=(0,f.SU)().subscribe(((a,r)=>{if(e.current=a,t.current=r,a===f.qP.UnInstalled){const e=Date.now()-window.performance.timing.loadEventEnd;n({time_past:(e/1e3).toFixed(0)})}}));return()=>{a()}}),[]),(0,a.useEffect)((()=>{const e=[],t=()=>{n({time:"load"}),e.push(setTimeout((()=>n({time:"2s"})),2e3)),e.push(setTimeout((()=>n({time:"5s"})),5e3)),e.push(setTimeout((()=>n({time:"10s"})),1e4))};return window.addEventListener("load",t),()=>{window.removeEventListener("load",t),e.forEach((e=>clearTimeout(e)))}}),[])}(),(0,a.useEffect)((()=>{const e=e=>{const{target:t,key:n}=e||{};"Enter"===n&&"1"===t?.dataset?.ariaEnter&&(e.preventDefault(),t?.click?.(e))};return window.addEventListener("keyup",e),()=>{window.removeEventListener("keyup",e)}}),[]);const le=(0,a.useMemo)((()=>({enableSidebarLayout:!ae?.allowPurchase,enableFullSidebar:!0})),[ae]),se=(0,a.useRef)(S.f.None),ce=(0,a.useMemo)((()=>({getContentType:e=>{const t=e?.sidebarWidth;return t!==se.current&&(se.current=t,Promise.resolve().then((()=>{P(),re.current&&(t===S.f.Double?re.current.classList.contains("doubleSideCart")||re.current.classList.add("doubleSideCart"):re.current.classList.remove("doubleSideCart"))}))),t>0}})),[]),ue=(0,a.useMemo)((()=>!(!R?.headerData?.cartNum||(0,S.N)(R.headerData.cartNum)!==S.f.Double)),[R?.headerData?.cartNum]),me=(0,a.useMemo)((()=>!!D||(M||{})[u_.bottom_recommend_section]),[M,D]);if((0,a.useEffect)((()=>{e.goodsId||(0,A.A)("goodsUrlMissingGoodsId",{groupId:"90647"})}),[]),V){if([w.D.LoginRisk].includes(j?.errorCode)&&t)return a.createElement(r_,{error:j,scene:l_,$axiosHttp:t});if([w.D.LoginRisk].includes(K?.errorCode)&&t)return a.createElement(r_,{error:K,scene:s_,$axiosHttp:t})}if(q){if([w.D.VerifyRisk].includes(j?.errorCode))return a.createElement(c_,{error:j,scene:l_});if([w.D.VerifyRisk].includes(K?.errorCode))return a.createElement(c_,{error:K,scene:s_})}if(Q)return a.createElement($r,null);const de=a.createElement(a.Fragment,null,a.createElement($y,null),!D&&a.createElement(Jt.A,null),O?a.createElement(jy,null):null,a.createElement(Oy,null),Y?a.createElement(To,null):a.createElement(po,null),a.createElement(xi,null),Y?a.createElement(Lo,null):a.createElement(zo,null),X?.showActivityRec?a.createElement(Hn,null):null);return a.createElement(v.y.Provider,{value:le},a.createElement(Na,{enableScale:!0,enableScaleTo768:!0,allInCenterLayout:ce,pageSn:xn.LM},a.createElement(sa,null),n||r?a.createElement(a.Fragment,null,a.createElement(Ho,null),a.createElement("div",{className:o()(Kr().wrap,{[Kr().wrapDisplayBlock]:te,[Kr().wrapDisplayBlockMask]:te&&oe,doubleSideCart:ue}),ref:re},a.createElement(I.H1,{"aria-label":i?.goodsName,className:Kr().goodsName},i?.goodsName),a.createElement("div",{className:o()(Kr().left,{[Kr().floatLeft]:te}),id:"leftContent"},a.createElement(Wr,null),a.createElement(g.zj,null),te?null:de),a.createElement(iy,{className:te?Kr().detail:""}),te?a.createElement("div",{className:o()(Kr().left,Kr().leftBottom),id:"leftContentBottom"},de):null),!!me&&!J&&a.createElement(a_,null)):a.createElement(a.Fragment,null,a.createElement(Ho,null),a.createElement(Vr,null),a.createElement(g.zj,null),!!me&&!J&&a.createElement(a_,{isSoldout:!0})),!!B&&a.createElement(x.A,{data:B}),!D&&a.createElement(Yt,{pageSn:xn.LM}),!D&&a.createElement(ia,null)))}));zI.initClient=()=>{const e=(0,d.mA)(window.location.search),t=(0,h.H_)(window.navigator.userAgent);e.srsltid&&!t&&(0,Zt.ci)((0,d.rE)({_x_ads_id:147168009798},location.href))},zI.renderStart4LinkHtml=e=>function(e){const{__req:t,isSupportWebp:n,isCSR:r}=e||{};if(r)return;const{top_gallery_url:o}=t.query,i=Array.isArray(o)?o[0]:o;return i?a.createElement(Jy,{url:i,isSupportWebp:n}):void 0}(e),zI.renderEnd44LinkHtml=e=>{try{Zy(e)}catch(e){}};var FI=zI;const{page:UI,startClient:GI}=(0,N.a3)(FI)}},function(e){e.O(0,[1459],(function(){[6903,7302,545,8096,8544,6726,2873].map(e.E)}),5);e.O(0,[7302,8096,7682,8518,5656,5025,1024,4261,9502,399,4363,249],(function(){return t=64416,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/modernjs/goods_ab0a6898e1e1cc6b83f2.js.map